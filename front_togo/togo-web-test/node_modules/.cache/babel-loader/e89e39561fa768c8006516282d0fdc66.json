{"ast":null,"code":"import _regeneratorRuntime from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useLayoutEffect,useState}from\"react\";import\"./App.css\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import\"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";import{useSelector}from\"react-redux\";import{I18nProvider}from'../../i18n';import{LOCALES_TYPES}from\"../../i18n/locales\";import Account from\"../../Container/Account/Account\";import Home from\"../../Container/Home/Home\";import Toast from\"../Toast\";import Privacy from\"../Privacy\";import Login from\"../Login\";import ActivationCodeForm from\"../ActivationCodeForm\";import SelectLanguage from\"../SelectLanguage\";import PersonalInfoForm from\"../PersonalInfoForm\";import BusinessInfoForm from\"../BusinessInfoForm\";import ViewOrder from\"../Order/ViewOrder\";import Dashboard from\"../Dashboard\";import AdminPanel from\"../AdminPanel\";import TransporterPersonalInfo from\"../TransporterPersonalInfo\";import VehicleDetails from\"../VechicleDetails\";import WorkInfo from\"../WorkInfo\";import{getUserToken,onMessageListener}from\"../../firebase\";var App=function App(){var language=useSelector(function(state){return state.general.language;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isTokenFound=_useState2[0],setTokenFound=_useState2[1];console.log(\"Token found\",isTokenFound);// To load once\nuseEffect(function(){var data;function tokenFunc(){return _tokenFunc.apply(this,arguments);}function _tokenFunc(){_tokenFunc=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUserToken(setTokenFound);case 2:data=_context.sent;if(data){console.log(\"Token is\",data);}return _context.abrupt(\"return\",data);case 5:case\"end\":return _context.stop();}}},_callee);}));return _tokenFunc.apply(this,arguments);}tokenFunc();},[setTokenFound]);var _useState3=useState({title:\"\",body:\"\"}),_useState4=_slicedToArray(_useState3,2),notification=_useState4[0],setNotification=_useState4[1];console.log(notification);onMessageListener().then(function(payload){setNotification({title:payload.notification.title,body:payload.notification.body});console.log(payload);}).catch(function(err){return console.log(\"failed: \",err);});useLayoutEffect(function(){document.dir=language===LOCALES_TYPES.ENGLISH?\"ltr\":\"rtl\";document.documentElement.lang=language;if(language===LOCALES_TYPES.ENGLISH){document.getElementById(\"bootStyle\").href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css\";}else{document.getElementById(\"bootStyle\").href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.rtl.min.css\";}},[language]);return/*#__PURE__*/React.createElement(I18nProvider,{locale:language},/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/account\",component:Account}),/*#__PURE__*/React.createElement(Route,{path:\"/privacy\",component:Privacy}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",component:Login}),/*#__PURE__*/React.createElement(Route,{path:\"/activate\",component:ActivationCodeForm}),/*#__PURE__*/React.createElement(Route,{path:\"/lang\",component:SelectLanguage}),/*#__PURE__*/React.createElement(Route,{path:\"/personal-info\",component:PersonalInfoForm}),/*#__PURE__*/React.createElement(Route,{path:\"/trans-personal-info\",component:TransporterPersonalInfo}),/*#__PURE__*/React.createElement(Route,{path:\"/vehicle-info\",component:VehicleDetails}),/*#__PURE__*/React.createElement(Route,{path:\"/work-info\",component:WorkInfo}),/*#__PURE__*/React.createElement(Route,{path:\"/business-info\",component:BusinessInfoForm}),/*#__PURE__*/React.createElement(Route,{path:\"/vieworder/:id\",component:ViewOrder}),/*#__PURE__*/React.createElement(Route,{path:\"/dashboard\",component:Dashboard}),/*#__PURE__*/React.createElement(Route,{path:\"/adminapp\",component:AdminPanel}),/*#__PURE__*/React.createElement(Route,{path:\"/\",component:Home,exact:true}))),/*#__PURE__*/React.createElement(Toast,null));};export default App;","map":null,"metadata":{},"sourceType":"module"}