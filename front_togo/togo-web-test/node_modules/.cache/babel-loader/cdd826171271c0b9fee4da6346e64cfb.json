{"ast":null,"code":"import _slicedToArray from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import translate from\"../i18n/translate\";import React,{useEffect,useState}from\"react\";import{Button,Col,Form,Modal,Row,FloatingLabel,Spinner}from\"react-bootstrap\";import{CreateAddressReq,GetCityRegion}from\"./APIs/OrdersAPIs\";export default function CreateAddress(_ref){var _cities$map;var onSuccess=_ref.onSuccess,children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cities=_useState4[0],setCities=_useState4[1];useEffect(function(){//if(show === true) {\nGetCityRegion().then(function(res){setCities(res.data.server_response);});//}\n},[]);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),validated=_useState8[0],setValidated=_useState8[1];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){setShow(true);}},children),/*#__PURE__*/React.createElement(Modal,{show:show,onHide:function onHide(){setShow(false);},centered:true,animation:false,backdrop:\"static\",fullscreen:true},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,null,translate(\"ORDERS.ADD_ADDRESS\"))),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(Form,{id:\"addressForm\",validated:validated,noValidate:true/* ref={formRef} */,onSubmit:function onSubmit(event){event.preventDefault();event.stopPropagation();var formData=new FormData(event.target),formDataObj=Object.fromEntries(formData.entries());var form=event.currentTarget;if(form.checkValidity()===true){setLoading(true);CreateAddressReq(formDataObj).then(function(){setLoading(false);setShow(false);onSuccess&&onSuccess();});}setValidated(true);console.log(formDataObj);}},/*#__PURE__*/React.createElement(FloatingLabel,{className:\"mb-3\",controlId:\"formBasicEmail\",label:translate(\"ORDERS.ADDRESS_NAME\")},/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"...\",name:\"placename\",required:true}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please add place name\")),/*#__PURE__*/React.createElement(FloatingLabel,{className:\"mb-3\",controlId:\"userTel\",label:translate(\"ORDERS.ADDRESS_PHONE\")},/*#__PURE__*/React.createElement(Form.Control,{type:\"tel\",placeholder:\"...\",name:\"phone\",pattern:\"^05[0-9]{8}?$\",required:true}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please enter a valid phone number example 0568000000\")),/*#__PURE__*/React.createElement(FloatingLabel,{className:\"mb-3\",controlId:\"AddressCity\",label:translate(\"ORDERS.ADDRESS_CITY\")},/*#__PURE__*/React.createElement(Form.Select,{name:\"city\"},cities===null||cities===void 0?void 0:(_cities$map=cities.map)===null||_cities$map===void 0?void 0:_cities$map.call(cities,function(city){return/*#__PURE__*/React.createElement(\"option\",{key:city.IdCity,value:city.IdCity},city.Name);}))),/*#__PURE__*/React.createElement(FloatingLabel,{className:\"mb-3\",controlId:\"userAddress\",label:translate(\"ORDERS.ADDRESS\")},/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"...\",name:\"address\"})),/*#__PURE__*/React.createElement(FloatingLabel,{className:\"mb-3\",controlId:\"addressInfo\",label:translate(\"ORDERS.ADDRESS_INFO\")},/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"...\",name:\"addressinfo\"})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:true},/*#__PURE__*/React.createElement(FloatingLabel,{className:\"mb-3\",controlId:\"addCountry\",label:translate(\"ORDERS.ADDRESS_COUNTRY\")},/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"...\",name:\"country\"}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FloatingLabel,{className:\"mb-3\",controlId:\"addressCode\",label:translate(\"ORDERS.ADDRESS_CODE\")},/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"...\",name:\"zipcode\"})))),/*#__PURE__*/React.createElement(Form.Check,{type:\"switch\",id:\"custom-switch\",label:translate(\"ORDERS.ADDRESS_SHARED\"),name:\"isShared\"}),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},loading&&/*#__PURE__*/React.createElement(Spinner,{size:\"sm\",className:\"me-1\",animation:\"border\",variant:\"light\"}),translate(\"GENERAL.PROCEED\"))))));}","map":null,"metadata":{},"sourceType":"module"}