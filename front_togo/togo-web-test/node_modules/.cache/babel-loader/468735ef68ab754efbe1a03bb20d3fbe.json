{"ast":null,"code":"import _defineProperty from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toArray\";\nimport _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport { walkObject } from \"@chakra-ui/utils\";\nimport { calc } from \"./calc\";\nimport { cssVar } from \"./css-var\";\nexport function createThemeVars(target, options) {\n  var context = {\n    cssMap: {},\n    cssVars: {}\n  };\n  walkObject(target, function (value, path) {\n    var _tokenHandlerMap$firs;\n\n    // firstKey will be e.g. \"space\"\n    var _path = _slicedToArray(path, 1),\n      firstKey = _path[0];\n    var handler = (_tokenHandlerMap$firs = tokenHandlerMap[firstKey]) != null ? _tokenHandlerMap$firs : tokenHandlerMap.defaultHandler;\n    var _handler = handler(path, value, options),\n      cssVars = _handler.cssVars,\n      cssMap = _handler.cssMap;\n    Object.assign(context.cssVars, cssVars);\n    Object.assign(context.cssMap, cssMap);\n  });\n  return context;\n}\n\n/**\n * Define transformation handlers for ThemeScale\n */\nvar tokenHandlerMap = {\n  space: function space(keys, value, options) {\n    var properties = tokenHandlerMap.defaultHandler(keys, value, options);\n    var _keys = _toArray(keys),\n      firstKey = _keys[0],\n      referenceKeys = _keys.slice(1);\n    var negativeLookupKey = firstKey + \".-\" + referenceKeys.join(\".\");\n    var negativeVarKey = keys.join(\"-\");\n    var _cssVar = cssVar(negativeVarKey, undefined, options.cssVarPrefix),\n      variable = _cssVar.variable,\n      reference = _cssVar.reference;\n    var negativeValue = calc.negate(value);\n    var varRef = calc.negate(reference);\n    return {\n      cssVars: properties.cssVars,\n      cssMap: _extends({}, properties.cssMap, _defineProperty({}, negativeLookupKey, {\n        value: \"\" + negativeValue,\n        var: \"\" + variable,\n        varRef: varRef\n      }))\n    };\n  },\n  defaultHandler: function defaultHandler(keys, value, options) {\n    var lookupKey = keys.join(\".\");\n    var varKey = keys.join(\"-\");\n    var _cssVar2 = cssVar(varKey, undefined, options.cssVarPrefix),\n      variable = _cssVar2.variable,\n      reference = _cssVar2.reference;\n    return {\n      cssVars: _defineProperty({}, variable, value),\n      cssMap: _defineProperty({}, lookupKey, {\n        value: value,\n        var: variable,\n        varRef: reference\n      })\n    };\n  }\n};","map":{"version":3,"names":["walkObject","calc","cssVar","createThemeVars","target","options","context","cssMap","cssVars","value","path","_tokenHandlerMap$firs","_path","_slicedToArray","firstKey","handler","tokenHandlerMap","defaultHandler","_handler","Object","assign","space","keys","properties","_keys","_toArray","referenceKeys","slice","negativeLookupKey","join","negativeVarKey","_cssVar","undefined","cssVarPrefix","variable","reference","negativeValue","negate","varRef","_extends","_defineProperty","var","lookupKey","varKey","_cssVar2"],"sources":["../../../src/create-theme-vars/create-theme-vars.ts"],"sourcesContent":["import { Dict, walkObject } from \"@chakra-ui/utils\"\nimport { ThemeScale } from \"./theme-tokens\"\nimport { calc, Operand } from \"./calc\"\nimport { cssVar } from \"./css-var\"\n\nexport interface CreateThemeVarsOptions {\n  cssVarPrefix?: string\n}\n\nexport interface ThemeVars {\n  cssVars: Dict\n  cssMap: Dict\n}\n\nexport function createThemeVars(target: Dict, options: CreateThemeVarsOptions) {\n  const context: ThemeVars = {\n    cssMap: {},\n    cssVars: {},\n  }\n\n  walkObject(target, (value, path) => {\n    // firstKey will be e.g. \"space\"\n    const [firstKey] = path\n\n    const handler = tokenHandlerMap[firstKey] ?? tokenHandlerMap.defaultHandler\n\n    const { cssVars, cssMap } = handler(path, value, options)\n    Object.assign(context.cssVars, cssVars)\n    Object.assign(context.cssMap, cssMap)\n  })\n\n  return context\n}\n\ntype TokenHandler = (\n  keys: string[],\n  value: unknown | { reference: string },\n  options: CreateThemeVarsOptions,\n) => ThemeVars\n\n/**\n * Define transformation handlers for ThemeScale\n */\nconst tokenHandlerMap: Partial<Record<ThemeScale, TokenHandler>> & {\n  defaultHandler: TokenHandler\n} = {\n  space: (keys, value, options) => {\n    const properties = tokenHandlerMap.defaultHandler(keys, value, options)\n    const [firstKey, ...referenceKeys] = keys\n\n    const negativeLookupKey = `${firstKey}.-${referenceKeys.join(\".\")}`\n    const negativeVarKey = keys.join(\"-\")\n    const { variable, reference } = cssVar(\n      negativeVarKey,\n      undefined,\n      options.cssVarPrefix,\n    )\n\n    const negativeValue = calc.negate(value as Operand)\n    const varRef = calc.negate(reference)\n\n    return {\n      cssVars: properties.cssVars,\n      cssMap: {\n        ...properties.cssMap,\n        [negativeLookupKey]: {\n          value: `${negativeValue}`,\n          var: `${variable}`,\n          varRef,\n        },\n      },\n    }\n  },\n  defaultHandler: (keys, value, options) => {\n    const lookupKey = keys.join(\".\")\n    const varKey = keys.join(\"-\")\n\n    const { variable, reference } = cssVar(\n      varKey,\n      undefined,\n      options.cssVarPrefix,\n    )\n\n    return {\n      cssVars: {\n        [variable]: value,\n      },\n      cssMap: {\n        [lookupKey]: {\n          value,\n          var: variable,\n          varRef: reference,\n        },\n      },\n    }\n  },\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}