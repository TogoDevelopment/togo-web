{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/Header/Header.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./Header.css\";\nimport { Menu, Button, MenuButton, MenuList, MenuItem, Box, Icon, Text, Flex, Image } from \"@chakra-ui/react\";\nimport { SettingsIcon } from '@chakra-ui/icons';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { IoIosWallet, IoIosCard, IoMdPerson, IoIosExit } from 'react-icons/io';\nimport { IoCaretBack } from 'react-icons/io5';\nimport { Link } from \"react-router-dom\";\nimport { getWallet } from \"../../APIs/ProfileAPIs\";\nimport { toastMessage } from \"../../Actions/GeneralActions\";\nimport { LOGOUT } from \"../../Actions/ActionsTypes\";\nimport whiteLogo from '../../assets/whiteLogo.png';\nimport translate from \"../../i18n/translate\";\nimport LanguageSelector from \"../LanguageSelector/LanguageSelector\";\nimport Loader from \"../Loader/Loader\";\nvar styles = {\n  settingsButton: {\n    variant: \"ghost\",\n    size: \"lg\",\n    iconSpacing: 0,\n    lineHeight: \"0.2\",\n    _active: {\n      background: \"none\",\n      transform: \"scale(1.3)\",\n      color: \"black\",\n      opacity: \"0.5\"\n    },\n    _hover: {\n      transform: \"scale(1.3)\"\n    },\n    _focus: {\n      outline: \"none\"\n    }\n  },\n  actionsContainer: {\n    position: \"absolute\",\n    top: \"1rem\",\n    right: \"1rem\",\n    alignItems: \"center\",\n    background: \"#00000036\",\n    borderRadius: \"29px\"\n  },\n  headerItemsContainer: {\n    alignItems: \"center\",\n    cursor: \"pointer\",\n    px: \"1.5rem\",\n    _hover: {\n      transform: \"scale(1.1)\",\n      underline: \"unset\"\n    }\n  },\n  horizontalBreakLine: {\n    w: \"3px\",\n    h: \"20px\",\n    bgColor: \"white\",\n    borderRadius: 999,\n    opacity: 0.5\n  },\n  link: {\n    color: \"white\",\n    textDecoration: \"none\"\n  },\n  backBtnContainer: {\n    position: \"absolute\",\n    left: \"1rem\",\n    top: \"1rem\",\n    alignItems: \"center\",\n    pt: \"0.2rem\"\n  },\n  logo: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    _hover: {\n      opacity: 0.5,\n      transform: \"scale(1.2) translate(-40%, -40%)\"\n    }\n  },\n  headerStyle: {\n    position: \"relative\",\n    background: \"linear-gradient(to left, #26A69A,#69D4A5)\",\n    color: \"#fff\",\n    textAlign: \"center\",\n    padding: \"40px 0\",\n    height: \"140px\",\n    direction: \"ltr\"\n  }\n};\n\nfunction Header() {\n  var authenticated = useSelector(function (state) {\n    return state.general.authenticated;\n  });\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      wallet = _useState2[0],\n      setWallet = _useState2[1];\n\n  var history = useHistory();\n\n  var _useState3 = useState(history.location.pathname === '/orders' || history.location.pathname === '/'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isHomePage = _useState4[0],\n      setIsHomePage = _useState4[1];\n\n  var dispatch = useDispatch();\n\n  var handleLogout = function handleLogout() {\n    dispatch({\n      type: LOGOUT\n    });\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"TokenDevice\");\n    localStorage.removeItem(\"UserType\");\n    localStorage.removeItem(\"userId\");\n    history.push(\"/\");\n  };\n\n  useEffect(function () {\n    if (authenticated) {\n      getWallet().then(function (_ref) {\n        var server_response = _ref.data.server_response;\n        setWallet(server_response[0].TransporterBalance);\n      }).catch(function (err) {\n        dispatch(toastMessage(err));\n      });\n    }\n\n    return function () {\n      return setWallet(null);\n    };\n  }, [authenticated, dispatch]);\n  useEffect(function () {\n    var historyUnListen = history.listen(function (location) {\n      setIsHomePage(location.pathname === '/account/orders' || location.pathname === '/');\n    });\n    return function () {\n      return historyUnListen();\n    };\n  }, [history]);\n  return /*#__PURE__*/React.createElement(\"header\", {\n    style: styles.headerStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, authenticated && /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, !isHomePage && /*#__PURE__*/React.createElement(Flex, Object.assign({}, styles.backBtnContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Flex, Object.assign({}, styles.headerItemsContainer, {\n    onClick: function onClick() {\n      return history.goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Icon, {\n    as: IoCaretBack,\n    mr: 2,\n    fontSize: \"2xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, translate(\"HEADER.BACK\")))), /*#__PURE__*/React.createElement(Flex, Object.assign({}, styles.actionsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/account/main/financial-transaction\",\n    style: styles.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Flex, Object.assign({}, styles.headerItemsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Icon, {\n    as: IoIosWallet,\n    fontSize: \"2xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 33\n    }\n  }), isNaN(wallet) ? /*#__PURE__*/React.createElement(Loader, {\n    color: \"white\",\n    width: \"40px\",\n    height: \"40px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 50\n    }\n  }) : /*#__PURE__*/React.createElement(Text, {\n    fontSize: \"14px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 103\n    }\n  }, wallet, \" NIS\"))), /*#__PURE__*/React.createElement(Box, Object.assign({}, styles.horizontalBreakLine, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(LanguageSelector, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Box, Object.assign({}, styles.horizontalBreakLine, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(MenuButton, Object.assign({}, styles.settingsButton, {\n    as: Button,\n    rightIcon: /*#__PURE__*/React.createElement(SettingsIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 91\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(MenuList, {\n    color: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    icon: /*#__PURE__*/React.createElement(IoMdPerson, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 49\n      }\n    }),\n    onClick: function onClick() {\n      return history.push(\"/account-details\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  }, translate(\"HEADER.ACCOUNT_PROFILE\")), /*#__PURE__*/React.createElement(MenuItem, {\n    icon: /*#__PURE__*/React.createElement(IoIosCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 49\n      }\n    }),\n    onClick: function onClick() {\n      return history.push(\"/\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 33\n    }\n  }, translate(\"HEADER.PAYMENT_INFO\")), /*#__PURE__*/React.createElement(MenuItem, {\n    icon: /*#__PURE__*/React.createElement(IoIosExit, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 49\n      }\n    }),\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 33\n    }\n  }, translate(\"HEADER.LOGOUT\")))))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Image, Object.assign({}, styles.logo, {\n    src: whiteLogo,\n    w: 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }))));\n}\n\nexport default Header;","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/Header/Header.jsx"],"names":["React","useEffect","useState","Menu","Button","MenuButton","MenuList","MenuItem","Box","Icon","Text","Flex","Image","SettingsIcon","useSelector","useDispatch","useHistory","IoIosWallet","IoIosCard","IoMdPerson","IoIosExit","IoCaretBack","Link","getWallet","toastMessage","LOGOUT","whiteLogo","translate","LanguageSelector","Loader","styles","settingsButton","variant","size","iconSpacing","lineHeight","_active","background","transform","color","opacity","_hover","_focus","outline","actionsContainer","position","top","right","alignItems","borderRadius","headerItemsContainer","cursor","px","underline","horizontalBreakLine","w","h","bgColor","link","textDecoration","backBtnContainer","left","pt","logo","headerStyle","textAlign","padding","height","direction","Header","authenticated","state","general","wallet","setWallet","history","location","pathname","isHomePage","setIsHomePage","dispatch","handleLogout","type","localStorage","removeItem","push","then","server_response","data","TransporterBalance","catch","err","historyUnListen","listen","goBack","isNaN"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport \"./Header.css\";\r\nimport {\r\n    Menu,\r\n    Button,\r\n    MenuButton,\r\n    MenuList,\r\n    MenuItem,\r\n    Box,\r\n    Icon,\r\n    Text,\r\n    Flex,\r\n    Image\r\n} from \"@chakra-ui/react\";\r\nimport {SettingsIcon} from '@chakra-ui/icons';\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {useHistory} from \"react-router\";\r\nimport {IoIosWallet, IoIosCard, IoMdPerson, IoIosExit} from 'react-icons/io';\r\nimport {IoCaretBack} from 'react-icons/io5';\r\nimport {Link} from \"react-router-dom\";\r\nimport {getWallet} from \"../../APIs/ProfileAPIs\";\r\nimport {toastMessage} from \"../../Actions/GeneralActions\";\r\nimport {LOGOUT} from \"../../Actions/ActionsTypes\";\r\nimport whiteLogo from '../../assets/whiteLogo.png';\r\nimport translate from \"../../i18n/translate\";\r\nimport LanguageSelector from \"../LanguageSelector/LanguageSelector\";\r\nimport Loader from \"../Loader/Loader\";\r\n\r\n\r\nconst styles = {\r\n    settingsButton: {\r\n        variant: \"ghost\",\r\n        size: \"lg\",\r\n        iconSpacing: 0,\r\n        lineHeight: \"0.2\",\r\n        _active: {\r\n            background: \"none\",\r\n            transform: \"scale(1.3)\",\r\n            color: \"black\",\r\n            opacity: \"0.5\"\r\n        },\r\n        _hover: {transform: \"scale(1.3)\"},\r\n        _focus: {outline: \"none\"}\r\n    },\r\n    actionsContainer: {\r\n        position: \"absolute\",\r\n        top: \"1rem\",\r\n        right: \"1rem\",\r\n        alignItems: \"center\",\r\n        background: \"#00000036\",\r\n        borderRadius: \"29px\"\r\n    },\r\n    headerItemsContainer: {\r\n        alignItems: \"center\",\r\n        cursor: \"pointer\",\r\n        px: \"1.5rem\",\r\n        _hover: {\r\n            transform: \"scale(1.1)\",\r\n            underline: \"unset\",\r\n        }\r\n    },\r\n    horizontalBreakLine: {\r\n        w: \"3px\",\r\n        h: \"20px\",\r\n        bgColor: \"white\",\r\n        borderRadius: 999,\r\n        opacity: 0.5\r\n    },\r\n    link: {\r\n        color: \"white\",\r\n        textDecoration: \"none\"\r\n    },\r\n    backBtnContainer: {\r\n        position: \"absolute\",\r\n        left: \"1rem\",\r\n        top: \"1rem\",\r\n        alignItems: \"center\",\r\n        pt: \"0.2rem\"\r\n    },\r\n    logo: {\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        _hover: {\r\n            opacity: 0.5,\r\n            transform: \"scale(1.2) translate(-40%, -40%)\"\r\n        }\r\n    },\r\n    headerStyle: {\r\n        position: \"relative\",\r\n        background: \"linear-gradient(to left, #26A69A,#69D4A5)\",\r\n        color: \"#fff\",\r\n        textAlign: \"center\",\r\n        padding: \"40px 0\",\r\n        height: \"140px\",\r\n        direction: \"ltr\"\r\n    }\r\n};\r\n\r\nfunction Header() {\r\n    const authenticated = useSelector(state => state.general.authenticated);\r\n    const [wallet, setWallet] = useState(null);\r\n    const history = useHistory();\r\n    const [isHomePage, setIsHomePage] = useState(history.location.pathname === '/orders' || history.location.pathname === '/');\r\n    const dispatch = useDispatch();\r\n\r\n    const handleLogout = () => {\r\n        dispatch({\r\n            type: LOGOUT\r\n        });\r\n        localStorage.removeItem(\"userId\");\r\n        localStorage.removeItem(\"TokenDevice\");\r\n        localStorage.removeItem(\"UserType\");\r\n        localStorage.removeItem(\"userId\");\r\n        history.push(\"/\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (authenticated) {\r\n            getWallet().then(({data: {server_response}}) => {\r\n                setWallet(server_response[0].TransporterBalance);\r\n            }).catch(err => {\r\n                dispatch(toastMessage(err));\r\n            })\r\n        }\r\n        return () => setWallet(null);\r\n    }, [authenticated, dispatch]);\r\n\r\n    useEffect(() => {\r\n        let historyUnListen = history.listen(location => {\r\n            setIsHomePage(location.pathname === '/account/orders' || location.pathname === '/');\r\n        });\r\n        return () => historyUnListen();\r\n    }, [history]);\r\n\r\n    return (\r\n        <header style={styles.headerStyle}>\r\n            {authenticated && (\r\n                <Box>\r\n                    {!isHomePage && <Flex {...styles.backBtnContainer}>\r\n                        <Flex {...styles.headerItemsContainer} onClick={() => history.goBack()}>\r\n                            <Icon as={IoCaretBack} mr={2} fontSize=\"2xl\"/>\r\n                            <Text>{translate(\"HEADER.BACK\")}</Text>\r\n                        </Flex>\r\n                    </Flex>}\r\n                    <Flex {...styles.actionsContainer}>\r\n                        <Link to='/account/main/financial-transaction' style={styles.link}>\r\n                            <Flex {...styles.headerItemsContainer}>\r\n                                <Icon as={IoIosWallet} fontSize=\"2xl\"/>\r\n                                {isNaN(wallet) ? <Loader color=\"white\" width=\"40px\" height=\"40px\"/> : <Text fontSize=\"14px\">{wallet} NIS</Text>}\r\n                            </Flex>\r\n                        </Link>\r\n                        <Box {...styles.horizontalBreakLine}/>\r\n                        <LanguageSelector/>\r\n                        <Box {...styles.horizontalBreakLine}/>\r\n                        <Menu>\r\n                            <MenuButton {...styles.settingsButton} as={Button} rightIcon={<SettingsIcon/>}/>\r\n                            <MenuList color=\"black\">\r\n                                <MenuItem icon={<IoMdPerson/>}\r\n                                          onClick={() => history.push(\"/account-details\")}>{translate(\"HEADER.ACCOUNT_PROFILE\")}</MenuItem>\r\n                                <MenuItem icon={<IoIosCard/>}\r\n                                          onClick={() => history.push(\"/\")}>{translate(\"HEADER.PAYMENT_INFO\")}</MenuItem>\r\n                                <MenuItem icon={<IoIosExit/>}\r\n                                          onClick={handleLogout}>{translate(\"HEADER.LOGOUT\")}</MenuItem>\r\n                            </MenuList>\r\n                        </Menu>\r\n                    </Flex>\r\n                </Box>\r\n            )}\r\n            <Link to=\"/\">\r\n                <Image\r\n                    {...styles.logo}\r\n                    src={whiteLogo}\r\n                    w={100}/>\r\n            </Link>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}