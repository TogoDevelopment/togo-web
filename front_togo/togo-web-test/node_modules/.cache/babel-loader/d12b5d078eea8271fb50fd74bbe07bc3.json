{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/OrdersManager/FinalizeOrder.jsx\";\nimport React, { useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport { finalizeTrip, confirmFinalizedTrip } from \"../APIs/OrdersAPIs\";\nimport translate from \"../../i18n/translate\";\nimport { toastMessage } from \"../../Actions/GeneralActions\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nexport function FinalizeOrder(_ref) {\n  var orderId = _ref.orderId;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      show = _useState2[0],\n      setShow = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      verificationCode = _useState4[0],\n      setVerificationCode = _useState4[1];\n\n  var history = useHistory();\n  var dispatch = useDispatch();\n\n  var handleClose = function handleClose() {\n    setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  var handleChange = function handleChange(e) {\n    setVerificationCode(e.target.value);\n  };\n\n  var finalizeOrder = function finalizeOrder() {\n    handleShow();\n    finalizeTrip(orderId);\n  };\n\n  var confirmFinalizeOrder = function confirmFinalizeOrder() {\n    if (verificationCode) {\n      confirmFinalizedTrip(orderId).then(function (resp) {\n        dispatch(toastMessage(translate(\"ORDERS.SUCCESS_FINALIZE_ORDER\"), translate(\"GENERAL.SUCCESS\")));\n        history.goBack();\n      }).catch(function (err) {\n        return dispatch(toastMessage(translate(\"ORDERS.ERR_FINALIZE_ORDER\"), translate(\"GENERAL.ERROR\")));\n      });\n    }\n\n    handleClose();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    className: \"ml-1\",\n    onClick: finalizeOrder // style={{\n    //     float: \"right\",\n    //     border: \"none\",\n    //     height: \"39px\"\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"currentColor\",\n    className: \"bi bi-check-all\",\n    viewBox: \"0 0 16 16\",\n    style: {\n      display: \"inline-block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  })), translate(\"ORDER_DETAILS.FINALIZE_ORDER\"), \" \"), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, translate(\"ORDER_DETAILS.FINALIZE_ORDER\"), orderId)), /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Prepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, translate(\"ORDER_DETAILS.VERIFICATION_CODE\"))), /*#__PURE__*/React.createElement(FormControl, {\n    value: verificationCode,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, translate(\"GENERAL.CLOSE\")), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: confirmFinalizeOrder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, translate(\"GENERAL.PROCEED\")))));\n}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/OrdersManager/FinalizeOrder.jsx"],"names":["React","useState","Button","Modal","InputGroup","FormControl","finalizeTrip","confirmFinalizedTrip","translate","toastMessage","useHistory","useDispatch","FinalizeOrder","orderId","show","setShow","verificationCode","setVerificationCode","history","dispatch","handleClose","handleShow","handleChange","e","target","value","finalizeOrder","confirmFinalizeOrder","then","resp","goBack","catch","err","display"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport {finalizeTrip, confirmFinalizedTrip} from \"../APIs/OrdersAPIs\";\r\nimport translate from \"../../i18n/translate\";\r\nimport {toastMessage} from \"../../Actions/GeneralActions\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport function FinalizeOrder({orderId}) {\r\n    const [show, setShow] = useState(false);\r\n    const [verificationCode, setVerificationCode] = useState(\"\");\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClose = () => {\r\n        setShow(false);\r\n    };\r\n    const handleShow = () => setShow(true);\r\n\r\n    const handleChange = (e) => {\r\n        setVerificationCode(e.target.value);\r\n    };\r\n\r\n    const finalizeOrder = () => {\r\n        handleShow();\r\n        finalizeTrip(orderId);\r\n    };\r\n\r\n    const confirmFinalizeOrder = () => {\r\n        if (verificationCode) {\r\n            confirmFinalizedTrip(orderId)\r\n                .then(resp => {\r\n                    dispatch(toastMessage(translate(\"ORDERS.SUCCESS_FINALIZE_ORDER\"), translate(\"GENERAL.SUCCESS\")));\r\n                    history.goBack();\r\n                })\r\n                .catch(err => dispatch(toastMessage(translate(\"ORDERS.ERR_FINALIZE_ORDER\"), translate(\"GENERAL.ERROR\"))));\r\n        }\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                variant=\"primary\"\r\n                className=\"ml-1\"\r\n                onClick={finalizeOrder}\r\n                // style={{\r\n                //     float: \"right\",\r\n                //     border: \"none\",\r\n                //     height: \"39px\"\r\n                // }}\r\n            >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-check-all\" viewBox=\"0 0 16 16\" style={{display: \"inline-block\"}}>\r\n                    <path d=\"M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z\"/>\r\n                </svg>\r\n                {translate(\"ORDER_DETAILS.FINALIZE_ORDER\")}{\" \"}\r\n            </Button>\r\n            <Modal show={show} onHide={handleClose} centered>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{translate(\"ORDER_DETAILS.FINALIZE_ORDER\")}{orderId}</Modal.Title>\r\n                </Modal.Header>\r\n                <InputGroup className=\"mb-3\">\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>{translate(\"ORDER_DETAILS.VERIFICATION_CODE\")}</InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <FormControl\r\n                        value={verificationCode}\r\n                        onChange={handleChange}\r\n                    />\r\n                </InputGroup>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleClose}>\r\n                        {translate(\"GENERAL.CLOSE\")}\r\n                    </Button>\r\n                    <Button variant=\"primary\" onClick={confirmFinalizeOrder}>\r\n                        {translate(\"GENERAL.PROCEED\")}\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}