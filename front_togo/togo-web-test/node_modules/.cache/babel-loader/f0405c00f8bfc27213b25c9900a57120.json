{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = TimeDropdown;\nvar _core = require(\"@emotion/core\");\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar styles = _interopRequireWildcard(require(\"./styles/time-dropdown\"));\nvar _configContext = _interopRequireDefault(require(\"../hooks/config-context\"));\nvar _dom = require(\"../helpers/dom\");\nvar _utils = require(\"../helpers/utils\");\nvar _constants = require(\"../helpers/constants\");\nvar _stateContext = _interopRequireDefault(require(\"../hooks/state-context\"));\nvar scrollbarWidth = null;\nfunction TimeDropdown(_ref) {\n  var close = _ref.close;\n  var _useConfig = (0, _configContext.default)(),\n    hour24Mode = _useConfig.hour24Mode,\n    switchToMinuteOnHourDropdownSelect = _useConfig.switchToMinuteOnHourDropdownSelect;\n  var _useTimekeeperState = (0, _stateContext.default)(),\n    updateTime = _useTimekeeperState.updateTime,\n    mode = _useTimekeeperState.mode,\n    time = _useTimekeeperState.time,\n    setMode = _useTimekeeperState.setMode;\n  var container = (0, _react.useRef)(null);\n  var selectedOption = (0, _react.useRef)(null);\n  var options = _constants.CLOCK_VALUES[mode].dropdown;\n  var selected = (0, _utils.getNormalizedTimeValue)(mode, time).toString();\n  function disableBodyScroll() {\n    document.documentElement.style.paddingRight = scrollbarWidth + 'px';\n    document.documentElement.classList.add('react-timekeeper-noscroll');\n  }\n  function enableBodyScroll() {\n    document.documentElement.style.paddingRight = '0';\n    document.documentElement.classList.remove('react-timekeeper-noscroll');\n  }\n  var elsewhereClick = (0, _react.useCallback)(function (e) {\n    if (!container.current || !e.target) {\n      return;\n    }\n    if (!container.current.contains(e.target)) {\n      close();\n    }\n  }, [close]);\n  (0, _react.useEffect)(function () {\n    // measure scroll bar width for first time\n    if (scrollbarWidth == null) {\n      scrollbarWidth = (0, _dom.getScrollBarWidth)();\n    } // initial scroll in list\n\n    if (selectedOption.current && container.current) {\n      container.current.scrollTop = selectedOption.current.offsetTop;\n    } // listener to close if click outside dropdown\n\n    document.addEventListener('click', elsewhereClick, false);\n    return function () {\n      document.removeEventListener('click', elsewhereClick, false);\n      enableBodyScroll();\n    };\n  }, [elsewhereClick]); // select a value\n\n  function select(val) {\n    var parsed = parseInt(val, 10);\n    if (mode === _constants.MODE.HOURS_12 && parsed === 12) {\n      parsed = 0;\n    }\n    updateTime(parsed); // handle any unit autochanges on hour select\n\n    if (switchToMinuteOnHourDropdownSelect && (0, _utils.isHourMode)(mode)) {\n      setMode(_constants.MODE.MINUTES);\n    }\n    close();\n  }\n  return (0, _core.jsx)(\"div\", {\n    css: styles.wrapper(hour24Mode, mode),\n    ref: container,\n    onMouseEnter: disableBodyScroll,\n    onMouseLeave: enableBodyScroll,\n    className: \"react-timekeeper__time-dropdown\"\n  }, (0, _core.jsx)(\"ul\", {\n    css: styles.options,\n    className: \"react-timekeeper__dropdown-numbers\"\n  }, options.map(function (o) {\n    var isSelected = selected === o;\n    return (0, _core.jsx)(\"li\", {\n      ref: function ref(el) {\n        return isSelected ? selectedOption.current = el : '';\n      },\n      className: \"react-timekeeper__dropdown-number \".concat(isSelected ? 'react-timekeeper__dropdown-number--active' : ''),\n      css: styles.option(isSelected),\n      key: o,\n      onClick: function onClick() {\n        return select(o);\n      }\n    }, o);\n  })));\n}","map":{"version":3,"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","TimeDropdown","_core","_react","styles","_configContext","_dom","_utils","_constants","_stateContext","scrollbarWidth","_ref","close","_useConfig","hour24Mode","switchToMinuteOnHourDropdownSelect","_useTimekeeperState","updateTime","mode","time","setMode","container","useRef","selectedOption","options","CLOCK_VALUES","dropdown","selected","getNormalizedTimeValue","toString","disableBodyScroll","document","documentElement","style","paddingRight","classList","add","enableBodyScroll","remove","elsewhereClick","useCallback","e","current","target","contains","useEffect","getScrollBarWidth","scrollTop","offsetTop","addEventListener","removeEventListener","select","val","parsed","parseInt","MODE","HOURS_12","isHourMode","MINUTES","jsx","css","wrapper","ref","onMouseEnter","onMouseLeave","className","map","o","isSelected","el","concat","option","key","onClick"],"sources":["/home/system/togo-web-test/node_modules/react-timekeeper/lib/components/TimeDropdown.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = TimeDropdown;\n\nvar _core = require(\"@emotion/core\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar styles = _interopRequireWildcard(require(\"./styles/time-dropdown\"));\n\nvar _configContext = _interopRequireDefault(require(\"../hooks/config-context\"));\n\nvar _dom = require(\"../helpers/dom\");\n\nvar _utils = require(\"../helpers/utils\");\n\nvar _constants = require(\"../helpers/constants\");\n\nvar _stateContext = _interopRequireDefault(require(\"../hooks/state-context\"));\n\nlet scrollbarWidth = null;\n\nfunction TimeDropdown({\n  close\n}) {\n  const _useConfig = (0, _configContext.default)(),\n        hour24Mode = _useConfig.hour24Mode,\n        switchToMinuteOnHourDropdownSelect = _useConfig.switchToMinuteOnHourDropdownSelect;\n\n  const _useTimekeeperState = (0, _stateContext.default)(),\n        updateTime = _useTimekeeperState.updateTime,\n        mode = _useTimekeeperState.mode,\n        time = _useTimekeeperState.time,\n        setMode = _useTimekeeperState.setMode;\n\n  const container = (0, _react.useRef)(null);\n  const selectedOption = (0, _react.useRef)(null);\n  const options = _constants.CLOCK_VALUES[mode].dropdown;\n  const selected = (0, _utils.getNormalizedTimeValue)(mode, time).toString();\n\n  function disableBodyScroll() {\n    document.documentElement.style.paddingRight = scrollbarWidth + 'px';\n    document.documentElement.classList.add('react-timekeeper-noscroll');\n  }\n\n  function enableBodyScroll() {\n    document.documentElement.style.paddingRight = '0';\n    document.documentElement.classList.remove('react-timekeeper-noscroll');\n  }\n\n  const elsewhereClick = (0, _react.useCallback)(e => {\n    if (!container.current || !e.target) {\n      return;\n    }\n\n    if (!container.current.contains(e.target)) {\n      close();\n    }\n  }, [close]);\n  (0, _react.useEffect)(() => {\n    // measure scroll bar width for first time\n    if (scrollbarWidth == null) {\n      scrollbarWidth = (0, _dom.getScrollBarWidth)();\n    } // initial scroll in list\n\n\n    if (selectedOption.current && container.current) {\n      container.current.scrollTop = selectedOption.current.offsetTop;\n    } // listener to close if click outside dropdown\n\n\n    document.addEventListener('click', elsewhereClick, false);\n    return () => {\n      document.removeEventListener('click', elsewhereClick, false);\n      enableBodyScroll();\n    };\n  }, [elsewhereClick]); // select a value\n\n  function select(val) {\n    let parsed = parseInt(val, 10);\n\n    if (mode === _constants.MODE.HOURS_12 && parsed === 12) {\n      parsed = 0;\n    }\n\n    updateTime(parsed); // handle any unit autochanges on hour select\n\n    if (switchToMinuteOnHourDropdownSelect && (0, _utils.isHourMode)(mode)) {\n      setMode(_constants.MODE.MINUTES);\n    }\n\n    close();\n  }\n\n  return (0, _core.jsx)(\"div\", {\n    css: styles.wrapper(hour24Mode, mode),\n    ref: container,\n    onMouseEnter: disableBodyScroll,\n    onMouseLeave: enableBodyScroll,\n    className: \"react-timekeeper__time-dropdown\"\n  }, (0, _core.jsx)(\"ul\", {\n    css: styles.options,\n    className: \"react-timekeeper__dropdown-numbers\"\n  }, options.map(o => {\n    const isSelected = selected === o;\n    return (0, _core.jsx)(\"li\", {\n      ref: el => isSelected ? selectedOption.current = el : '',\n      className: \"react-timekeeper__dropdown-number \".concat(isSelected ? 'react-timekeeper__dropdown-number--active' : ''),\n      css: styles.option(isSelected),\n      key: o,\n      onClick: () => select(o)\n    }, o);\n  })));\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}