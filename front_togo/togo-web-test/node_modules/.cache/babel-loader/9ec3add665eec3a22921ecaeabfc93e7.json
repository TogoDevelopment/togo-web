{"ast":null,"code":"import _slicedToArray from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{AddIcon,MinusIcon}from\"@chakra-ui/icons\";import React,{useEffect,useState}from\"react\";import{Button,Table,Modal,Alert,ButtonGroup}from\"react-bootstrap\";import translate from\"../i18n/translate\";import{GetTransactions}from\"./APIs/OrdersAPIs\";import Receipt from\"./Receipt\";export default function TransferBtn(_ref){var _transactions$transac,_transactions$transac2;var TransporterId=_ref.TransporterId,onSuccess=_ref.onSuccess;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var handleShow=function handleShow(){return setShow(true);};var handleClose=function handleClose(){setShow(false);};var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),transactions=_useState4[0],setTransactions=_useState4[1];useEffect(function(){if(show===true){GetTransactions(TransporterId).then(function(res){setTransactions(res.data);});}},[show]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{variant:\"info\",className:\"text-white\",onClick:function onClick(event){event.stopPropagation();handleShow();}},translate(\"ADMIN.REVIEW_TRANSACTION\")),/*#__PURE__*/React.createElement(Modal,{show:show,onHide:handleClose,size:\"lg\"},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,null,translate(\"ADMIN.TRANSACTIONS_HISTORY\"))),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(Table,{className:\"togo-table\"},/*#__PURE__*/React.createElement(\"thead\",{style:{display:\"block\",overflowY:\"scroll\"}},/*#__PURE__*/React.createElement(\"tr\",{style:{display:\"table\",width:\"100%\",tableLayout:\"fixed\"}},/*#__PURE__*/React.createElement(\"th\",null,\"OrderId\"),/*#__PURE__*/React.createElement(\"th\",null,\"TransactionDate\"),/*#__PURE__*/React.createElement(\"th\",null,\"FromCustomer\"),/*#__PURE__*/React.createElement(\"th\",null,\"ToCustomer\"),/*#__PURE__*/React.createElement(\"th\",null,\"Amount\"))),/*#__PURE__*/React.createElement(\"tbody\",{style:{height:\"280px\",display:\"block\",overflowY:\"auto\"}},transactions===null||transactions===void 0?void 0:(_transactions$transac=transactions.transactions_list)===null||_transactions$transac===void 0?void 0:(_transactions$transac2=_transactions$transac.map)===null||_transactions$transac2===void 0?void 0:_transactions$transac2.call(_transactions$transac,function(_ref2,idx){var Amount=_ref2.Amount,Description=_ref2.Description,FromCustomer=_ref2.FromCustomer,OrderId=_ref2.OrderId,ToCustomer=_ref2.ToCustomer,TransactionDate=_ref2.TransactionDate;return/*#__PURE__*/React.createElement(\"tr\",{key:OrderId+\"_\"+idx,style:{display:\"table\",width:\"100%\",tableLayout:\"fixed\"}},/*#__PURE__*/React.createElement(\"td\",null,OrderId),/*#__PURE__*/React.createElement(\"td\",null,TransactionDate),/*#__PURE__*/React.createElement(\"td\",null,FromCustomer),/*#__PURE__*/React.createElement(\"td\",null,ToCustomer),/*#__PURE__*/React.createElement(\"td\",null,Amount));}))),/*#__PURE__*/React.createElement(Alert,{variant:\"info\",className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-bold\"},\"Total: \"),transactions===null||transactions===void 0?void 0:transactions.sum_of_balance),/*#__PURE__*/React.createElement(ButtonGroup,{variant:\"danger\",className:\"ms-5\"},/*#__PURE__*/React.createElement(Receipt,{toMaster:true,TransporterId:TransporterId},/*#__PURE__*/React.createElement(Button,{variant:\"outline-secondary\",className:\"m-inline-e-2\",onClick:function onClick(){// TransferToMaster(TransporterId, ref.current.value).then(()=>{\n//     dispatch(toastMessage(\"Debited\", \"Successful\", \"success\"));\n//     handleClose();\n//     //onSuccess();32f9f1ab3c8c30fac1bd1eff8c46235992485fbd\n// });\n}},/*#__PURE__*/React.createElement(AddIcon,null),\" Debit (Receive Cash From Transporter)\")),/*#__PURE__*/React.createElement(Receipt,{toMaster:false,TransporterId:TransporterId},/*#__PURE__*/React.createElement(Button,{variant:\"outline-secondary\",onClick:function onClick(){// TransferToMember(TransporterId, ref.current.value).then(()=>{\n//     dispatch(toastMessage(\"Credited\", \"Successful\", \"success\"));\n//     handleClose();\n//     //onSuccess();\n// });\n}},/*#__PURE__*/React.createElement(MinusIcon,null),\" Credit (Hand Cash To Transporter)\"))))),/*#__PURE__*/React.createElement(Modal.Footer,null)));}","map":null,"metadata":{},"sourceType":"module"}