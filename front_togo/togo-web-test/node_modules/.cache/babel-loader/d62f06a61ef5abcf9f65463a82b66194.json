{"ast":null,"code":"import _objectSpread from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Address from\"../Address/Address\";import{Accordion,Card,Button}from\"react-bootstrap\";import{FinalizeOrder}from\"../OrdersManager/FinalizeOrder\";import{CancelOrder}from\"../OrdersManager/CancelOrder\";import{BidOrder}from\"../OrdersManager/AcceptOrder\";import{DeleteTripCost}from\"../OrdersManager/DeleteTripCost\";import{EditTripCost}from\"../OrdersManager/EditTripCost\";import Loader from\"../Loader/Loader\";import\"./OrderDetails.css\";import{getOrderDetails,checkTripCost,AcceptOfferReq,GetTransporterLocation}from\"../APIs/OrdersAPIs\";import translate from\"../../i18n/translate\";import{Alert,AlertDescription,AlertIcon,AlertTitle}from\"@chakra-ui/alert\";import{Box}from\"@chakra-ui/layout\";import{deliverFormatter,packageFormatter}from\"../Orders/OrdersTabularView\";import{isTeamMember,isTransporter,isTransporterMaster}from\"../../Util\";import AssignToTransporter from\"../AssigneToTransporter\";import{useLocation,useParams,useHistory}from\"react-router\";import{refreshPage}from\"../Functions/CommonFunctions\";var Barcode=require('react-barcode');var OrderDetails=function OrderDetails(){var _useParams=useParams(),orderId=_useParams.id;var location=useLocation();var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),orderDetails=_useState2[0],setOrderDetails=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),previousPage=_useState4[0],setPreviousPage=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),tripCost=_useState6[0],setTripCost=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),costSet=_useState8[0],setCostSet=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),receiverAddress=_useState10[0],setReceiverAddress=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),startTracking=_useState12[0],setStartTracking=_useState12[1];useEffect(function(){var live=false;if(startTracking===false){return;}var intervalId=setInterval(function(){if(!live){live=true;GetTransporterLocation(orderId).then(function(resp){live=false;var _resp$data$server_res=resp.data.server_response[0],TransporterLatLocation=_resp$data$server_res.TransporterLatLocation,TransporterLongLoc=_resp$data$server_res.TransporterLongLoc;if(TransporterLatLocation===null||TransporterLongLoc===null){TransporterLatLocation=0;TransporterLongLoc=0;}setReceiverAddress(_objectSpread(_objectSpread({},receiverAddress),{},{long:TransporterLongLoc,lat:TransporterLatLocation}));});}},4000);return function(){return clearInterval(intervalId);};},[startTracking]);useEffect(function(){var _location$state;checkTripCost(orderId,isTransporter()).then(function(tripCostRes){if(tripCostRes&&tripCostRes!==\"CostNotSend\"){setTripCost(isTransporter()?tripCostRes.server_response[0]:tripCostRes.CostDetail);setCostSet(true);}else{setCostSet(false);}});getOrderDetails(orderId).then(function(orderDetailsRes){setOrderDetails(orderDetailsRes);setReceiverAddress({otherDetails:orderDetailsRes.OtherDetailsDes,phoneCustomer:orderDetailsRes.ReceiverAddressNum,long:orderDetailsRes.LongReciver,lat:orderDetailsRes.LatReciver});});setPreviousPage((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.currentPage);},[]);if(typeof orderDetails===\"object\"&&JSON.stringify(orderDetails)!=='{}'){var deliveryWay=orderDetails.deliveryWay,HeightLoad=orderDetails.HeightLoad,DetailsLoad=orderDetails.DetailsLoad,LengthLoad=orderDetails.LengthLoad,WeightLoad=orderDetails.WeightLoad,WidthLoad=orderDetails.WidthLoad,OtherDetails=orderDetails.OtherDetails,TypeLoad=orderDetails.TypeLoad,PhoneCustomer=orderDetails.PhoneCustomer,LongSender=orderDetails.LongSender,LatSender=orderDetails.LatSender,AssignStatus=orderDetails.AssignStatus,AssignedMemberName=orderDetails.AssignedMemberName,isAcceptDelivery=orderDetails.isAcceptDelivery;var senderAddress={otherDetails:OtherDetails,phoneCustomer:PhoneCustomer,long:LongSender,lat:LatSender};return/*#__PURE__*/React.createElement(\"div\",{style:{marginRight:\"10%\",marginLeft:\"10%\",marginTop:\"5%\",overflowY:\"auto\"}},orderDetails&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-50\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-250px\"},translate(\"ORDER_DETAILS.ORDER_NUMBER\")),/*#__PURE__*/React.createElement(\"span\",null,orderId)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-250px\"},translate(\"ORDER_DETAILS.DELIVERY_TYPE\")),/*#__PURE__*/React.createElement(\"div\",null,deliverFormatter({DeliveryWays:deliveryWay}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-250px\"},translate(\"ORDER_DETAILS.PACKAGE_TYPE\")),/*#__PURE__*/React.createElement(\"div\",null,packageFormatter({PackageType:TypeLoad}))),isTransporterMaster()&&AssignStatus===\"Assigned\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-250px align-items-center\"},translate(\"ORDER_DETAILS.ASSIGNED\")),/*#__PURE__*/React.createElement(\"div\",null,AssignedMemberName)),TypeLoad!==\"1\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-250px\"},translate(\"ORDER_DETAILS.LOAD_HEIGHT\")),/*#__PURE__*/React.createElement(\"div\",null,HeightLoad||/*#__PURE__*/React.createElement(\"hr\",{style:{width:\"70px\"}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-250px\"},translate(\"ORDER_DETAILS.LOAD_WIDTH\")),/*#__PURE__*/React.createElement(\"div\",null,WidthLoad||/*#__PURE__*/React.createElement(\"hr\",{style:{width:\"70px\"}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-250px\"},translate(\"ORDER_DETAILS.LOAD_LENGTH\")),/*#__PURE__*/React.createElement(\"div\",null,LengthLoad||/*#__PURE__*/React.createElement(\"hr\",{style:{width:\"70px\"}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-250px\"},translate(\"ORDER_DETAILS.LOAD_WEIGHT\")),/*#__PURE__*/React.createElement(\"div\",null,WeightLoad||/*#__PURE__*/React.createElement(\"hr\",{style:{width:\"70px\"}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-250px\"},translate(\"ORDER_DETAILS.LOAD_DETAILS\")),/*#__PURE__*/React.createElement(\"div\",null,DetailsLoad||/*#__PURE__*/React.createElement(\"hr\",{style:{width:\"70px\"}}))))),/*#__PURE__*/React.createElement(\"div\",null,orderDetails.BarCode&&/*#__PURE__*/React.createElement(Barcode,{value:orderDetails.BarCode}),!orderDetails.BarCode&&/*#__PURE__*/React.createElement(Barcode,{value:orderId.padStart(8,0)}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(Accordion,{defaultActiveKey:\"0\",className:\"w-50 m-inline-e-2\"},/*#__PURE__*/React.createElement(Accordion.Item,{eventKey:\"0\",className:\"w-100\"},/*#__PURE__*/React.createElement(Accordion.Header,{as:\"div\"},translate(\"ORDER_DETAILS.SENDER_ADDRESS\")),/*#__PURE__*/React.createElement(Accordion.Body,null,/*#__PURE__*/React.createElement(Address,{address:senderAddress})))),/*#__PURE__*/React.createElement(Accordion,{defaultActiveKey:\"0\",className:\"w-50\"},/*#__PURE__*/React.createElement(Accordion.Item,{eventKey:\"0\",className:\"w-100\"},/*#__PURE__*/React.createElement(Accordion.Header,{as:\"div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-grow-1\"},translate(\"ORDER_DETAILS.RECEIVER_ADDRESS\")),isAcceptDelivery&&(isTransporterMaster()||!isTransporter())&&/*#__PURE__*/React.createElement(Button,{variant:\"outline-warning\",className:\"me-3 py-0\",onClick:function onClick(event){event.stopPropagation();setStartTracking(true);},size:\"sm\"},\"Track\")),/*#__PURE__*/React.createElement(Accordion.Body,null,/*#__PURE__*/React.createElement(Address,{address:receiverAddress}))))),/*#__PURE__*/React.createElement(Box,{mt:\"10px\"},previousPage===\"all-orders\"&&isTransporter()&&tripCost&&/*#__PURE__*/React.createElement(Card,{bg:\"Danger\",text:\"black\"},/*#__PURE__*/React.createElement(Card.Header,null,translate(\"ORDER_DETAILS.BID_PRICE\")),/*#__PURE__*/React.createElement(Card.Body,{className:\"d-flex align-items-center\"},tripCost.CostDelivery,/*#__PURE__*/React.createElement(\"div\",{className:\"ActionButtons ms-auto\"},/*#__PURE__*/React.createElement(DeleteTripCost,{orderId:orderId}),/*#__PURE__*/React.createElement(EditTripCost,{orderId:orderId,tripCost:tripCost.CostDelivery}))))),/*#__PURE__*/React.createElement(Box,{mt:\"10px\"},previousPage===\"all-orders\"&&!isTransporter()&&tripCost&&tripCost.length!==0&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Card,{bg:\"Danger\",text:\"black\"},/*#__PURE__*/React.createElement(Card.Header,null,translate(\"ORDERS.AVAILABLE_OFFERS\")),/*#__PURE__*/React.createElement(Card.Body,null,tripCost.map(function(costs){return/*#__PURE__*/React.createElement(\"div\",{className:\"align-items-center d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"img\",{className:\"w-25\",src:\"http://46.253.93.4/togo/MobileAPi/\".concat(costs.TransporterPersonalImg),alt:\"transImg\"}),/*#__PURE__*/React.createElement(\"div\",null,costs.TransporterName),/*#__PURE__*/React.createElement(Card.Title,null,costs.BidCost),/*#__PURE__*/React.createElement(Button,{className:\"btn-grad\",onClick:function onClick(){AcceptOfferReq(costs.IdTransporterBidRequist,orderId,costs.BidCost).then(function(resp){if(resp.data.indexOf(\"Success\")!==-1){refreshPage();}});}},\"Accept Offer\"));})))),previousPage===\"all-orders\"&&!isTransporter()&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(Button,{className:\"ms-auto my-2\",onClick:function onClick(){window.open(\"/account/bill-for-order/\"+orderId+\"?print=true\");}},translate(\"ORDER_DETAILS.PRINT\")),/*#__PURE__*/React.createElement(CancelOrder,{orderId:orderId,className:\"mx-1\",onSuccess:function onSuccess(){history.goBack();}})),previousPage===\"all-orders\"&&!costSet&&isTransporter()&&/*#__PURE__*/React.createElement(\"div\",{className:\"mt-2 d-inline-block float-end\"},/*#__PURE__*/React.createElement(BidOrder,{orderId:orderId})),previousPage===\"current-orders\"&&/*#__PURE__*/React.createElement(Box,{display:\"flex\",alignItems:\"center\",justifyContent:\"end\"},isTransporterMaster()&&AssignStatus!==\"Assigned\"&&/*#__PURE__*/React.createElement(AssignToTransporter,{onSuccess:function onSuccess(){getOrderDetails(orderId).then(function(orderDetailsRes){setOrderDetails(orderDetailsRes);});},orderId:orderId}),(isTeamMember()||isTransporter()&&!isTransporterMaster())&&/*#__PURE__*/React.createElement(\"div\",{className:\"ms-1\"},/*#__PURE__*/React.createElement(FinalizeOrder,{orderId:orderId}))))));}else if(typeof orderDetails===\"string\"){return/*#__PURE__*/React.createElement(Alert,{status:\"error\",w:\"80%\",m:\"10px auto\"},/*#__PURE__*/React.createElement(AlertIcon,null),/*#__PURE__*/React.createElement(AlertTitle,{mr:2},orderId),/*#__PURE__*/React.createElement(AlertDescription,null,orderDetails));}else{return/*#__PURE__*/React.createElement(Box,{height:\"400px\"},/*#__PURE__*/React.createElement(Loader,null));}};export default OrderDetails;","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/OrderDetails/OrderDetails.jsx"],"names":["React","useEffect","useState","Address","Accordion","Card","Button","FinalizeOrder","CancelOrder","BidOrder","DeleteTripCost","EditTripCost","Loader","getOrderDetails","checkTripCost","AcceptOfferReq","GetTransporterLocation","translate","Alert","AlertDescription","AlertIcon","AlertTitle","Box","deliverFormatter","packageFormatter","isTeamMember","isTransporter","isTransporterMaster","AssignToTransporter","useLocation","useParams","useHistory","refreshPage","Barcode","require","OrderDetails","orderId","id","location","history","orderDetails","setOrderDetails","previousPage","setPreviousPage","tripCost","setTripCost","costSet","setCostSet","receiverAddress","setReceiverAddress","startTracking","setStartTracking","live","intervalId","setInterval","then","resp","data","server_response","TransporterLatLocation","TransporterLongLoc","long","lat","clearInterval","tripCostRes","CostDetail","orderDetailsRes","otherDetails","OtherDetailsDes","phoneCustomer","ReceiverAddressNum","LongReciver","LatReciver","state","currentPage","JSON","stringify","deliveryWay","HeightLoad","DetailsLoad","LengthLoad","WeightLoad","WidthLoad","OtherDetails","TypeLoad","PhoneCustomer","LongSender","LatSender","AssignStatus","AssignedMemberName","isAcceptDelivery","senderAddress","marginRight","marginLeft","marginTop","overflowY","DeliveryWays","PackageType","width","BarCode","padStart","event","stopPropagation","CostDelivery","length","map","costs","TransporterPersonalImg","TransporterName","BidCost","IdTransporterBidRequist","indexOf","window","open","goBack"],"mappings":"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","sourcesContent":["import React, { useEffect, useState} from \"react\";\r\nimport Address from \"../Address/Address\";\r\nimport {Accordion, Card, Button} from \"react-bootstrap\";\r\n\r\n\r\nimport {FinalizeOrder} from \"../OrdersManager/FinalizeOrder\";\r\nimport {CancelOrder} from \"../OrdersManager/CancelOrder\";\r\nimport {BidOrder} from \"../OrdersManager/AcceptOrder\";\r\nimport {DeleteTripCost} from \"../OrdersManager/DeleteTripCost\";\r\nimport {EditTripCost} from \"../OrdersManager/EditTripCost\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport \"./OrderDetails.css\";\r\nimport {getOrderDetails, checkTripCost, AcceptOfferReq, GetTransporterLocation} from \"../APIs/OrdersAPIs\";\r\nimport translate from \"../../i18n/translate\";\r\n\r\nimport { Alert, AlertDescription, AlertIcon, AlertTitle } from \"@chakra-ui/alert\";\r\nimport { Box } from \"@chakra-ui/layout\";\r\nimport { deliverFormatter, packageFormatter } from \"../Orders/OrdersTabularView\";\r\nimport { isTeamMember, isTransporter, isTransporterMaster } from \"../../Util\";\r\nimport AssignToTransporter from \"../AssigneToTransporter\";\r\n\r\nimport { useLocation, useParams, useHistory } from \"react-router\";\r\nimport { refreshPage } from \"../Functions/CommonFunctions\";\r\n\r\nvar Barcode = require('react-barcode');\r\n\r\nconst OrderDetails = () => {\r\n\r\n    const {id: orderId} = useParams();\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const [orderDetails, setOrderDetails] =  useState({});\r\n    const [previousPage, setPreviousPage] = useState(null);\r\n    const [tripCost, setTripCost] = useState(null);\r\n    const [costSet, setCostSet] = useState(null);\r\n    const [receiverAddress, setReceiverAddress] = useState({});\r\n    const [startTracking, setStartTracking] = useState(false);\r\n    useEffect(()=>{\r\n        let live = false;\r\n        if(startTracking === false){\r\n            return;\r\n        }\r\n        const intervalId = setInterval(()=>{\r\n            if(!live){\r\n                live = true;\r\n                GetTransporterLocation(orderId).then((resp)=>{\r\n                    live = false;\r\n                    let {TransporterLatLocation, TransporterLongLoc} = resp.data.server_response[0];\r\n                    if(TransporterLatLocation === null || TransporterLongLoc === null){\r\n                        TransporterLatLocation = 0;\r\n                        TransporterLongLoc = 0;\r\n                    }\r\n                    setReceiverAddress({\r\n                        ...receiverAddress,\r\n                        long: TransporterLongLoc,\r\n                        lat: TransporterLatLocation\r\n                    });\r\n                });\r\n            }\r\n        }, 4000);\r\n        return () => clearInterval(intervalId);\r\n    }, [startTracking])\r\n    useEffect(() => {\r\n        checkTripCost(orderId, isTransporter()).then((tripCostRes) => {\r\n            if (tripCostRes && tripCostRes !== \"CostNotSend\") {\r\n                setTripCost(isTransporter() ? tripCostRes.server_response[0] : tripCostRes.CostDetail);\r\n                setCostSet(true);\r\n            } else {\r\n                setCostSet(false);\r\n            }\r\n        });\r\n\r\n        getOrderDetails(orderId).then((orderDetailsRes) => {\r\n            setOrderDetails(orderDetailsRes);\r\n            setReceiverAddress({\r\n                otherDetails: orderDetailsRes.OtherDetailsDes,\r\n                phoneCustomer: orderDetailsRes.ReceiverAddressNum,\r\n                long: orderDetailsRes.LongReciver,\r\n                lat: orderDetailsRes.LatReciver\r\n            });\r\n        });\r\n        \r\n        setPreviousPage(location.state?.currentPage);\r\n    }, []);\r\n\r\n    \r\n    if (typeof orderDetails === \"object\" && JSON.stringify(orderDetails) !== '{}') {\r\n        let {\r\n            deliveryWay,\r\n            HeightLoad,\r\n            DetailsLoad,\r\n            LengthLoad,\r\n            WeightLoad,\r\n            WidthLoad,\r\n            OtherDetails,\r\n            TypeLoad,\r\n            PhoneCustomer,\r\n            LongSender, LatSender,\r\n            AssignStatus, AssignedMemberName,\r\n            isAcceptDelivery\r\n        } = orderDetails;\r\n\r\n        let senderAddress = {\r\n            otherDetails: OtherDetails,\r\n            phoneCustomer: PhoneCustomer,\r\n            long: LongSender,\r\n            lat: LatSender\r\n        };\r\n\r\n        return (\r\n            <div style={{marginRight: \"10%\", marginLeft: \"10%\", marginTop:\"5%\", overflowY: \"auto\"}}>\r\n                \r\n                {orderDetails && (\r\n                    <div>\r\n                        <div className=\"d-flex\">\r\n                            <div className=\"w-50\">\r\n                                <div className=\"d-flex align-items-center\">\r\n                                    <div className=\"w-250px\">{translate(\"ORDER_DETAILS.ORDER_NUMBER\")}</div>\r\n                                    <span>{orderId}</span>\r\n                                </div>\r\n                                <div className=\"d-flex align-items-center\">\r\n                                    <div className=\"w-250px\">{translate(\"ORDER_DETAILS.DELIVERY_TYPE\")}</div>\r\n                                    <div>{deliverFormatter({DeliveryWays: deliveryWay})}</div>\r\n                                </div>\r\n                                <div className=\"d-flex align-items-center\">\r\n                                    <div className=\"w-250px\">{translate(\"ORDER_DETAILS.PACKAGE_TYPE\")}</div>\r\n                                    <div>{packageFormatter({PackageType: TypeLoad})}</div>\r\n                                </div>\r\n                                {isTransporterMaster() && AssignStatus === \"Assigned\" && <div className=\"d-flex\">\r\n                                    <div className=\"w-250px align-items-center\">{translate(\"ORDER_DETAILS.ASSIGNED\")}</div>\r\n                                    <div>{AssignedMemberName}</div>\r\n                                </div>}\r\n                                \r\n                                {TypeLoad !== \"1\" && (\r\n                                    <>\r\n                                        <div className=\"d-flex align-items-center\">\r\n                                            <div className=\"w-250px\">{translate(\"ORDER_DETAILS.LOAD_HEIGHT\")}</div>\r\n                                            <div>{HeightLoad || <hr style={{width: \"70px\"}}/>}</div>\r\n                                        </div>\r\n                                        <div className=\"d-flex align-items-center\">\r\n                                            <div className=\"w-250px\">{translate(\"ORDER_DETAILS.LOAD_WIDTH\")}</div>\r\n                                            <div>{WidthLoad || <hr style={{width: \"70px\"}}/>}</div>\r\n                                        </div>\r\n                                        <div className=\"d-flex align-items-center\">\r\n                                            <div className=\"w-250px\">{translate(\"ORDER_DETAILS.LOAD_LENGTH\")}</div>\r\n                                            <div>{LengthLoad || <hr style={{width: \"70px\"}}/>}</div>\r\n                                        </div>\r\n                                        <div className=\"d-flex align-items-center\">\r\n                                            <div className=\"w-250px\">{translate(\"ORDER_DETAILS.LOAD_WEIGHT\")}</div>\r\n                                            <div>{WeightLoad || <hr style={{width: \"70px\"}}/>}</div>\r\n                                        </div>\r\n                                        <div className=\"d-flex align-items-center\">\r\n                                            <div className=\"w-250px\">{translate(\"ORDER_DETAILS.LOAD_DETAILS\")}</div>\r\n                                            <div>{DetailsLoad || <hr style={{width: \"70px\"}}/>}</div>\r\n                                        </div>\r\n                                    </>\r\n                                )}   \r\n                            </div>\r\n                            <div>\r\n                                {orderDetails.BarCode && <Barcode value={orderDetails.BarCode} />}\r\n                                {!orderDetails.BarCode && <Barcode value={orderId.padStart(8,0)} />}\r\n                            </div>\r\n                        </div> \r\n                        <div className=\"d-flex\">\r\n                            <Accordion defaultActiveKey=\"0\" className=\"w-50 m-inline-e-2\">\r\n                                <Accordion.Item \r\n                                    eventKey=\"0\"\r\n                                    className=\"w-100\"\r\n                                >\r\n                                    <Accordion.Header as=\"div\">\r\n                                        {translate(\"ORDER_DETAILS.SENDER_ADDRESS\")}\r\n                                    </Accordion.Header>\r\n                                    <Accordion.Body>\r\n                                                \r\n                                        <Address address={senderAddress}/>\r\n                                                    \r\n                                    </Accordion.Body>\r\n                                            \r\n                                </Accordion.Item>\r\n                            </Accordion>\r\n\r\n                            <Accordion defaultActiveKey=\"0\" className=\"w-50\">\r\n                                <Accordion.Item \r\n                                    eventKey=\"0\"\r\n                                    className=\"w-100\"\r\n                                >\r\n                                    <Accordion.Header as=\"div\">\r\n                                        <div className=\"flex-grow-1\">\r\n                                            {translate(\"ORDER_DETAILS.RECEIVER_ADDRESS\")}\r\n                                        </div>\r\n                                        {isAcceptDelivery && (isTransporterMaster() || !isTransporter()) &&\r\n                                        <Button \r\n                                            variant=\"outline-warning\"\r\n                                            className=\"me-3 py-0\"\r\n                                            onClick={(event)=>{\r\n                                                event.stopPropagation();\r\n                                                setStartTracking(true);\r\n                                            }}\r\n                                            size=\"sm\"\r\n                                        >\r\n                                            Track\r\n                                        </Button>}\r\n                                    </Accordion.Header>\r\n                                    <Accordion.Body>\r\n                                                \r\n                                        <Address address={receiverAddress} />\r\n                                                    \r\n                                    </Accordion.Body>\r\n                                            \r\n                                </Accordion.Item>\r\n                            </Accordion>\r\n                        </div>\r\n                        <Box mt=\"10px\">\r\n                            {previousPage === \"all-orders\" && isTransporter() && tripCost && (\r\n                                    <Card\r\n                                        bg={\"Danger\"}\r\n                                        text={\"black\"}\r\n                                    >\r\n                                        <Card.Header>{translate(\"ORDER_DETAILS.BID_PRICE\")}</Card.Header>\r\n                                        <Card.Body className=\"d-flex align-items-center\">\r\n                                            {tripCost.CostDelivery}\r\n                                            <div className=\"ActionButtons ms-auto\">\r\n                                                <DeleteTripCost orderId={orderId}/>\r\n                                                <EditTripCost orderId={orderId} tripCost={tripCost.CostDelivery}/>\r\n                                            </div>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                            )}\r\n                        </Box>\r\n                        <Box mt=\"10px\">\r\n                            {previousPage === \"all-orders\" && !isTransporter() && tripCost && tripCost.length !== 0 && (\r\n                                <div>\r\n                                    <Card\r\n                                        bg={\"Danger\"}\r\n                                        text={\"black\"}\r\n                                    >\r\n                                        <Card.Header>{translate(\"ORDERS.AVAILABLE_OFFERS\")}</Card.Header>\r\n                                        <Card.Body>\r\n                                            {tripCost.map((costs)=>{\r\n                                                return <div className=\"align-items-center d-flex justify-content-between\">\r\n                                                    <img className=\"w-25\" src={`http://46.253.93.4/togo/MobileAPi/${costs.TransporterPersonalImg}`} alt=\"transImg\" />\r\n                                                    <div>{costs.TransporterName}</div>\r\n                                                    <Card.Title>{costs.BidCost}</Card.Title>\r\n                                                    <Button className=\"btn-grad\" onClick={()=>{\r\n                                                        AcceptOfferReq(costs.IdTransporterBidRequist, orderId ,costs.BidCost).then((resp)=>{\r\n                                                            if(resp.data.indexOf(\"Success\") !== -1){\r\n                                                                refreshPage();\r\n                                                            }\r\n                                                        })\r\n                                                    }}>Accept Offer</Button>\r\n                                                </div>\r\n                                            })}\r\n                                            {/* <Card.Title>{tripCost || translate(\"ORDERS.NO_OFFERS\")}</Card.Title> */}\r\n                                            {/* <Card.Text></Card.Text> */}\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </div>\r\n                            )}\r\n                            \r\n                            {previousPage === \"all-orders\" && !isTransporter() && \r\n                                <div className=\"d-flex align-items-center\">\r\n                                    <Button \r\n                                        className=\"ms-auto my-2\" \r\n                                        onClick={()=>{\r\n                                            window.open(\"/account/bill-for-order/\" + orderId + \"?print=true\")\r\n                                        }}\r\n                                    >\r\n                                        {translate(\"ORDER_DETAILS.PRINT\")}\r\n                                    </Button>\r\n                                    <CancelOrder orderId={orderId} className=\"mx-1\" onSuccess={()=>{\r\n                                        history.goBack();\r\n                                    }} />\r\n                                </div>\r\n                            }\r\n\r\n                            {previousPage === \"all-orders\" &&\r\n                            !costSet && isTransporter() && <div className=\"mt-2 d-inline-block float-end\">\r\n                                <BidOrder orderId={orderId}/>\r\n                                </div>\r\n                            }\r\n\r\n\r\n                            {previousPage === \"current-orders\" && (\r\n                                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"end\">\r\n                                    {isTransporterMaster() && AssignStatus !== \"Assigned\" &&\r\n                                        <AssignToTransporter \r\n                                            onSuccess={()=>{\r\n                                                getOrderDetails(orderId).then((orderDetailsRes) => {\r\n                                                    setOrderDetails(orderDetailsRes);\r\n                                                });\r\n                                            }}\r\n                                            orderId={orderId} \r\n                                        />\r\n                                    }\r\n                                    \r\n                                    {(isTeamMember() || (isTransporter() && !isTransporterMaster())) && \r\n                                        <div className=\"ms-1\">\r\n                                            <FinalizeOrder orderId={orderId} />\r\n                                        </div>\r\n                                    }\r\n                                </Box>\r\n                            )}\r\n                        </Box>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    } else if(typeof orderDetails === \"string\") {\r\n        return (\r\n            <Alert status=\"error\" w=\"80%\" m=\"10px auto\">\r\n                <AlertIcon />\r\n                <AlertTitle mr={2}>{orderId}</AlertTitle>\r\n                <AlertDescription>{orderDetails}</AlertDescription>\r\n            </Alert>\r\n        );\r\n    } else {\r\n        return <Box height=\"400px\"><Loader /></Box>\r\n    }\r\n}\r\n\r\nexport default OrderDetails;\r\n"]},"metadata":{},"sourceType":"module"}