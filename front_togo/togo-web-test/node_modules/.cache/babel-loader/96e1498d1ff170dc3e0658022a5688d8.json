{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/AddTransporterToNetworkDialog.jsx\";\nimport React, { useRef, useState } from \"react\";\nimport { Button, Form, Modal } from \"react-bootstrap\";\nimport { AddTransporterToNetwork } from \"../APIs/OrdersAPIs\";\nimport { useDispatch } from \"react-redux\";\nimport { toastNotification } from \"../Actions/GeneralActions\";\nimport translate from \"../i18n/translate\";\nexport default function AddTransporterToNetworkDialog() {\n  var dispatch = useDispatch();\n  var styles = {\n    cardHeaderLg: {\n      position: 'absolute',\n      left: '20px',\n      right: '20px',\n      top: '-20px',\n      background: \"linear-gradient(90deg, #26a69a, #69d4a5)\",\n      color: 'white',\n      borderRadius: '10px',\n      fontWeight: 'bold',\n      fontSize: \"1rem\",\n      height: \"3rem\"\n    },\n    cardHeaderSm: {\n      position: 'absolute',\n      left: '20px',\n      top: '-20px',\n      background: \"linear-gradient(90deg, #26a69a, #69d4a5)\",\n      color: 'white',\n      borderRadius: '10px',\n      fontWeight: 'bold',\n      fontSize: \"1rem\"\n    }\n  };\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      show = _useState2[0],\n      setShow = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      validated = _useState4[0],\n      setValidated = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      beginValidation = _useState6[0],\n      setBeginValidation = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      phoneCheck = _useState8[0],\n      setPhoneCheck = _useState8[1];\n\n  var phonenumRef = useRef();\n\n  var handleClose = function handleClose() {\n    setShow(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    className: \"border mt-3 me-5 rounded-22 btn-grad\",\n    onClick: function onClick() {\n      setShow(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, translate(\"TEMP.ADD_TRANSPORTER\"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ms-2 bi bi-plus-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    centered: true,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    style: styles.cardHeaderLg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, translate(\"TEMP.ADD_TRANSPORTER\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    id: \"orderForm\",\n    validated: validated,\n    noValidate: true,\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var formData = new FormData(event.target),\n          formDataObj = Object.fromEntries(formData.entries());\n      var form = event.currentTarget;\n\n      if (form.checkValidity() === true) {\n        // console.log(formDataObj);\n        AddTransporterToNetwork(phonenumRef.current.value).then(function (res) {\n          if (res.data == \"Inserted\") {\n            dispatch(toastNotification(\"Invitation sent\", \"Invitation sent successfully!\", \"info\"));\n            handleClose();\n          } else {\n            dispatch(toastNotification(\"Error\", res.data, \"error\"));\n          }\n        });\n      }\n\n      setValidated(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, translate(\"TEMP.PLZ_ENTER_MOBILE\")), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    readOnly: false,\n    className: \"input-inner-sha\",\n    placeholder: \"+972500000000\",\n    type: \"tel\" // ref={phonenumRef}\n    ,\n    name: \"phone\",\n    pattern: \"^[+]9725[0-9]{8}?$\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }), beginValidation && !phoneCheck && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 60\n    }\n  }, \"required!\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-secondary\",\n    className: \"w-50\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 29\n    }\n  }, translate(\"GENERAL.CLOSE\")), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"primary\",\n    className: \"grad-button ms-3 w-50\"\n    /*  onClick={() => {\r\n         setBeginValidation(true);\r\n           if (phonenumRef.current.value) {\r\n             setPhoneCheck(true)\r\n               AddTransporterToNetwork(phonenumRef.current.value).then((res) => {\r\n                       handleClose();\r\n             })\r\n         } else {\r\n             setPhoneCheck(false)\r\n         }\r\n     }} */\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }, translate(\"TEMP.SEND_INVITATION\")))))));\n}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/AddTransporterToNetworkDialog.jsx"],"names":["React","useRef","useState","Button","Form","Modal","AddTransporterToNetwork","useDispatch","toastNotification","translate","AddTransporterToNetworkDialog","dispatch","styles","cardHeaderLg","position","left","right","top","background","color","borderRadius","fontWeight","fontSize","height","cardHeaderSm","show","setShow","validated","setValidated","beginValidation","setBeginValidation","phoneCheck","setPhoneCheck","phonenumRef","handleClose","event","preventDefault","stopPropagation","formData","FormData","target","formDataObj","Object","fromEntries","entries","form","currentTarget","checkValidity","current","value","then","res","data"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport { Button, Form, Modal } from \"react-bootstrap\";\r\nimport { AddTransporterToNetwork } from \"../APIs/OrdersAPIs\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { toastNotification } from \"../Actions/GeneralActions\";\r\n\r\nimport translate from \"../i18n/translate\";\r\n\r\nexport default function AddTransporterToNetworkDialog() {\r\n\r\n    let dispatch = useDispatch();\r\n\r\n    const styles = {\r\n        cardHeaderLg: {\r\n            position: 'absolute',\r\n            left: '20px',\r\n            right: '20px',\r\n            top: '-20px',\r\n            background: \"linear-gradient(90deg, #26a69a, #69d4a5)\",\r\n            color: 'white',\r\n            borderRadius: '10px',\r\n            fontWeight: 'bold',\r\n            fontSize: \"1rem\",\r\n            height: \"3rem\"\r\n        },\r\n        cardHeaderSm: {\r\n            position: 'absolute',\r\n            left: '20px',\r\n            top: '-20px',\r\n            background: \"linear-gradient(90deg, #26a69a, #69d4a5)\",\r\n            color: 'white',\r\n            borderRadius: '10px',\r\n            fontWeight: 'bold',\r\n            fontSize: \"1rem\"\r\n        },\r\n    }\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    const [validated, setValidated] = useState(false);\r\n\r\n    const [beginValidation, setBeginValidation] = useState(false);\r\n    const [phoneCheck, setPhoneCheck] = useState(false);\r\n\r\n    const phonenumRef = useRef();\r\n    const handleClose = () => {\r\n        setShow(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Button className=\"border mt-3 me-5 rounded-22 btn-grad\" onClick={() => {\r\n                setShow(true);\r\n            }}>\r\n                {translate(\"TEMP.ADD_TRANSPORTER\")}\r\n                <i className={\"ms-2 bi bi-plus-circle\"}></i>\r\n            </Button>\r\n\r\n            <Modal show={show} centered onHide={handleClose}>\r\n                <Modal.Header style={styles.cardHeaderLg}>\r\n                    {translate(\"TEMP.ADD_TRANSPORTER\")}\r\n                </Modal.Header>\r\n\r\n                <Modal.Body className=\"mt-4\">\r\n                    <Form id=\"orderForm\" validated={validated} noValidate onSubmit={(event) => {\r\n                        event.preventDefault();\r\n                        event.stopPropagation();\r\n\r\n                        const formData = new FormData(event.target), formDataObj = Object.fromEntries(formData.entries());\r\n\r\n                        const form = event.currentTarget;\r\n                        if (form.checkValidity() === true) {\r\n                            // console.log(formDataObj);\r\n\r\n                            AddTransporterToNetwork(phonenumRef.current.value).then((res) => {\r\n\r\n                                if (res.data == \"Inserted\") {\r\n\r\n                                    dispatch(toastNotification(\"Invitation sent\", \"Invitation sent successfully!\", \"info\"));\r\n\r\n                                    handleClose();\r\n                                } else {\r\n                                    dispatch(toastNotification(\"Error\", res.data, \"error\"));\r\n                                }\r\n                                \r\n                            })\r\n                        }\r\n                        setValidated(true);\r\n                    }}>\r\n                        <p>{translate(\"TEMP.PLZ_ENTER_MOBILE\")}</p>\r\n                        <Form.Control\r\n                            required\r\n                            readOnly={false}\r\n                            className=\"input-inner-sha\"\r\n                            placeholder=\"+972500000000\"\r\n                            type=\"tel\"\r\n                            // ref={phonenumRef}\r\n                            name=\"phone\"\r\n                            pattern=\"^[+]9725[0-9]{8}?$\"\r\n                        />\r\n                        {beginValidation && !phoneCheck && <span style={{ color: \"red\" }}>required!</span>}\r\n\r\n                        <hr />\r\n\r\n                        <div className=\"mt-3 d-flex justify-content-center\">\r\n                            <Button variant=\"outline-secondary\" className=\"w-50\" onClick={handleClose}>\r\n                                {translate(\"GENERAL.CLOSE\")}\r\n                            </Button>\r\n                            <Button type=\"submit\" variant=\"primary\" className=\"grad-button ms-3 w-50\"\r\n                           /*  onClick={() => {\r\n                                setBeginValidation(true);\r\n\r\n                                if (phonenumRef.current.value) {\r\n                                    setPhoneCheck(true)\r\n\r\n                                    AddTransporterToNetwork(phonenumRef.current.value).then((res) => {\r\n\r\n\r\n\r\n                                        handleClose();\r\n                                    })\r\n                                } else {\r\n                                    setPhoneCheck(false)\r\n                                }\r\n                            }} */>\r\n                                {translate(\"TEMP.SEND_INVITATION\")}\r\n                            </Button>\r\n                        </div>\r\n                    </Form>\r\n                </Modal.Body>\r\n\r\n                {/* <Modal.Footer className=\"justify-content-center border-0 pt-0\">\r\n                    <Button variant=\"outline-secondary\" className=\"\" onClick={handleClose}>\r\n                        {translate(\"GENERAL.CLOSE\")}\r\n                    </Button>\r\n                    <Button variant=\"primary\" className=\"grad-button\" \r\n                        onClick={()=>{\r\n                            setBeginValidation(true);\r\n\r\n                            if (phonenumRef.current.value) {\r\n                                setPhoneCheck(true)\r\n\r\n                                AddTransporterToNetwork(phonenumRef.current.value).then(()=>{\r\n                                    handleClose();\r\n                                })\r\n                            } else {\r\n                                setPhoneCheck(false)\r\n                            }\r\n                        }}>\r\n                        {translate(\"GENERAL.PROCEED\")}\r\n                    </Button>\r\n                </Modal.Footer> */}\r\n            </Modal>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}