{"ast":null,"code":"import _slicedToArray from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{NavLink,Route,Switch,useLocation,useRouteMatch}from\"react-router-dom\";import bell from\"../../assets/bell.png\";import{GetCurrentOrders,GetFinishedOrders,GetTransporterList}from\"../APIs/OrdersAPIs\";import{CreateNewOrder}from\"../CreateNewOrder\";import OrdersCardView from\"../Orders/OrdersCardView\";import{isTransporter}from\"../../Util\";export default function CurrentOrdersList(){var _useRouteMatch=useRouteMatch(),path=_useRouteMatch.path,url=_useRouteMatch.url;var location=useLocation();var _useState=useState(),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),clientInfo=_useState4[0],setClientInfo=_useState4[1];useEffect(function(){var fun=location.pathname.indexOf(\"history\")!=-1?GetFinishedOrders:GetCurrentOrders;if(isTransporter()){var parts=location.pathname.split(\"/\");fun=GetTransporterList.bind(null,parts[2]||\"NEW_ORDERS\");}fun().then(function(res){if(isTransporter()){setOrders(res.data.orders);setClientInfo(res.data.transporter[0]);}else{setClientInfo(res.data.clientDetails[0]);setOrders(res.data.orderDetails);}});},[location.pathname]);return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column h-100\"},/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:\"30%\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Hi \",clientInfo===null||clientInfo===void 0?void 0:clientInfo.fullname),/*#__PURE__*/React.createElement(\"div\",null,clientInfo===null||clientInfo===void 0?void 0:clientInfo.PhoneNumber)),/*#__PURE__*/React.createElement(\"img\",{style:{filter:\"drop-shadow(2px 4px 6px black)\"},src:bell})),/*#__PURE__*/React.createElement(\"p\",{className:\"fw-bold\"},\"What can we help you with?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(CreateNewOrder,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"align-items-center d-flex text-center\"},/*#__PURE__*/React.createElement(NavLink,{to:\"\".concat(url,\"/NEW_ORDERS\"),className:\"w-50 text-decoration-none py-2\",activeClassName:\"active-order\",isActive:function isActive(match,loca){return loca.pathname===\"/dashboard/\"||loca.pathname===\"/dashboard/NEW_ORDERS\";}},\"Current Orders\"),!isTransporter()&&/*#__PURE__*/React.createElement(NavLink,{to:\"\".concat(url,\"/historyorders\"),className:\"w-50 text-decoration-none py-2\",activeClassName:\"active-order\"},\"Orders History\"),isTransporter()&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavLink,{to:\"\".concat(url,\"/MY_ORDERS\"),className:\"w-50 text-decoration-none py-2\",activeClassName:\"active-order\"},\"Orders History\"),/*#__PURE__*/React.createElement(NavLink,{to:\"\".concat(url,\"/DELIVERED\"),className:\"w-50 text-decoration-none py-2\",activeClassName:\"active-order\"},\"Orders History\")))),/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:\"70%\",overflow:\"auto\"}},/*#__PURE__*/React.createElement(OrdersCardView,{orders:orders})));}","map":null,"metadata":{},"sourceType":"module"}