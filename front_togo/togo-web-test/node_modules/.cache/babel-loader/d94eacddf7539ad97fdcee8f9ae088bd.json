{"ast":null,"code":"import _classCallCheck from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/QRCodeGenerator/QRCodeGenerator.jsx\";\nimport React, { Component } from \"react\";\nimport \"./QRCodeGenerator.css\";\nimport { getAuthenticationQR } from \"../../APIs/AuthenticationAPIs\";\nimport { checkAccess as _checkAccess } from \"../../Actions/authenticationActions\";\nimport { connect } from \"react-redux\";\nimport AuthOne from '../../assets/images/auth1.jpg';\nimport AuthTOW from '../../assets/images/auth2.jpg';\nimport { Image, ListGroup, Accordion, Button, Card } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router\";\nimport { refreshPage } from \"../../Functions/CommonFunctions\";\n\nvar QRCode = require(\"qrcode.react\");\n\nvar QRCodeGenerator = /*#__PURE__*/function (_Component) {\n  _inherits(QRCodeGenerator, _Component);\n\n  var _super = _createSuper(QRCodeGenerator);\n\n  function QRCodeGenerator() {\n    var _this;\n\n    _classCallCheck(this, QRCodeGenerator);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      qrUUID: null\n    };\n\n    _this.getAuthenticationQR = function () {\n      getAuthenticationQR().then(function (qrUUID) {\n        _this.setState({\n          qrUUID: qrUUID\n        });\n      });\n    };\n\n    _this.componentDidMount = function () {\n      var _this$props = _this.props,\n          history = _this$props.history,\n          checkAccess = _this$props.checkAccess;\n\n      _this.getAuthenticationQR();\n\n      _this.qrCodeGeneratorInterval = setInterval(_this.getAuthenticationQR, 300000000);\n      _this.checkSuccessInterval = setInterval(function () {\n        checkAccess(_this.state.qrUUID).then(function (res) {\n          res && history.push(\"/account/main/\"); // res && console.log(\"logged in !!!!!!!!!!!!\");\n          // res && refreshPage();\n        });\n      }, 5000);\n    };\n\n    _this.componentWillUnmount = function () {\n      clearInterval(_this.qrCodeGeneratorInterval);\n      clearInterval(_this.checkSuccessInterval);\n    };\n\n    return _this;\n  }\n\n  _createClass(QRCodeGenerator, [{\n    key: \"render\",\n    value: function render() {\n      var qrUUID = this.state.qrUUID; // const history = useHistory();\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: \"relative\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"upperBackground\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Card, {\n        className: \"main-card shadow rounded-22 pb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-evenly p-2 w-100 w-75\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Accordion, {\n        defaultActiveKey: \"0\",\n        style: {\n          width: \"40%\"\n        },\n        className: \"mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Accordion.Item, {\n        eventKey: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Accordion.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 37\n        }\n      }, \"1. Get Started\"), /*#__PURE__*/React.createElement(Accordion.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 41\n        }\n      }, \"Have you got the app ? if not please download from \"), /*#__PURE__*/React.createElement(Link, {\n        to: \"/#testdownload\",\n        style: {\n          color: \"#0d6efd\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 41\n        }\n      }, \"here\"))), /*#__PURE__*/React.createElement(Accordion.Item, {\n        eventKey: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Accordion.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 37\n        }\n      }, \"2. Register an account\"), /*#__PURE__*/React.createElement(Accordion.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        as: \"ol\",\n        numbered: true,\n        variant: \"flush\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n        as: \"li\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 45\n        }\n      }, \"Choose your language\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n        as: \"li\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 45\n        }\n      }, \"Check TOGO privacy agreement\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n        as: \"li\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 45\n        }\n      }, \"Enter your mobile number and create your account\")))), /*#__PURE__*/React.createElement(Accordion.Item, {\n        eventKey: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Accordion.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 37\n        }\n      }, \"3. Click on user icon\"), /*#__PURE__*/React.createElement(Accordion.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        src: AuthOne,\n        alt: \"stepone\",\n        rounded: true,\n        className: \"m-auto\",\n        style: {\n          maxWidth: \"210px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 41\n        }\n      }))), /*#__PURE__*/React.createElement(Accordion.Item, {\n        eventKey: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Accordion.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 37\n        }\n      }, \"4. Select scan bar code\"), /*#__PURE__*/React.createElement(Accordion.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        src: AuthTOW,\n        alt: \"steptwo\",\n        rounded: true,\n        className: \"m-auto\",\n        style: {\n          maxWidth: \"210px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 41\n        }\n      })))), qrUUID && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: \"relative\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"qr-code-canvas\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(QRCode, {\n        value: qrUUID,\n        size: 256 //fgColor=\"green\"\n        ,\n        imageSettings: {\n          //src: whiteLogo,\n          height: 30 * 256 / 100,\n          width: 30 * 256 / 100,\n          excavate: false\n        } //includeMargin={true}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"login-num\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"btn-grad\",\n        onClick: function onClick() {\n          /* history.push(\"/account/LoginByPhoneNumber\"); */\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 41\n        }\n      }, \"Login With Mobile Number\")))))));\n    }\n  }]);\n\n  return QRCodeGenerator;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    checkAccess: function checkAccess(qrUUID) {\n      return dispatch(_checkAccess(qrUUID));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QRCodeGenerator);","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/QRCodeGenerator/QRCodeGenerator.jsx"],"names":["React","Component","getAuthenticationQR","checkAccess","connect","AuthOne","AuthTOW","Image","ListGroup","Accordion","Button","Card","Link","useHistory","refreshPage","QRCode","require","QRCodeGenerator","state","qrUUID","then","setState","componentDidMount","props","history","qrCodeGeneratorInterval","setInterval","checkSuccessInterval","res","push","componentWillUnmount","clearInterval","position","width","color","maxWidth","height","excavate","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./QRCodeGenerator.css\";\r\nimport { getAuthenticationQR } from \"../../APIs/AuthenticationAPIs\";\r\n\r\nimport { checkAccess } from \"../../Actions/authenticationActions\";\r\nimport { connect } from \"react-redux\";\r\nimport AuthOne from '../../assets/images/auth1.jpg';\r\nimport AuthTOW from '../../assets/images/auth2.jpg';\r\nimport { Image, ListGroup, Accordion, Button, Card } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport { refreshPage } from \"../../Functions/CommonFunctions\";\r\n\r\nvar QRCode = require(\"qrcode.react\");\r\n\r\nclass QRCodeGenerator extends Component {\r\n    state = { qrUUID: null };\r\n\r\n    getAuthenticationQR = () => {\r\n        getAuthenticationQR().then((qrUUID) => {\r\n            this.setState({\r\n                qrUUID,\r\n            });\r\n        });\r\n    };\r\n\r\n    componentDidMount = () => {\r\n        let { history, checkAccess } = this.props;\r\n\r\n        this.getAuthenticationQR();\r\n        this.qrCodeGeneratorInterval = setInterval(\r\n            this.getAuthenticationQR,\r\n            300000000\r\n        );\r\n        this.checkSuccessInterval = setInterval(() => {\r\n            checkAccess(this.state.qrUUID).then((res) => {\r\n                res && history.push(\"/account/main/\");\r\n                // res && console.log(\"logged in !!!!!!!!!!!!\");\r\n                // res && refreshPage();\r\n            });\r\n        }, 5000);\r\n    };\r\n\r\n    componentWillUnmount = () => {\r\n        clearInterval(this.qrCodeGeneratorInterval);\r\n        clearInterval(this.checkSuccessInterval);\r\n    };\r\n\r\n    render() {\r\n        let { qrUUID } = this.state;\r\n\r\n        // const history = useHistory();\r\n\r\n        return (\r\n            <div style={{ position: \"relative\" }}>\r\n                <div className=\"upperBackground\"></div>\r\n                <Card className=\"main-card shadow rounded-22 pb-5\">\r\n                    <Card.Body>\r\n                        <div className=\"d-flex justify-content-evenly p-2 w-100 w-75\">\r\n\r\n                            <Accordion defaultActiveKey=\"0\" style={{ width: \"40%\" }} className=\"mt-5\">\r\n                                <Accordion.Item eventKey=\"0\">\r\n                                    <Accordion.Header>1. Get Started</Accordion.Header>\r\n                                    <Accordion.Body>\r\n                                        <span>Have you got the app ? if not please download from </span>\r\n                                        <Link to=\"/#testdownload\" style={{ color: \"#0d6efd\" }}>here</Link>\r\n                                    </Accordion.Body>\r\n                                </Accordion.Item>\r\n                                <Accordion.Item eventKey=\"1\">\r\n                                    <Accordion.Header>2. Register an account</Accordion.Header>\r\n                                    <Accordion.Body>\r\n                                        <ListGroup as=\"ol\" numbered variant=\"flush\">\r\n                                            <ListGroup.Item as=\"li\">\r\n                                                Choose your language\r\n                                            </ListGroup.Item>\r\n                                            <ListGroup.Item as=\"li\">\r\n                                                Check TOGO privacy agreement\r\n                                            </ListGroup.Item>\r\n                                            <ListGroup.Item as=\"li\">\r\n                                                Enter your mobile number and create your account\r\n                                            </ListGroup.Item>\r\n                                        </ListGroup>\r\n                                    </Accordion.Body>\r\n                                </Accordion.Item>\r\n                                <Accordion.Item eventKey=\"2\">\r\n                                    <Accordion.Header>3. Click on user icon</Accordion.Header>\r\n                                    <Accordion.Body>\r\n                                        <Image src={AuthOne} alt=\"stepone\" rounded className=\"m-auto\" style={{ maxWidth: \"210px\" }} />\r\n                                    </Accordion.Body>\r\n                                </Accordion.Item>\r\n                                <Accordion.Item eventKey=\"3\">\r\n                                    <Accordion.Header>4. Select scan bar code</Accordion.Header>\r\n                                    <Accordion.Body>\r\n                                        <Image src={AuthTOW} alt=\"steptwo\" rounded className=\"m-auto\" style={{ maxWidth: \"210px\", }} />\r\n                                    </Accordion.Body>\r\n                                </Accordion.Item>\r\n                            </Accordion>\r\n\r\n                            {qrUUID && (\r\n                                <div style={{ position: \"relative\" }}>\r\n                                    <div className=\"qr-code-canvas\">\r\n                                        <QRCode\r\n                                            value={qrUUID}\r\n                                            size={256}\r\n                                            //fgColor=\"green\"\r\n                                            imageSettings={{\r\n                                                //src: whiteLogo,\r\n                                                height: 30 * 256 / 100,\r\n                                                width: 30 * 256 / 100,\r\n                                                excavate: false\r\n                                            }}\r\n                                        //includeMargin={true}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"login-num\">\r\n                                        <Button className=\"btn-grad\" onClick={() => { /* history.push(\"/account/LoginByPhoneNumber\"); */ }}>\r\n                                            Login With Mobile Number\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </Card.Body>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    checkAccess: (qrUUID) => dispatch(checkAccess(qrUUID))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(QRCodeGenerator);\r\n"]},"metadata":{},"sourceType":"module"}