{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/WayBill.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useParams } from \"react-router\";\nimport { getBusinessLocation, getPersonalInfo } from \"../Actions/ProfileActions\";\nimport translate from \"../i18n/translate\";\nimport { getOrderDetails } from \"./APIs/OrdersAPIs\";\nimport { packageFormatter } from \"./Orders/OrdersTabularView\";\nimport whiteLogo from '../assets/whiteLogo.png';\nimport html2canvas from \"html2canvas\";\nimport DomToImage from \"dom-to-image\";\nimport jsPDF from \"jspdf\";\nimport { Button } from \"react-bootstrap\";\n\nvar Barcode = require('react-barcode');\n\nfunction Convert_HTML_To_PDF() {\n  var elementHTML = document.querySelector('.togo-waybill');\n  DomToImage.toPng(elementHTML, {\n    width: 1260\n  }).then(function (dataUrl) {\n    var htmlImage = new Image();\n    htmlImage.src = dataUrl;\n    var pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n    var pageWidth = pdf.internal.pageSize.getWidth();\n    var pageHeight = pdf.internal.pageSize.getHeight();\n    var imageWidth = elementHTML.offsetWidth;\n    var imageHeight = elementHTML.offsetHeight;\n    var ratio = imageWidth / imageHeight >= pageWidth / pageHeight ? pageWidth / imageWidth : pageHeight / imageHeight; //pdf = new jsPDF(this.state.orientation, undefined, format);\n\n    pdf.addImage(htmlImage, 'PNG', 5, -10, imageWidth * ratio, imageHeight * ratio);\n    pdf.save('waybill.pdf');\n  }).catch(function (error) {\n    console.error('Error: ', error);\n  });\n  /* html2canvas(elementHTML, {\r\n      logging: true,\r\n      allowTaint: false,\r\n   useCORS: true,\r\n  }).then((canvas) =>{\r\n      document.body.appendChild(canvas);\r\n      var imgData = canvas.toDataURL(\"image/png\",1);\r\n      var pdf = new jsPDF(\"p\", \"mm\", \"a4\");\r\n      var pageWidth = pdf.internal.pageSize.getWidth();\r\n      var pageHeight = pdf.internal.pageSize.getHeight();\r\n      var imageWidth = canvas.width;\r\n      var imageHeight = canvas.height;\r\n        var ratio = imageWidth/imageHeight >= pageWidth/pageHeight ? pageWidth/imageWidth : pageHeight/imageHeight;\r\n      //pdf = new jsPDF(this.state.orientation, undefined, format);\r\n      pdf.addImage(imgData, 'PNG', 0, 0, imageWidth * ratio, imageHeight * ratio);\r\n      //pdf.save(\"waybill.pdf\");\r\n    }); */\n}\n\nexport default function WayBill() {\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      orderDetails = _useState2[0],\n      setOrderDetails = _useState2[1];\n\n  var location = useLocation();\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.profile.personalInfo;\n  }),\n      FullName = _useSelector.FullName,\n      Email = _useSelector.Email,\n      LogoUrl = _useSelector.LogoUrl;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.profile.businessLocations;\n  }),\n      BusinessName = _useSelector2.BusinessName;\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  useEffect(function () {\n    if (FullName && Email && orderDetails && BusinessName) {\n      if (new URLSearchParams(location.search).get(\"print\") === \"true\") {\n        window.print();\n      }\n    }\n  }, [FullName, Email, orderDetails]);\n  useEffect(function () {\n    dispatch(getPersonalInfo(function () {\n      setLoading(false);\n    }));\n    dispatch(getBusinessLocation());\n  }, [dispatch]);\n  useEffect(function () {\n    getOrderDetails(id).then(function (orderDetails) {\n      setOrderDetails(orderDetails);\n    });\n  }, [id]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"togo-waybill\",\n    style: {\n      width: \"1200px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-3 d-print-none\",\n    style: {\n      width: \"1200px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: Convert_HTML_To_PDF,\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"PDF\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border border-dark border-2 w-50 d-flex justify-content-between p-2 m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      maxWidth: \"200px\"\n    },\n    alt: \"business logo\",\n    src: \"http://46.253.93.4/togo/MobileAPi/\".concat(LogoUrl) //src=\"https://cdn.dribbble.com/users/1111447/screenshots/7697273/media/ba28a6aaee0f52b59662c6d6122c94ef.png?compress=1&resize=400x300\" \n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, FullName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, BusinessName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, translate(\"PERSONAL_DETAILS.EMAIL\"), \": \", Email))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.PRINT_DATE\"), \": \", new Date().toDateString(), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, orderDetails && orderDetails.BarCode && /*#__PURE__*/React.createElement(Barcode, {\n    value: orderDetails.BarCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 66\n    }\n  }), orderDetails && !orderDetails.BarCode && /*#__PURE__*/React.createElement(Barcode, {\n    value: id.padStart(8, 0),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 67\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50  m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    style: {\n      all: \"revert\",\n      margin: \"0\"\n    },\n    className: \"border-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    style: {\n      all: \"revert\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, translate(\"WAYBILL.SENDER\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, translate(\"WORKING_TIME.FROM\"), \": \", orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.ReceiverName, \", \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 96\n    }\n  }), \" \", orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.IdCitySource, \",\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 132\n    }\n  }), \" \", orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.OtherDetailsDes), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"my-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }, translate(\"ADMIN.MOBILE_NUMBER\"), \": \", orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.ReceiverAddressNum)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    style: {\n      all: \"revert\",\n      margin: \"0\"\n    },\n    className: \"border-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    style: {\n      all: \"revert\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, translate(\"WAYBILL.RECEIVER\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, translate(\"WORKING_TIME.TO\"), \": \", FullName, \",\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 71\n    }\n  }), orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.IdCityDes, \",\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 51\n    }\n  }), orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.OtherDetails), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"my-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, translate(\"ADMIN.MOBILE_NUMBER\"), \": \", orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.PhoneCustomer)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-75 m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border border-dark p-2 border-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }, translate(\"WAYBILL.NOTES\"), \": \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }\n  }, orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.DetailsLoad)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-75 m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered border-2 border-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 41\n    }\n  }, translate(\"WAYBILL.LENGTH\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 41\n    }\n  }, translate(\"WAYBILL.HEIGHT\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 41\n    }\n  }, translate(\"WAYBILL.WIDTH\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 41\n    }\n  }, translate(\"WAYBILL.WEIGHT\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 41\n    }\n  }, (orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.LengthLoad) || \"N/A\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 41\n    }\n  }, (orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.HeightLoad) || \"N/A\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 41\n    }\n  }, (orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.WidthLoad) || \"N/A\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 41\n    }\n  }, (orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.WeightLoad) || \"N/A\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-25\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered border-2 border-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 41\n    }\n  }, translate(\"WAYBILL.SHIP\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 41\n    }\n  }, packageFormatter({\n    PackageType: orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.TypeLoad\n  })))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border border-2 border-dark w-25 text-center mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"p-2 border-bottom border-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.AMOUNT\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center flex-column\",\n    style: {\n      height: \"calc(100% - 38px)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 25\n    }\n  }, orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.CostLoad), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }, translate(\"WAYBILL.NIS\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 17\n    }\n  }, translate(\"WAYBILL.TERMS_AND_CONDITIONS\")), /*#__PURE__*/React.createElement(\"ol\", {\n    style: {\n      padding: \"revert\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.CLOUSE_ONE\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.CLOUSE_TWO\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.CLOUSE_THREE\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.CLOUSE_FOUR\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.CLOUSE_FIVE\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.CLOUSE_SIX\")))), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: whiteLogo,\n    style: {\n      width: \"80px\",\n      filter: \"brightness(0)\"\n    },\n    alt: \"logo\",\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }\n  })));\n}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/WayBill.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","useLocation","useParams","getBusinessLocation","getPersonalInfo","translate","getOrderDetails","packageFormatter","whiteLogo","html2canvas","DomToImage","jsPDF","Button","Barcode","require","Convert_HTML_To_PDF","elementHTML","document","querySelector","toPng","width","then","dataUrl","htmlImage","Image","src","pdf","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","imageWidth","offsetWidth","imageHeight","offsetHeight","ratio","addImage","save","catch","error","console","WayBill","id","orderDetails","setOrderDetails","location","dispatch","state","profile","personalInfo","FullName","Email","LogoUrl","businessLocations","BusinessName","loading","setLoading","URLSearchParams","search","get","window","print","maxWidth","Date","toDateString","BarCode","padStart","all","margin","ReceiverName","IdCitySource","OtherDetailsDes","ReceiverAddressNum","IdCityDes","OtherDetails","PhoneCustomer","DetailsLoad","LengthLoad","HeightLoad","WidthLoad","WeightLoad","PackageType","TypeLoad","height","CostLoad","padding","filter"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation, useParams } from \"react-router\";\r\nimport { getBusinessLocation, getPersonalInfo } from \"../Actions/ProfileActions\";\r\nimport translate from \"../i18n/translate\";\r\nimport { getOrderDetails } from \"./APIs/OrdersAPIs\";\r\nimport { packageFormatter } from \"./Orders/OrdersTabularView\";\r\nimport whiteLogo from '../assets/whiteLogo.png';\r\nimport html2canvas from \"html2canvas\";\r\nimport DomToImage from \"dom-to-image\";\r\nimport jsPDF from \"jspdf\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nvar Barcode = require('react-barcode');\r\n\r\nfunction Convert_HTML_To_PDF() {\r\n    var elementHTML = document.querySelector('.togo-waybill');\r\n    DomToImage.toPng( elementHTML, {width: 1260} ).then( ( dataUrl ) => {\r\n        var htmlImage = new Image();\r\n        htmlImage.src = dataUrl;\r\n        var pdf = new jsPDF(\"p\", \"mm\", \"a4\");\r\n        \r\n        var pageWidth = pdf.internal.pageSize.getWidth();\r\n        var pageHeight = pdf.internal.pageSize.getHeight();\r\n        var imageWidth = elementHTML.offsetWidth;\r\n        var imageHeight = elementHTML.offsetHeight;\r\n        var ratio = imageWidth/imageHeight >= pageWidth/pageHeight ? pageWidth/imageWidth : pageHeight/imageHeight;\r\n        //pdf = new jsPDF(this.state.orientation, undefined, format);\r\n        pdf.addImage(htmlImage, 'PNG', 5, -10, imageWidth * ratio, imageHeight * ratio);\r\n\r\n        pdf.save('waybill.pdf' );\r\n      }).catch( ( error ) => {\r\n          console.error('Error: ', error);\r\n      });\r\n\r\n    /* html2canvas(elementHTML, {\r\n        logging: true,\r\n        allowTaint: false,\r\n\t    useCORS: true,\r\n    }).then((canvas) =>{\r\n        document.body.appendChild(canvas);\r\n        var imgData = canvas.toDataURL(\"image/png\",1);\r\n        var pdf = new jsPDF(\"p\", \"mm\", \"a4\");\r\n        var pageWidth = pdf.internal.pageSize.getWidth();\r\n        var pageHeight = pdf.internal.pageSize.getHeight();\r\n        var imageWidth = canvas.width;\r\n        var imageHeight = canvas.height;\r\n\r\n        var ratio = imageWidth/imageHeight >= pageWidth/pageHeight ? pageWidth/imageWidth : pageHeight/imageHeight;\r\n        //pdf = new jsPDF(this.state.orientation, undefined, format);\r\n        pdf.addImage(imgData, 'PNG', 0, 0, imageWidth * ratio, imageHeight * ratio);\r\n        //pdf.save(\"waybill.pdf\");\r\n\r\n    }); */\r\n}\r\n\r\nexport default function WayBill(){\r\n    const{ id } = useParams();\r\n    \r\n    const [orderDetails, setOrderDetails] = useState();\r\n    const location = useLocation();\r\n    const dispatch = useDispatch();\r\n    const {FullName, Email, LogoUrl} = useSelector(state => state.profile.personalInfo);\r\n    const { BusinessName } = useSelector(state => state.profile.businessLocations);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(()=>{\r\n        if(FullName && Email && orderDetails && BusinessName){\r\n            if(new URLSearchParams(location.search).get(\"print\") === \"true\"){\r\n                window.print();\r\n            }\r\n        }\r\n    }, [FullName, Email, orderDetails]);\r\n    \r\n\r\n    useEffect(() => {\r\n        dispatch(getPersonalInfo(() => {\r\n            setLoading(false);\r\n        }));\r\n        dispatch(getBusinessLocation());\r\n    }, [dispatch]);\r\n\r\n    useEffect(()=>{\r\n        \r\n        getOrderDetails(id).then((orderDetails) => {\r\n            setOrderDetails(orderDetails);\r\n        });\r\n\r\n    }, [id]);\r\n    \r\n    return (\r\n        <div className=\"d-flex justify-content-center\">\r\n        \r\n        <div className=\"togo-waybill\" style={{width: \"1200px\"}}>\r\n            <div className=\"py-3 d-print-none\" style={{width: \"1200px\"}}>\r\n                <Button onClick={Convert_HTML_To_PDF} className=\"\">PDF</Button>\r\n            </div>\r\n            <div className=\"d-flex\">\r\n                <div className=\"border border-dark border-2 w-50 d-flex justify-content-between p-2 m-inline-e-2\">\r\n                    <img \r\n                        style={{\r\n                            maxWidth: \"200px\"\r\n                        }}\r\n                        alt=\"business logo\"\r\n                        src={`http://46.253.93.4/togo/MobileAPi/${LogoUrl}`}\r\n                        //src=\"https://cdn.dribbble.com/users/1111447/screenshots/7697273/media/ba28a6aaee0f52b59662c6d6122c94ef.png?compress=1&resize=400x300\" \r\n                    />\r\n                    <div>\r\n                        <p>{FullName}</p>\r\n                        <p>{BusinessName}</p>\r\n                        <p>{translate(\"PERSONAL_DETAILS.EMAIL\")}: {Email}</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"w-50\">\r\n                    <p>{translate(\"WAYBILL.PRINT_DATE\")}: {new Date().toDateString()} </p>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                        {orderDetails && orderDetails.BarCode && <Barcode value={orderDetails.BarCode} />}\r\n                        {orderDetails && !orderDetails.BarCode && <Barcode value={id.padStart(8,0)} />}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"d-flex\">\r\n                \r\n                <div className=\"w-50  m-inline-e-2\">\r\n                    <fieldset \r\n                        style={{\r\n                            all: \"revert\",\r\n                            margin: \"0\"\r\n                        }}\r\n                        className=\"border-dark\"\r\n                    >\r\n                        <legend \r\n                            style={{\r\n                                all: \"revert\"\r\n                            }}\r\n                        >\r\n                            {translate(\"WAYBILL.SENDER\")}\r\n                        </legend>\r\n                        <div>\r\n                            <p>{translate(\"WORKING_TIME.FROM\")}: {orderDetails?.ReceiverName}, <br /> {orderDetails?.IdCitySource},<br /> {orderDetails?.OtherDetailsDes}</p>\r\n                            <hr className=\"my-2\" />\r\n                            <p>{translate(\"ADMIN.MOBILE_NUMBER\")}: {orderDetails?.ReceiverAddressNum}</p>\r\n                        </div>\r\n                    </fieldset>\r\n                </div>\r\n\r\n                <div className=\"w-50\">\r\n                    <fieldset \r\n                        style={{\r\n                            all: \"revert\",\r\n                            margin: \"0\",\r\n                        }}\r\n                        className=\"border-dark\"\r\n                    >\r\n                        <legend style={{\r\n                            all: \"revert\"\r\n                        }}>\r\n                            {translate(\"WAYBILL.RECEIVER\")}\r\n                        </legend>\r\n                        <p>{translate(\"WORKING_TIME.TO\")}: {FullName},<br />\r\n                        {orderDetails?.IdCityDes},<br />\r\n                        {orderDetails?.OtherDetails}\r\n                        </p>\r\n                        <hr className=\"my-2\" />\r\n                        <p>{translate(\"ADMIN.MOBILE_NUMBER\")}: {orderDetails?.PhoneCustomer}</p>\r\n                    </fieldset>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"d-flex pt-2\">\r\n                <div className=\"w-75 m-inline-e-2\">\r\n                    <div className=\"border border-dark p-2 border-2\">\r\n                        <p>{translate(\"WAYBILL.NOTES\")}: </p>\r\n                        <p>{orderDetails?.DetailsLoad}</p>\r\n                    </div>\r\n\r\n                    <div className=\"d-flex pt-2\">\r\n                        <div className=\"w-75 m-inline-e-2\">\r\n                            <table className=\"table table-bordered border-2 border-dark\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>{translate(\"WAYBILL.LENGTH\")}</th>\r\n                                        <th>{translate(\"WAYBILL.HEIGHT\")}</th>\r\n                                        <th>{translate(\"WAYBILL.WIDTH\")}</th>\r\n                                        <th>{translate(\"WAYBILL.WEIGHT\")}</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td>\r\n                                            {orderDetails?.LengthLoad || \"N/A\"}\r\n                                        </td>\r\n                                        <td>\r\n                                            {orderDetails?.HeightLoad || \"N/A\"}\r\n                                        </td>\r\n                                        <td>\r\n                                            {orderDetails?.WidthLoad || \"N/A\"}\r\n                                        </td>\r\n                                        <td>\r\n                                            {orderDetails?.WeightLoad || \"N/A\"}\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <div className=\"w-25\">\r\n                            <table className=\"table table-bordered border-2 border-dark\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>{translate(\"WAYBILL.SHIP\")}</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td>{packageFormatter({PackageType: orderDetails?.TypeLoad})}</td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"border border-2 border-dark w-25 text-center mb-3\">\r\n                    <p className=\"p-2 border-bottom border-dark\">{translate(\"WAYBILL.AMOUNT\")}</p>\r\n                    \r\n                    <div className=\"d-flex justify-content-center flex-column\" style={{height: \"calc(100% - 38px)\"}}>\r\n                        <h1 className=\"h1\">{orderDetails?.CostLoad}</h1>\r\n                        <p>{translate(\"WAYBILL.NIS\")}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <h1 className=\"h4\">{translate(\"WAYBILL.TERMS_AND_CONDITIONS\")}</h1>\r\n                <ol style={{padding: \"revert\"}}>\r\n                    <li>{translate(\"WAYBILL.CLOUSE_ONE\")}</li>\r\n                    <li>{translate(\"WAYBILL.CLOUSE_TWO\")}</li>\r\n                    <li>{translate(\"WAYBILL.CLOUSE_THREE\")}</li>\r\n                    <li>{translate(\"WAYBILL.CLOUSE_FOUR\")}</li>\r\n                    <li>{translate(\"WAYBILL.CLOUSE_FIVE\")}</li>\r\n                    <li>{translate(\"WAYBILL.CLOUSE_SIX\")}</li>\r\n                </ol>\r\n            </div>\r\n            <hr className=\"my-3\"/>\r\n            <img src={whiteLogo} style={{\r\n                width: \"80px\",filter: \"brightness(0)\"\r\n                }} alt=\"logo\" className=\"mb-3\" />\r\n        </div>\r\n    </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}