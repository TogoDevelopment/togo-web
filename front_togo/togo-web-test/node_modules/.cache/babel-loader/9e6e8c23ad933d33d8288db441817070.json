{"ast":null,"code":"import { hasFocusWithin, focus } from \"@chakra-ui/utils\";\nimport { useUpdateEffect } from \"./use-update-effect\";\n\n/**\n * React hook to focus an element conditionally\n *\n * @param ref the ref of the element to focus\n * @param options focus management options\n */\nexport function useFocusEffect(ref, options) {\n  var shouldFocus = options.shouldFocus,\n    preventScroll = options.preventScroll;\n  useUpdateEffect(function () {\n    var node = ref.current;\n    if (!node || !shouldFocus) return;\n    if (!hasFocusWithin(node)) {\n      focus(node, {\n        preventScroll: preventScroll,\n        nextTick: true\n      });\n    }\n  }, [shouldFocus, ref, preventScroll]);\n}","map":{"version":3,"names":["hasFocusWithin","focus","useUpdateEffect","useFocusEffect","ref","options","shouldFocus","preventScroll","node","current","nextTick"],"sources":["../../src/use-focus-effect.ts"],"sourcesContent":["import * as React from \"react\"\nimport { hasFocusWithin, focus } from \"@chakra-ui/utils\"\nimport { useUpdateEffect } from \"./use-update-effect\"\n\nexport type UseFocusEffectOptions = {\n  shouldFocus: boolean\n  preventScroll?: boolean\n}\n/**\n * React hook to focus an element conditionally\n *\n * @param ref the ref of the element to focus\n * @param options focus management options\n */\nexport function useFocusEffect<T extends HTMLElement>(\n  ref: React.RefObject<T>,\n  options: UseFocusEffectOptions,\n) {\n  const { shouldFocus, preventScroll } = options\n\n  useUpdateEffect(() => {\n    const node = ref.current\n\n    if (!node || !shouldFocus) return\n\n    if (!hasFocusWithin(node)) {\n      focus(node, { preventScroll, nextTick: true })\n    }\n  }, [shouldFocus, ref, preventScroll])\n}\n"],"mappings":"AACA,SAASA,cAAT,EAAyBC,KAAzB,QAAsC,kBAAtC;AACA,SAASC,eAAT,QAAgC,qBAAhC;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,cAATA,CACLC,GADK,EAELC,OAFK,EAGL;EACA,IAAQC,WAAF,GAAiCD,OAAvC,CAAQC,WAAF;IAAeC,aAAA,GAAkBF,OAAvC,CAAqBE,aAAA;EAErBL,eAAe,CAAC,YAAM;IACpB,IAAMM,IAAI,GAAGJ,GAAG,CAACK,OAAjB;IAEA,IAAI,CAACD,IAAD,IAAS,CAACF,WAAd,EAA2B;IAE3B,IAAI,CAACN,cAAc,CAACQ,IAAD,CAAnB,EAA2B;MACzBP,KAAK,CAACO,IAAD,EAAO;QAAED,aAAF,EAAEA,aAAF;QAAiBG,QAAQ,EAAE;MAA3B,CAAP,CAAL;IACD;EACF,CARc,EAQZ,CAACJ,WAAD,EAAcF,GAAd,EAAmBG,aAAnB,CARY,CAAf;AASD"},"metadata":{},"sourceType":"module"}