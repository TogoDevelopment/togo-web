{"ast":null,"code":"import _slicedToArray from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,ListGroup,Modal}from\"react-bootstrap\";import translate from\"../i18n/translate\";import React,{useEffect,useState}from\"react\";import{AssignOrderToMember,GetAllMembers}from\"./APIs/OrdersAPIs\";import{Box}from\"@chakra-ui/layout\";export default function AssignToTransporter(_ref){var orderId=_ref.orderId,onSuccess=_ref.onSuccess;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),members=_useState4[0],setMembers=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),active=_useState6[0],setActive=_useState6[1];var handleClose=function handleClose(){setShow(false);};var handleShow=function handleShow(){return setShow(true);};useEffect(function(){GetAllMembers().then(function(res){setMembers(res.data.server_response);});},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{className:\"font-weight-bold\",variant:\"success\",onClick:function onClick(){handleShow();}},translate(\"ORDER_DETAILS.ASSIGN\")),/*#__PURE__*/React.createElement(Modal,{show:show,onHide:handleClose,centered:true},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,null,translate(\"ORDER_DETAILS.FINALIZE_ORDER\"))),/*#__PURE__*/React.createElement(Box,{p:\"10px\"},/*#__PURE__*/React.createElement(ListGroup,{className:\"mb-1\"},members.length===0&&/*#__PURE__*/React.createElement(ListGroup.Item,{className:\"p-1 rounded-0\",variant:\"info\"},translate(\"ORDER_DETAILS.ADD_TRANSPORTER\")),members.length&&/*#__PURE__*/React.createElement(ListGroup.Item,{className:\"p-1 rounded-0\",variant:\"info\"},translate(\"ORDER_DETAILS.CHOOSE_TRANSPORTER\"))),/*#__PURE__*/React.createElement(ListGroup,{onClick:function onClick(event){console.log(event.target.id);setActive(members[event.target.id.split(\"_\")[0]]);}},members.map(function(member,idx){return/*#__PURE__*/React.createElement(ListGroup.Item,{className:\"p-1\",id:\"\".concat(idx,\"_\").concat(member.FullName),key:\"\".concat(idx,\"_\").concat(member.FullName),action:true,active:active.FullName===member.FullName},member.FullName);}))),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:handleClose},translate(\"GENERAL.CLOSE\")),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(){AssignOrderToMember(active.TransporterId,orderId).then(function(){handleClose();onSuccess();});},disabled:!active.FullName},translate(\"GENERAL.PROCEED\")))));}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/AssigneToTransporter.jsx"],"names":["Button","ListGroup","Modal","translate","React","useEffect","useState","AssignOrderToMember","GetAllMembers","Box","AssignToTransporter","orderId","onSuccess","show","setShow","members","setMembers","active","setActive","handleClose","handleShow","then","res","data","server_response","length","event","console","log","target","id","split","map","member","idx","FullName","TransporterId"],"mappings":"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","sourcesContent":["import { Button, ListGroup, Modal } from \"react-bootstrap\";\r\nimport translate from \"../i18n/translate\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { AssignOrderToMember, GetAllMembers } from \"./APIs/OrdersAPIs\";\r\nimport { Box } from \"@chakra-ui/layout\";\r\n\r\nexport default function AssignToTransporter({orderId, onSuccess}) {\r\n    const [show, setShow] = useState(false);\r\n    const [members, setMembers] = useState([]);\r\n    const [active, setActive] = useState({});\r\n    const handleClose = () => {\r\n        setShow(false);\r\n    };\r\n    \r\n    const handleShow = () => setShow(true);\r\n\r\n    useEffect(()=>{\r\n        GetAllMembers().then((res)=>{\r\n            setMembers(res.data.server_response);\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Button \r\n                className=\"font-weight-bold\"\r\n                variant=\"success\" \r\n                onClick={()=>{\r\n                    handleShow();\r\n                }}>\r\n                {translate(\"ORDER_DETAILS.ASSIGN\")}\r\n            </Button>\r\n            <Modal show={show} onHide={handleClose} centered>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{translate(\"ORDER_DETAILS.FINALIZE_ORDER\")}</Modal.Title>\r\n                </Modal.Header>\r\n                <Box p=\"10px\">\r\n                    \r\n                    <ListGroup className=\"mb-1\">\r\n                        {members.length === 0 && <ListGroup.Item className={\"p-1 rounded-0\"} variant=\"info\">\r\n                            {translate(\"ORDER_DETAILS.ADD_TRANSPORTER\")}\r\n                        </ListGroup.Item>}\r\n                        {members.length && <ListGroup.Item className={\"p-1 rounded-0\"} variant=\"info\">\r\n                            {translate(\"ORDER_DETAILS.CHOOSE_TRANSPORTER\")}\r\n                        </ListGroup.Item>}\r\n                    </ListGroup>\r\n\r\n                    <ListGroup onClick={(event)=>{\r\n                        console.log(event.target.id);\r\n                        setActive(members[event.target.id.split(\"_\")[0]])\r\n                    }}>\r\n                        {members.map((member, idx)=>{\r\n                            return (\r\n                            <ListGroup.Item \r\n                                className={\"p-1\"}\r\n                                id={`${idx}_${member.FullName}`} \r\n                                key={`${idx}_${member.FullName}`} \r\n                                action \r\n                                active={active.FullName === member.FullName}>\r\n                                    {member.FullName}\r\n                            </ListGroup.Item>\r\n                            )\r\n                        })}\r\n                    </ListGroup>\r\n                </Box>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleClose}>\r\n                        {translate(\"GENERAL.CLOSE\")}\r\n                    </Button>\r\n                    <Button variant=\"primary\" onClick={()=>{\r\n                        AssignOrderToMember(active.TransporterId, orderId).then(()=>{\r\n                            handleClose();\r\n                            onSuccess();\r\n                        })\r\n                    }} disabled={!active.FullName}>\r\n                        {translate(\"GENERAL.PROCEED\")}\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}