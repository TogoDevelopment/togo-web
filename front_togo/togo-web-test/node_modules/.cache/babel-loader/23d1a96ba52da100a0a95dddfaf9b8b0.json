{"ast":null,"code":"import _slicedToArray from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Dropdown,Form,Modal,Spinner}from\"react-bootstrap\";import React,{useEffect,useRef,useState}from\"react\";import translate from\"../i18n/translate\";import{ReactComponent as SendIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/send.svg\";import{CreateNewOrderReq,GetDefinedAddresses}from\"./APIs/OrdersAPIs\";import{ReactComponent as FoodIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/food.svg\";import{ReactComponent as SmBoxIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/smallBox.svg\";import{ReactComponent as MedBoxIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/medbox.svg\";import{ReactComponent as BigBoxIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/largebox.svg\";import{ReactComponent as DeliveryTruckIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/deliveryTruck.svg\";import{ReactComponent as LocationIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/location.svg\";import{ReactComponent as AttachmentIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/attachment.svg\";import{DeliveryTypes,PackageTypes}from\"./Orders/OrdersTabularView\";import AddressDropdown from\"./AddressDropdown\";import CreateAddress from\"./CreateAddress\";import{AddIcon}from\"@chakra-ui/icons\";import{useIntl}from\"react-intl\";export var PackageTypesIcons={\"1\":FoodIcon,\"2\":SmBoxIcon,\"3\":MedBoxIcon,\"4\":BigBoxIcon};export function CreateNewOrder(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openConf=_useState4[0],setOpenConf=_useState4[1];var handleClose=function handleClose(){setOpen(false);};var _useState5=useState(\"1\"),_useState6=_slicedToArray(_useState5,2),packageType=_useState6[0],setPackageType=_useState6[1];var _useState7=useState(\"1\"),_useState8=_slicedToArray(_useState7,2),deliveryType=_useState8[0],setDeliveryType=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),inputValue=_useState10[0],setInputValue=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),deliverAddresses=_useState12[0],setDeliverAddresses=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),selectedDeliveryAddress=_useState14[0],setSelectedDeliveryAddress=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),selectedPickUpAddress=_useState16[0],setSelectedPickUpAddress=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),loading=_useState18[0],setLoading=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),loadingSubmit=_useState20[0],setLoadingSubmit=_useState20[1];var orderIdRef=useRef();var notesRef=useRef();var heightRef=useRef();var widthRef=useRef();var lengthRef=useRef();var weightRef=useRef();var codAmountRef=useRef();var pickAmountRef=useRef();var intl=useIntl();useEffect(function(){var timer=setTimeout(function(){if(open){setLoading(true);GetDefinedAddresses(inputValue).then(function(res){setLoading(false);setDeliverAddresses(res.data);});}},500);return function(){return clearTimeout(timer);};},[inputValue,open]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"\".concat(props.children?\"\":\"btn-grad text-white\"),variant:\"\",onClick:function onClick(){setOpen(true);}},props.children&&props.children,!props.children&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SendIcon,{style:{display:\"inline-block\",width:\"22px\",height:\"22px\",marginRight:\"5px\",fill:\"currentcolor\"}}),translate(\"ORDERS.CREATE_ORDER\"))),/*#__PURE__*/React.createElement(Modal,{size:\"lg\",show:open,onHide:handleClose,centered:true,animation:false,backdrop:\"static\"},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,null,translate(\"ORDERS.CREATE_ORDER\"))),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"my-1\"},translate(\"ORDERS.WHAT_TO_TRANS\")),/*#__PURE__*/React.createElement(Dropdown,{className:\"togo-dropdown\",onSelect:function onSelect(eve){setPackageType(eve);}},/*#__PURE__*/React.createElement(Dropdown.Toggle,{variant:\"\",className:\"w-100 text-start d-flex align-items-center\"},React.createElement(PackageTypesIcons[packageType],{style:{width:\"20px\",height:\"20px\"},className:\"me-1\"}),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"97%\"}},translate(\"ORDERS.\"+PackageTypes[packageType]))),/*#__PURE__*/React.createElement(Dropdown.Menu,{className:\"w-100\"},/*#__PURE__*/React.createElement(Dropdown.Item,{eventKey:\"1\",className:\"d-flex\"},/*#__PURE__*/React.createElement(FoodIcon,{style:{width:\"20px\",height:\"20px\"},className:\"me-1\"}),translate(\"ORDERS.\"+PackageTypes[1])),/*#__PURE__*/React.createElement(Dropdown.Item,{eventKey:\"4\",className:\"d-flex\"},/*#__PURE__*/React.createElement(BigBoxIcon,{style:{width:\"20px\",height:\"20px\"},className:\"me-1\"}),translate(\"ORDERS.\"+PackageTypes[4])),/*#__PURE__*/React.createElement(Dropdown.Item,{eventKey:\"3\",className:\"d-flex\"},/*#__PURE__*/React.createElement(MedBoxIcon,{style:{width:\"20px\",height:\"20px\"},className:\"me-1\"}),translate(\"ORDERS.\"+PackageTypes[3])),/*#__PURE__*/React.createElement(Dropdown.Item,{eventKey:\"2\",className:\"d-flex\"},/*#__PURE__*/React.createElement(SmBoxIcon,{style:{width:\"20px\",height:\"20px\"},className:\"me-1\"}),translate(\"ORDERS.\"+PackageTypes[2])))),/*#__PURE__*/React.createElement(Form.Group,{onChange:function onChange(event){if(event.target.name===\"DeliveryType\"){setDeliveryType(event.target.value);}}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center my-1\"},/*#__PURE__*/React.createElement(DeliveryTruckIcon,{style:{width:\"15px\",height:\"15px\"},className:\"me-1\"}),translate(\"ORDERS.DELIVERY_TYPE\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\",style:{height:\"40px\"}},/*#__PURE__*/React.createElement(Form.Check,{type:\"radio\",label:translate(\"ORDERS.\"+DeliveryTypes[1]),name:\"DeliveryType\",id:\"formHorizontalRadios1\",value:\"1\",defaultChecked:deliveryType===\"1\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\",style:{height:\"40px\"}},/*#__PURE__*/React.createElement(Form.Check,{type:\"radio\",label:translate(\"ORDERS.\"+DeliveryTypes[2]),name:\"DeliveryType\",id:\"formHorizontalRadios2\",value:\"2\",defaultChecked:deliveryType===\"2\"}),deliveryType===\"2\"&&/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",className:\"ms-auto w-25\",placeholder:intl.formatMessage({id:\"ORDERS.AMOUNT\"}),ref:codAmountRef})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\",style:{height:\"40px\"}},/*#__PURE__*/React.createElement(Form.Check,{type:\"radio\",label:translate(\"ORDERS.\"+DeliveryTypes[3]),name:\"DeliveryType\",id:\"formHorizontalRadios3\",value:\"3\",defaultChecked:deliveryType===\"3\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\",style:{height:\"40px\"}},/*#__PURE__*/React.createElement(Form.Check,{type:\"radio\",label:translate(\"ORDERS.\"+DeliveryTypes[4]),name:\"DeliveryType\",id:\"formHorizontalRadios4\",value:\"4\",defaultChecked:deliveryType===\"4\"}),deliveryType===\"4\"&&/*#__PURE__*/React.createElement(Form.Control,{ref:pickAmountRef,type:\"number\",className:\"ms-auto w-25\",placeholder:intl.formatMessage({id:\"ORDERS.AMOUNT\"})}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-50 m-inline-e-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center my-1\"},/*#__PURE__*/React.createElement(LocationIcon,{style:{width:\"15px\",height:\"15px\"},className:\"me-1\"}),translate(\"ORDERS.PICKUP_ADDRESS\")),/*#__PURE__*/React.createElement(AddressDropdown,{loading:loading,addresses:deliverAddresses,onSearch:setInputValue,onSelect:setSelectedPickUpAddress,selectedAddress:selectedPickUpAddress})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-50 m-inline-e-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center my-1\"},/*#__PURE__*/React.createElement(SendIcon,{style:{width:\"15px\",height:\"15px\"},className:\"me-1\"}),/*#__PURE__*/React.createElement(\"p\",null,translate(\"ORDERS.DELIVER_TO\"))),/*#__PURE__*/React.createElement(AddressDropdown,{loading:loading,addresses:deliverAddresses,onSearch:setInputValue,onSelect:setSelectedDeliveryAddress,selectedAddress:selectedDeliveryAddress})),/*#__PURE__*/React.createElement(CreateAddress,null,/*#__PURE__*/React.createElement(\"div\",{className:\"btn-grad p-2 rounded-circle\"},/*#__PURE__*/React.createElement(AddIcon,{w:6,h:6,color:\"gray.50\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center my-1\"},/*#__PURE__*/React.createElement(AttachmentIcon,{style:{width:\"15px\",height:\"15px\"},className:\"me-1\"}),translate(\"ORDERS.ATTACHMENTS_LABEL\")),packageType!==\"1\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"my-1\"},translate(\"ORDERS.DIMENSIONS_LABEL\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",className:\"me-2\",placeholder:\"Height\",ref:heightRef}),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",className:\"me-2\",placeholder:\"Width\",ref:widthRef}),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",className:\"\",placeholder:\"Length\",ref:lengthRef})),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",className:\"mt-2\",placeholder:\"Weight\",ref:weightRef})),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",className:\"mt-2\",placeholder:\"Notes\",ref:notesRef})),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"\",className:\"togo-button w-100\",disabled:loadingSubmit,onClick:function onClick(){var _lengthRef$current,_widthRef$current,_heightRef$current,_weightRef$current;setLoadingSubmit(true);var DeliveryParams={deliveryWay:deliveryType,TypeLoad:packageType,CostLoad:deliveryType===\"2\"&&codAmountRef.current.value||deliveryType===\"4\"&&pickAmountRef.current.value||\"\",// 2 or 4\nDetailsLoad:notesRef.current.value,LengthLoad:((_lengthRef$current=lengthRef.current)===null||_lengthRef$current===void 0?void 0:_lengthRef$current.value)||\"\",WidthLoad:((_widthRef$current=widthRef.current)===null||_widthRef$current===void 0?void 0:_widthRef$current.value)||\"\",HeightLoad:((_heightRef$current=heightRef.current)===null||_heightRef$current===void 0?void 0:_heightRef$current.value)||\"\",WeightLoad:((_weightRef$current=weightRef.current)===null||_weightRef$current===void 0?void 0:_weightRef$current.value)||\"\",qrCode:\"\"};var AddressClint={IdCity:selectedPickUpAddress.cityId,// from selected pick up address\nOtherDetails:selectedPickUpAddress.details,// details from selected pickup address\nLatSender:selectedPickUpAddress.latitude,// from selected pick up address\nLongSender:selectedPickUpAddress.longitude,//  from selected pick up address\nSenderAddressId:selectedPickUpAddress.id,// from selected pick up address\nIdCityDes:selectedDeliveryAddress.cityId,// from selected delivery to address\nOtherDetailsDes:selectedDeliveryAddress.details,// details from selected delivery to address\nLatReciver:selectedDeliveryAddress.latitude,// from selected delivery to address\nLongReciver:selectedDeliveryAddress.longitude,// from selected delivery to address\nReciverAddressId:selectedDeliveryAddress.id,// from selected delivery to address\nReceiverAddressNum:selectedDeliveryAddress.phone_number};CreateNewOrderReq(JSON.stringify(DeliveryParams),JSON.stringify(AddressClint)).then(function(res){orderIdRef.current=JSON.parse(res.data.replace(\"}{\",\",\")).server_response[0].OrderId;//https://therichpost.com/reactjs-convert-html-into-pdf-working-functionality/\nsetOpenConf(true);setOpen(false);setLoadingSubmit(false);props.onSuccess();});/* - deliveryWay \r\n        This one from radio button for delivery type it contains four values \r\n            (Delivery = 1, Cache on delivery = 2, Pickup = 3, Pay and Pickup = 4)\r\n    - CostLoad   \r\n        This amount inserted in case of (Cache on delivery/Pay and pickup)\r\n    - TypeLoad   \r\n        This one from the list we pick Food or Small/Medium/Large package where \r\n            Food = 1, Small Package = 2, Medium Package =3, Large Package = 4\r\n    - qrCode\r\n        in case of submit with qrcode we will put the value else it will be empty */}},loadingSubmit&&/*#__PURE__*/React.createElement(Spinner,{animation:\"border\",size:\"sm\"}),translate(\"ORDERS.SUBMIT\")))),/*#__PURE__*/React.createElement(Modal,{show:openConf,onHide:function onHide(){setOpenConf(false);},animation:false,backdrop:\"static\"},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,null,\"Confirmation\")),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"p\",null,\"Would you like to print a waybill ?\")),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:function onClick(){setOpenConf(false);}},\"No\"),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(){setOpenConf(false);window.open(\"/account/bill-for-order/\"+orderIdRef.current+\"?print=true\");}},\"Yes\"))));}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/CreateNewOrder.jsx"],"names":["Button","Dropdown","Form","Modal","Spinner","React","useEffect","useRef","useState","translate","CreateNewOrderReq","GetDefinedAddresses","DeliveryTypes","PackageTypes","AddressDropdown","CreateAddress","AddIcon","useIntl","PackageTypesIcons","FoodIcon","SmBoxIcon","MedBoxIcon","BigBoxIcon","CreateNewOrder","props","open","setOpen","openConf","setOpenConf","handleClose","packageType","setPackageType","deliveryType","setDeliveryType","inputValue","setInputValue","deliverAddresses","setDeliverAddresses","selectedDeliveryAddress","setSelectedDeliveryAddress","selectedPickUpAddress","setSelectedPickUpAddress","loading","setLoading","loadingSubmit","setLoadingSubmit","orderIdRef","notesRef","heightRef","widthRef","lengthRef","weightRef","codAmountRef","pickAmountRef","intl","timer","setTimeout","then","res","data","clearTimeout","children","display","width","height","marginRight","fill","eve","createElement","style","className","event","target","name","value","formatMessage","id","DeliveryParams","deliveryWay","TypeLoad","CostLoad","current","DetailsLoad","LengthLoad","WidthLoad","HeightLoad","WeightLoad","qrCode","AddressClint","IdCity","cityId","OtherDetails","details","LatSender","latitude","LongSender","longitude","SenderAddressId","IdCityDes","OtherDetailsDes","LatReciver","LongReciver","ReciverAddressId","ReceiverAddressNum","phone_number","JSON","stringify","parse","replace","server_response","OrderId","onSuccess","window"],"mappings":"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","sourcesContent":["import { Button, Dropdown, Form, Modal, Spinner } from \"react-bootstrap\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport translate from \"../i18n/translate\";\r\nimport {ReactComponent as SendIcon } from \"../assets/images/send.svg\";\r\nimport { CreateNewOrderReq, GetDefinedAddresses } from \"./APIs/OrdersAPIs\";\r\nimport {ReactComponent as FoodIcon} from \"../assets/images/food.svg\";\r\nimport {ReactComponent as SmBoxIcon} from \"../assets/images/smallBox.svg\";\r\nimport {ReactComponent as MedBoxIcon} from \"../assets/images/medbox.svg\";\r\nimport {ReactComponent as BigBoxIcon} from \"../assets/images/largebox.svg\";\r\nimport {ReactComponent as DeliveryTruckIcon} from \"../assets/images/deliveryTruck.svg\";\r\nimport {ReactComponent as LocationIcon} from \"../assets/images/location.svg\";\r\nimport {ReactComponent as AttachmentIcon} from \"../assets/images/attachment.svg\";\r\nimport { DeliveryTypes, PackageTypes } from \"./Orders/OrdersTabularView\";\r\nimport AddressDropdown from \"./AddressDropdown\";\r\nimport CreateAddress from \"./CreateAddress\";\r\nimport { AddIcon } from \"@chakra-ui/icons\";\r\nimport { useIntl } from \"react-intl\";\r\n\r\nexport const PackageTypesIcons = {\r\n    \"1\": FoodIcon,\r\n    \"2\": SmBoxIcon,\r\n    \"3\": MedBoxIcon,\r\n    \"4\": BigBoxIcon\r\n};\r\n\r\n\r\nexport function CreateNewOrder(props){\r\n    const [open, setOpen] = useState(false);\r\n    const [openConf, setOpenConf] = useState(false);\r\n    const handleClose = () => { setOpen(false); }\r\n    const [packageType, setPackageType] = useState(\"1\");\r\n    const [deliveryType, setDeliveryType] = useState(\"1\");\r\n    const [inputValue, setInputValue] = useState('');\r\n    const [deliverAddresses, setDeliverAddresses] = useState([]);\r\n    const [selectedDeliveryAddress, setSelectedDeliveryAddress] = useState(\"\");\r\n    const [selectedPickUpAddress, setSelectedPickUpAddress] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [loadingSubmit, setLoadingSubmit] = useState(false);\r\n\r\n    const orderIdRef = useRef();\r\n    const notesRef = useRef();\r\n    const heightRef = useRef();\r\n    const widthRef = useRef();\r\n    const lengthRef = useRef();\r\n    const weightRef = useRef();\r\n    const codAmountRef = useRef();\r\n    const pickAmountRef = useRef();\r\n    const intl = useIntl();\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            if(open){\r\n                setLoading(true);\r\n                GetDefinedAddresses(inputValue).then((res)=>{\r\n                    setLoading(false);\r\n                    setDeliverAddresses(res.data);\r\n                });\r\n            }\r\n        }, 500)\r\n\r\n        return () => {\r\n            return clearTimeout(timer)\r\n        }\r\n    }, [inputValue, open]);\r\n    \r\n    return(\r\n        <>\r\n            <Button className={`${props.children ? \"\" : \"btn-grad text-white\"}`} variant=\"\" onClick={()=>{\r\n                setOpen(true);\r\n            }}>\r\n                {props.children && props.children}\r\n                {!props.children && (\r\n                    <>\r\n                        <SendIcon style={{display: \"inline-block\", width: \"22px\", height: \"22px\", marginRight:\"5px\", fill:\"currentcolor\"}} />\r\n                        {translate(\"ORDERS.CREATE_ORDER\")}\r\n                    </>\r\n                )}\r\n            </Button>\r\n            <Modal size=\"lg\" show={open} onHide={handleClose} centered animation={false} backdrop=\"static\">\r\n                \r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{translate(\"ORDERS.CREATE_ORDER\")}</Modal.Title>\r\n                </Modal.Header>\r\n                \r\n                <Modal.Body>\r\n\r\n                    <div className=\"my-1\">\r\n                        {translate(\"ORDERS.WHAT_TO_TRANS\")}\r\n                    </div>\r\n\r\n                    <Dropdown \r\n                        className=\"togo-dropdown\" \r\n                        onSelect={(eve)=>{\r\n                            setPackageType(eve);\r\n                        }}>\r\n                        <Dropdown.Toggle variant=\"\" className=\"w-100 text-start d-flex align-items-center\">\r\n                            {React.createElement(PackageTypesIcons[packageType], {style: {width: \"20px\", height: \"20px\"}, className: \"me-1\"})}\r\n                            <div style={{width: \"97%\"}}>    \r\n                                {translate(\"ORDERS.\" + PackageTypes[packageType])}\r\n                            </div>\r\n                        </Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu className=\"w-100\">\r\n                            <Dropdown.Item eventKey=\"1\" className=\"d-flex\">\r\n                                <FoodIcon style={{ width: \"20px\", height: \"20px\" }} className=\"me-1\" />\r\n                                {translate(\"ORDERS.\" + PackageTypes[1])}\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item eventKey=\"4\" className=\"d-flex\">\r\n                                <BigBoxIcon style={{ width: \"20px\", height: \"20px\" }} className=\"me-1\" />\r\n                                {translate(\"ORDERS.\" + PackageTypes[4])}\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item eventKey=\"3\" className=\"d-flex\">\r\n                                <MedBoxIcon style={{ width: \"20px\", height: \"20px\" }} className=\"me-1\" />\r\n                                {translate(\"ORDERS.\" + PackageTypes[3])}\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item eventKey=\"2\" className=\"d-flex\">\r\n                                <SmBoxIcon style={{ width: \"20px\", height: \"20px\" }} className=\"me-1\" />\r\n                                {translate(\"ORDERS.\" + PackageTypes[2])}\r\n                            </Dropdown.Item>\r\n                        </Dropdown.Menu>\r\n                    </Dropdown>\r\n                    \r\n                    <Form.Group onChange={(event)=>{\r\n                        if(event.target.name === \"DeliveryType\"){\r\n                            setDeliveryType(event.target.value);\r\n                        }\r\n                    }}>\r\n                        \r\n                        <div className=\"d-flex align-items-center my-1\">\r\n                            <DeliveryTruckIcon style={{ width: \"15px\", height: \"15px\" }} className=\"me-1\" />\r\n                            {translate(\"ORDERS.DELIVERY_TYPE\")}\r\n                        </div>\r\n                        \r\n                        <div className=\"d-flex align-items-center\" style={{height: \"40px\"}}>\r\n                            <Form.Check\r\n                                type=\"radio\"\r\n                                label={translate(\"ORDERS.\" + DeliveryTypes[1])}\r\n                                name=\"DeliveryType\"\r\n                                id=\"formHorizontalRadios1\"\r\n                                value=\"1\"\r\n                                defaultChecked={deliveryType === \"1\"}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex align-items-center\" style={{height: \"40px\"}}>\r\n                            <Form.Check\r\n                                type=\"radio\"\r\n                                label={translate(\"ORDERS.\" + DeliveryTypes[2])}\r\n                                name=\"DeliveryType\"\r\n                                id=\"formHorizontalRadios2\"\r\n                                value=\"2\"\r\n                                defaultChecked={deliveryType === \"2\"}\r\n                            />\r\n                            {deliveryType === \"2\" &&\r\n                                <Form.Control \r\n                                    type=\"number\" \r\n                                    className=\"ms-auto w-25\" \r\n                                    placeholder={intl.formatMessage({id: \"ORDERS.AMOUNT\"})}\r\n                                    ref={codAmountRef}\r\n                                />\r\n                            }\r\n                        </div>\r\n                        <div className=\"d-flex align-items-center\" style={{height: \"40px\"}}>\r\n                            <Form.Check\r\n                                type=\"radio\"\r\n                                label={translate(\"ORDERS.\" + DeliveryTypes[3])}\r\n                                name=\"DeliveryType\"\r\n                                id=\"formHorizontalRadios3\"\r\n                                value=\"3\"\r\n                                defaultChecked={deliveryType === \"3\"}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex align-items-center\" style={{height: \"40px\"}}>\r\n                            <Form.Check\r\n                                type=\"radio\"\r\n                                label={translate(\"ORDERS.\" + DeliveryTypes[4])}\r\n                                name=\"DeliveryType\"\r\n                                id=\"formHorizontalRadios4\"\r\n                                value=\"4\"\r\n                                defaultChecked={deliveryType === \"4\"}\r\n                            />\r\n                            {deliveryType === \"4\" && \r\n                                <Form.Control \r\n                                    ref={pickAmountRef}\r\n                                    type=\"number\"\r\n                                    className=\"ms-auto w-25\"\r\n                                    placeholder={intl.formatMessage({id: \"ORDERS.AMOUNT\"})}\r\n                                />\r\n                            }\r\n                        </div>\r\n                    </Form.Group>\r\n                    <div className=\"d-flex align-items-end\">\r\n                        <div className=\"w-50 m-inline-e-2\">\r\n                            <div className=\"d-flex align-items-center my-1\">\r\n                                <LocationIcon style={{ width: \"15px\", height: \"15px\" }} className=\"me-1\" />\r\n                                {translate(\"ORDERS.PICKUP_ADDRESS\")}\r\n                            </div>\r\n\r\n                            <AddressDropdown \r\n                                loading={loading} \r\n                                addresses={deliverAddresses} \r\n                                onSearch={setInputValue} \r\n                                onSelect={setSelectedPickUpAddress} \r\n                                selectedAddress={selectedPickUpAddress} \r\n                            />\r\n                        </div>\r\n                        <div className=\"w-50 m-inline-e-2\">\r\n                            <div className=\"d-flex align-items-center my-1\">\r\n                                <SendIcon style={{ width: \"15px\", height: \"15px\" }} className=\"me-1\" />\r\n                                <p>{translate(\"ORDERS.DELIVER_TO\")}</p>\r\n                            </div>\r\n                            \r\n                            <AddressDropdown \r\n                                loading={loading} \r\n                                addresses={deliverAddresses} \r\n                                onSearch={setInputValue} \r\n                                onSelect={setSelectedDeliveryAddress} \r\n                                selectedAddress={selectedDeliveryAddress} \r\n                            />\r\n                        </div>\r\n                        <CreateAddress>\r\n                            <div className=\"btn-grad p-2 rounded-circle\">\r\n                                <AddIcon w={6} h={6} color=\"gray.50\" />\r\n                            </div>\r\n                        </CreateAddress>\r\n                    </div>\r\n                    <div className=\"d-flex align-items-center my-1\">\r\n                        <AttachmentIcon style={{ width: \"15px\", height: \"15px\" }} className=\"me-1\" />\r\n                        {translate(\"ORDERS.ATTACHMENTS_LABEL\")}\r\n                    </div>\r\n                    \r\n                    {packageType !== \"1\" &&\r\n                    <>\r\n                        <div className=\"my-1\">{translate(\"ORDERS.DIMENSIONS_LABEL\")}</div>\r\n                        <div className=\"d-flex\">\r\n                            <Form.Control \r\n                                type=\"number\" \r\n                                className=\"me-2\"\r\n                                placeholder=\"Height\" \r\n                                ref={heightRef}\r\n                            />\r\n                            <Form.Control \r\n                                type=\"number\" \r\n                                className=\"me-2\" \r\n                                placeholder=\"Width\" \r\n                                ref={widthRef}\r\n                            />\r\n                            <Form.Control \r\n                                type=\"number\" \r\n                                className=\"\" \r\n                                placeholder=\"Length\" \r\n                                ref={lengthRef}\r\n                            />\r\n                        </div>\r\n                        <Form.Control \r\n                            type=\"number\" \r\n                            className=\"mt-2\"\r\n                            placeholder=\"Weight\" \r\n                            ref={weightRef}\r\n                        />\r\n                    </>\r\n                    }\r\n                    <Form.Control type=\"text\" className=\"mt-2\" placeholder=\"Notes\" ref={notesRef} />\r\n                \r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button \r\n                        variant=\"\" \r\n                        className=\"togo-button w-100\" \r\n                        disabled={loadingSubmit}\r\n                        onClick={()=>{\r\n                            setLoadingSubmit(true);\r\n\r\n                            const DeliveryParams = {\r\n                                deliveryWay: deliveryType,\r\n                                TypeLoad: packageType,\r\n                                CostLoad: (deliveryType === \"2\" && codAmountRef.current.value) || (deliveryType === \"4\" && pickAmountRef.current.value) || \"\" , // 2 or 4\r\n                                DetailsLoad: notesRef.current.value,\r\n                                LengthLoad: lengthRef.current?.value || \"\",\r\n                                WidthLoad: widthRef.current?.value || \"\",\r\n                                HeightLoad: heightRef.current?.value || \"\",\r\n                                WeightLoad: weightRef.current?.value || \"\",\r\n                                qrCode: \"\"\r\n                            };\r\n                            const AddressClint = {\r\n                                IdCity: selectedPickUpAddress.cityId,  // from selected pick up address\r\n                                OtherDetails: selectedPickUpAddress.details, // details from selected pickup address\r\n                                LatSender: selectedPickUpAddress.latitude, // from selected pick up address\r\n                                LongSender: selectedPickUpAddress.longitude, //  from selected pick up address\r\n                                SenderAddressId: selectedPickUpAddress.id, // from selected pick up address\r\n\r\n                                IdCityDes: selectedDeliveryAddress.cityId, // from selected delivery to address\r\n                                OtherDetailsDes: selectedDeliveryAddress.details, // details from selected delivery to address\r\n                                LatReciver: selectedDeliveryAddress.latitude, // from selected delivery to address\r\n                                LongReciver: selectedDeliveryAddress.longitude, // from selected delivery to address\r\n                                ReciverAddressId: selectedDeliveryAddress.id,// from selected delivery to address\r\n                                ReceiverAddressNum: selectedDeliveryAddress.phone_number\r\n                            };\r\n\r\n                            CreateNewOrderReq(JSON.stringify(DeliveryParams), JSON.stringify(AddressClint)).then((res)=>{\r\n                                orderIdRef.current = JSON.parse(res.data.replace(\"}{\", \",\")).server_response[0].OrderId;\r\n                                //https://therichpost.com/reactjs-convert-html-into-pdf-working-functionality/\r\n                                \r\n                                setOpenConf(true);\r\n                                setOpen(false);\r\n                                setLoadingSubmit(false);\r\n                                props.onSuccess();\r\n                            });\r\n\r\n    /* - deliveryWay \r\n        This one from radio button for delivery type it contains four values \r\n            (Delivery = 1, Cache on delivery = 2, Pickup = 3, Pay and Pickup = 4)\r\n    - CostLoad   \r\n        This amount inserted in case of (Cache on delivery/Pay and pickup)\r\n    - TypeLoad   \r\n        This one from the list we pick Food or Small/Medium/Large package where \r\n            Food = 1, Small Package = 2, Medium Package =3, Large Package = 4\r\n    - qrCode\r\n        in case of submit with qrcode we will put the value else it will be empty */\r\n                        }}\r\n                    >\r\n                        {loadingSubmit && <Spinner animation=\"border\" size=\"sm\"/>} \r\n                        {translate(\"ORDERS.SUBMIT\")}\r\n                    </Button>\r\n                </Modal.Footer>\r\n\r\n                \r\n            </Modal>\r\n            <Modal \r\n                show={openConf} \r\n                onHide={()=>{\r\n                    \r\n                    setOpenConf(false);\r\n                }} \r\n                animation={false} \r\n                backdrop=\"static\"\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Confirmation</Modal.Title>\r\n                </Modal.Header>\r\n\r\n                <Modal.Body>\r\n                    <p>Would you like to print a waybill ?</p>\r\n                </Modal.Body>\r\n\r\n                <Modal.Footer>\r\n                    <Button \r\n                        variant=\"secondary\"\r\n                        onClick={()=>{\r\n                            setOpenConf(false);\r\n                        }}\r\n                    >\r\n                        No\r\n                    </Button>\r\n\r\n                    <Button \r\n                        variant=\"primary\"\r\n                        onClick={()=>{\r\n                            setOpenConf(false);\r\n                            window.open(\"/account/bill-for-order/\" + orderIdRef.current + \"?print=true\")\r\n                        }}\r\n                    >\r\n                        Yes\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n            \r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}