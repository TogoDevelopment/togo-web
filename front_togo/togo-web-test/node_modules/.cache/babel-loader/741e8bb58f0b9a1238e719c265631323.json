{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/ActivationCodeForm.jsx\";\nimport React, { useRef, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Button, FormControl, Spinner } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { ActivateUser, ResendCode } from \"../APIs/LoginAPIs\";\nimport { setAuth } from \"../Actions/GeneralActions\";\nimport TogoContainer from \"./TogoContainer\";\nimport { useDispatch } from \"react-redux\";\nimport CryptoJS from \"crypto-js\";\nexport default function ActivationCodeForm() {\n  var firstNumRef = useRef();\n  var dispatch = useDispatch();\n  var secNumRef = useRef();\n  var thirdNumRef = useRef();\n  var forthNumRef = useRef();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      disableResend = _useState2[0],\n      setDisableResend = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loadingSubmit = _useState4[0],\n      setLoadingSubmit = _useState4[1];\n\n  var history = useHistory();\n  useEffect(function () {\n    var timer;\n\n    if (disableResend) {\n      timer = setTimeout(function () {\n        setDisableResend(false);\n      }, 60000);\n    }\n\n    return function () {\n      clearTimeout(timer);\n    };\n  }, [disableResend]);\n  return /*#__PURE__*/React.createElement(TogoContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \"Please enter the activation code that was sent to Phone number \", localStorage.getItem(\"PhoneNumber\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-evenly my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"togo-outling\",\n    style: {\n      width: \"44px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    maxLength: 1,\n    onInput: function onInput(ev) {\n      ev.target.value = ev.target.value.replace(/[^0-9]/gi, \"\");\n    },\n    type: \"text\",\n    className: \"rounded-circle text-center\",\n    ref: firstNumRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"togo-outling\",\n    style: {\n      width: \"44px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    maxLength: 1,\n    onInput: function onInput(ev) {\n      ev.target.value = ev.target.value.replace(/[^0-9]/gi, \"\");\n    },\n    type: \"text\",\n    className: \"rounded-circle text-center\",\n    ref: secNumRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"togo-outling\",\n    style: {\n      width: \"44px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    maxLength: 1,\n    onInput: function onInput(ev) {\n      ev.target.value = ev.target.value.replace(/[^0-9]/gi, \"\");\n    },\n    type: \"text\",\n    className: \"rounded-circle text-center\",\n    ref: thirdNumRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"togo-outling\",\n    style: {\n      width: \"44px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    maxLength: 1,\n    onInput: function onInput(ev) {\n      ev.target.value = ev.target.value.replace(/[^0-9]/gi, \"\");\n    },\n    type: \"text\",\n    className: \"rounded-circle text-center\",\n    ref: forthNumRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"\",\n    disabled: disableResend,\n    onClick: function onClick() {\n      setDisableResend(true);\n      ResendCode().then(function () {});\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"Resend code\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"\",\n    onClick: function onClick() {\n      history.push(\"/login\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"Change mobile number\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"\",\n    className: \"togo-button w-75 rounded-22\",\n    disabled: loadingSubmit,\n    onClick: function onClick() {\n      setLoadingSubmit(true);\n      var code = \"\".concat(firstNumRef.current.value).concat(secNumRef.current.value).concat(thirdNumRef.current.value).concat(forthNumRef.current.value);\n      var currentTime = +new Date();\n      var hash = CryptoJS.SHA1(currentTime + \"\");\n      var shasum = CryptoJS.enc.Hex.stringify(hash);\n      ActivateUser(localStorage.getItem(\"RegPostCode\") + localStorage.getItem(\"PhoneNumber\"), code, shasum).then(function (res) {\n        var _res$data$server_resp;\n\n        var userInfo = (_res$data$server_resp = res.data.server_response) === null || _res$data$server_resp === void 0 ? void 0 : _res$data$server_resp[0];\n\n        if (userInfo) {\n          localStorage.setItem(\"userId\", userInfo.id);\n          localStorage.setItem(\"TokenDevice\", shasum);\n          localStorage.setItem(\"UserType\", userInfo.IsClient === \"1\" ? \"client\" : \"transporter\");\n          dispatch(setAuth(true));\n        }\n\n        if (userInfo.FlagRegistration === \"ClientPersonalInfo\") {\n          //\"ClientRegistration\"\n          history.push(\"/personal-info\");\n          return;\n        } //TransporterPersonalInfo\n        //TrsnsporterCarInfo\n        //TransporterWorkCityInfo\n        //TransporterWorkTimeInfo\n        //TransporterCompletedRegistration\n        // localStorage.setItem(\"IsTransporterMaster\", response.data.ResultArray[0].IsTransporterMaster);\n        // localStorage.setItem(\"IsTeamMember\", response.data.ResultArray[0].IsTeamMember)\n\n\n        setLoadingSubmit(false);\n        history.push(\"/dashboard\");\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, loadingSubmit && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 39\n    }\n  }), \"Accept\")));\n}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/ActivationCodeForm.jsx"],"names":["React","useRef","useState","useEffect","Button","FormControl","Spinner","useHistory","ActivateUser","ResendCode","setAuth","TogoContainer","useDispatch","CryptoJS","ActivationCodeForm","firstNumRef","dispatch","secNumRef","thirdNumRef","forthNumRef","disableResend","setDisableResend","loadingSubmit","setLoadingSubmit","history","timer","setTimeout","clearTimeout","localStorage","getItem","width","ev","target","value","replace","then","push","code","current","currentTime","Date","hash","SHA1","shasum","enc","Hex","stringify","res","userInfo","data","server_response","setItem","id","IsClient","FlagRegistration"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nimport { Button, FormControl, Spinner } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ActivateUser, ResendCode } from \"../APIs/LoginAPIs\";\r\nimport { setAuth } from \"../Actions/GeneralActions\";\r\nimport TogoContainer from \"./TogoContainer\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport CryptoJS from \"crypto-js\";\r\n\r\nexport default function ActivationCodeForm(){\r\n    const firstNumRef = useRef();\r\n    const dispatch = useDispatch();\r\n    const secNumRef = useRef();\r\n    const thirdNumRef = useRef();\r\n    const forthNumRef = useRef();\r\n    const [disableResend, setDisableResend] = useState(false);\r\n    const [loadingSubmit, setLoadingSubmit] = useState(false);\r\n    const history = useHistory();\r\n\r\n    useEffect(()=>{\r\n        let timer;\r\n        if(disableResend){\r\n            timer = setTimeout(()=>{\r\n                setDisableResend(false)\r\n            }, 60000);\r\n        }\r\n        return () => {\r\n            clearTimeout(timer);\r\n        }\r\n    }, [disableResend]);\r\n\r\n    return (\r\n        <TogoContainer>\r\n            <p>Please enter the activation code that was sent to Phone number {localStorage.getItem(\"PhoneNumber\")}</p>\r\n            <div className=\"d-flex justify-content-evenly my-3\">\r\n                <div className=\"togo-outling\" style={{width: \"44px\"}}>\r\n                    <FormControl\r\n                        maxLength={1}\r\n                        onInput={(ev)=>{\r\n                            ev.target.value = ev.target.value.replace(/[^0-9]/gi, \"\");\r\n                        }}\r\n                        type=\"text\"\r\n                        className=\"rounded-circle text-center\"\r\n                        ref={firstNumRef}\r\n                    />\r\n                </div>\r\n                <div className=\"togo-outling\" style={{width: \"44px\"}}>\r\n                    <FormControl\r\n                        maxLength={1}\r\n                        onInput={(ev)=>{\r\n                            ev.target.value = ev.target.value.replace(/[^0-9]/gi, \"\");\r\n                        }}\r\n                        type=\"text\"\r\n                        className=\"rounded-circle text-center\"\r\n                        ref={secNumRef}\r\n                    />\r\n                </div>\r\n                <div className=\"togo-outling\" style={{width: \"44px\"}}>\r\n                    <FormControl\r\n                        maxLength={1}\r\n                        onInput={(ev)=>{\r\n                            ev.target.value = ev.target.value.replace(/[^0-9]/gi, \"\");\r\n                        }}\r\n                        type=\"text\"\r\n                        className=\"rounded-circle text-center\"\r\n                        ref={thirdNumRef}\r\n                    />\r\n                </div>\r\n                <div className=\"togo-outling\" style={{width: \"44px\"}}>\r\n                    <FormControl\r\n                        maxLength={1}\r\n                        onInput={(ev)=>{\r\n                            ev.target.value = ev.target.value.replace(/[^0-9]/gi, \"\");\r\n                        }}\r\n                        type=\"text\"\r\n                        className=\"rounded-circle text-center\"\r\n                        ref={forthNumRef}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n                <Button variant=\"\" disabled={disableResend} onClick={()=>{\r\n                    setDisableResend(true);\r\n                    ResendCode().then(()=>{\r\n\r\n                    });\r\n                }}>\r\n                    Resend code\r\n                </Button>\r\n                <Button variant=\"\" onClick={()=>{\r\n                    history.push(\"/login\");\r\n                }}>\r\n                    Change mobile number\r\n                </Button>\r\n            </div>\r\n            <div>\r\n                <Button\r\n                    variant=\"\"\r\n                    className=\"togo-button w-75 rounded-22\"\r\n                    disabled={loadingSubmit}\r\n                    onClick={()=>{\r\n                        setLoadingSubmit(true);\r\n                        let code = `${firstNumRef.current.value}${secNumRef.current.value}${thirdNumRef.current.value}${forthNumRef.current.value}`;\r\n                        const currentTime = +(new Date());\r\n                        const hash = CryptoJS.SHA1(currentTime + \"\");\r\n                        var shasum = CryptoJS.enc.Hex.stringify(hash);\r\n\r\n                        ActivateUser(localStorage.getItem(\"RegPostCode\") + localStorage.getItem(\"PhoneNumber\"), code, shasum).then((res)=>{\r\n                            const userInfo = res.data.server_response?.[0];\r\n\r\n                            if(userInfo){\r\n                                localStorage.setItem(\"userId\", userInfo.id);\r\n                                localStorage.setItem(\"TokenDevice\", shasum);\r\n                                localStorage.setItem(\"UserType\", userInfo.IsClient === \"1\" ? \"client\" : \"transporter\");\r\n                                dispatch(setAuth(true));\r\n                            }\r\n                            if(userInfo.FlagRegistration === \"ClientPersonalInfo\"){ //\"ClientRegistration\"\r\n                                history.push(\"/personal-info\");\r\n                                return;\r\n                            }\r\n                            //TransporterPersonalInfo\r\n                            //TrsnsporterCarInfo\r\n                            //TransporterWorkCityInfo\r\n                            //TransporterWorkTimeInfo\r\n                            //TransporterCompletedRegistration\r\n                            \r\n                            // localStorage.setItem(\"IsTransporterMaster\", response.data.ResultArray[0].IsTransporterMaster);\r\n                            // localStorage.setItem(\"IsTeamMember\", response.data.ResultArray[0].IsTeamMember)\r\n                            setLoadingSubmit(false);\r\n                            history.push(\"/dashboard\");\r\n                        })\r\n                    }}\r\n                >\r\n                    {loadingSubmit && <Spinner animation=\"border\" size=\"sm\"/>}\r\n                    Accept\r\n                </Button>\r\n            </div>\r\n        </TogoContainer>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}