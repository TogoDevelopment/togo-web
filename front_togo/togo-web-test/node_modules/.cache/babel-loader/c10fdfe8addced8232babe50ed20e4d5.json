{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/Order/CurrentOrdersList.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { NavLink, useLocation, useRouteMatch } from \"react-router-dom\";\nimport bell from \"../../assets/bell.png\";\nimport { GetCurrentOrders, GetFinishedOrders, GetTransporterList } from \"../../APIs/OrdersAPIs\";\nimport { CreateNewOrder } from \"../CreateNewOrder\";\nimport OrdersCardView from \"../Orders/OrdersCardView\";\nimport { isTransporter } from \"../../Util\";\nexport default function CurrentOrdersList() {\n  var _useRouteMatch = useRouteMatch(),\n      url = _useRouteMatch.url;\n\n  var location = useLocation();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      orders = _useState2[0],\n      setOrders = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      clientInfo = _useState4[0],\n      setClientInfo = _useState4[1];\n\n  useEffect(function () {\n    var fun = location.pathname.indexOf(\"history\") != -1 ? GetFinishedOrders : GetCurrentOrders;\n\n    if (isTransporter()) {\n      var parts = location.pathname.split(\"/\");\n      fun = GetTransporterList.bind(null, parts[2] || \"NEW_ORDERS\");\n    }\n\n    fun().then(function (res) {\n      if (isTransporter()) {\n        setOrders(res.data.orders);\n        setClientInfo(res.data.transporter[0]);\n      } else {\n        setClientInfo(res.data.clientDetails[0]);\n        setOrders(res.data.orderDetails);\n      }\n    });\n  }, [location.pathname]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flexBasis: \"30%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  }, \"Hi \", clientInfo === null || clientInfo === void 0 ? void 0 : clientInfo.fullname), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, clientInfo === null || clientInfo === void 0 ? void 0 : clientInfo.PhoneNumber)), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      filter: \"drop-shadow(2px 4px 6px black)\"\n    },\n    src: bell,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"fw-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, \"What can we help you with?\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CreateNewOrder, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"align-items-center d-flex text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"\".concat(url, \"/NEW_ORDERS\"),\n    className: \"w-50 text-decoration-none py-2\",\n    activeClassName: \"active-order\",\n    isActive: function isActive(match, loca) {\n      return loca.pathname === \"/dashboard/\" || loca.pathname === \"/dashboard/NEW_ORDERS\";\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, \"Current Orders\"), !isTransporter() && /*#__PURE__*/React.createElement(NavLink, {\n    to: \"\".concat(url, \"/historyorders\"),\n    className: \"w-50 text-decoration-none py-2\",\n    activeClassName: \"active-order\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 45\n    }\n  }, \"Orders History\"), isTransporter() && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"\".concat(url, \"/MY_ORDERS\"),\n    className: \"w-50 text-decoration-none py-2\",\n    activeClassName: \"active-order\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"Orders History\"), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"\".concat(url, \"/DELIVERED\"),\n    className: \"w-50 text-decoration-none py-2\",\n    activeClassName: \"active-order\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, \"Orders History\")))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flexBasis: \"70%\",\n      overflow: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(OrdersCardView, {\n    orders: orders,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/Order/CurrentOrdersList.jsx"],"names":["React","useEffect","useState","NavLink","useLocation","useRouteMatch","bell","GetCurrentOrders","GetFinishedOrders","GetTransporterList","CreateNewOrder","OrdersCardView","isTransporter","CurrentOrdersList","url","location","orders","setOrders","clientInfo","setClientInfo","fun","pathname","indexOf","parts","split","bind","then","res","data","transporter","clientDetails","orderDetails","flexBasis","fullname","PhoneNumber","filter","match","loca","overflow"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { NavLink, useLocation, useRouteMatch } from \"react-router-dom\";\r\nimport bell from \"../../assets/bell.png\"\r\nimport { GetCurrentOrders, GetFinishedOrders, GetTransporterList } from \"../../APIs/OrdersAPIs\";\r\nimport { CreateNewOrder } from \"../CreateNewOrder\";\r\nimport OrdersCardView from \"../Orders/OrdersCardView\";\r\nimport {isTransporter} from \"../../Util\";\r\n\r\nexport default function CurrentOrdersList() {\r\n    let { url } = useRouteMatch();\r\n    const location = useLocation();\r\n    const [orders, setOrders] = useState();\r\n    const [clientInfo, setClientInfo] = useState({});\r\n    \r\n    useEffect(() => {\r\n        let fun = location.pathname.indexOf(\"history\") != -1 ? GetFinishedOrders : GetCurrentOrders;\r\n        if(isTransporter()){\r\n            let parts = location.pathname.split(\"/\");\r\n\r\n            fun = GetTransporterList.bind(null, parts[2] || \"NEW_ORDERS\");\r\n        }\r\n        \r\n        \r\n        fun().then((res) => {\r\n            if(isTransporter()){\r\n                setOrders(res.data.orders);\r\n                setClientInfo(res.data.transporter[0]);\r\n            }else{\r\n                setClientInfo(res.data.clientDetails[0]);\r\n                setOrders(res.data.orderDetails);\r\n            }\r\n        });\r\n\r\n    }, [location.pathname]);\r\n\r\n    return (\r\n        <div className=\"d-flex flex-column h-100\">\r\n            <div style={{flexBasis: \"30%\"}}>\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <div>\r\n                        <div>Hi {clientInfo?.fullname}</div>\r\n                        <div>{clientInfo?.PhoneNumber}</div>\r\n                    </div>\r\n                    <img style={{filter: \"drop-shadow(2px 4px 6px black)\" }} src={bell} />\r\n                </div>\r\n                <p className=\"fw-bold\">\r\n                    What can we help you with?\r\n                </p>\r\n                <div className=\"text-center\">\r\n                    <CreateNewOrder />\r\n                </div>\r\n                <div className=\"align-items-center d-flex text-center\">\r\n                    <NavLink \r\n                        to={`${url}/NEW_ORDERS`} \r\n                        className={\"w-50 text-decoration-none py-2\"} \r\n                        activeClassName=\"active-order\"\r\n                        isActive={(match, loca)=>{\r\n                            return loca.pathname === \"/dashboard/\" || loca.pathname === \"/dashboard/NEW_ORDERS\";\r\n                        }}\r\n                    >\r\n                        Current Orders\r\n                    </NavLink>\r\n                    {\r\n                        !isTransporter() && <NavLink \r\n                        to={`${url}/historyorders`} \r\n                        className={\"w-50 text-decoration-none py-2\"} \r\n                        activeClassName=\"active-order\"\r\n                    >\r\n                        Orders History\r\n                    </NavLink>\r\n                    }\r\n\r\n                    {\r\n                        isTransporter() && <>\r\n                    <NavLink \r\n                        to={`${url}/MY_ORDERS`} \r\n                        className={\"w-50 text-decoration-none py-2\"} \r\n                        activeClassName=\"active-order\"\r\n                    >\r\n                        Orders History\r\n                    </NavLink>\r\n\r\n                    <NavLink \r\n                        to={`${url}/DELIVERED`} \r\n                        className={\"w-50 text-decoration-none py-2\"} \r\n                        activeClassName=\"active-order\"\r\n                    >\r\n                        Orders History\r\n                    </NavLink>\r\n                    </>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div \r\n                style={{\r\n                    flexBasis: \"70%\",\r\n                    overflow: \"auto\"\r\n                }}\r\n            >\r\n                <OrdersCardView orders={orders} />\r\n            </div>\r\n            \r\n            \r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}