{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/AdminPanel/CustomerInfo/ClientPersonalInfoDisplay.jsx\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport './styles.css';\nimport { Container, Row, Col, Card, Table, Button, Form, Tab, Tabs, Modal, Spinner } from 'react-bootstrap';\nimport { GetClientPersonalInfo, GetClientBusinessInfo, updateClientPersonalInfo, updateClientBusinessInfo, blockUser, getClientTotalOrdersNum, getClientNetworkForAdmin } from \"../../../APIs/AdminPanelApis\";\nimport { useDispatch } from \"react-redux\";\nimport { toastNotification } from \"../../../Actions/GeneralActions\";\nimport UploadAndEditImage from '../../UploadImage/UploadAndEditImage';\nimport { BiBlock } from 'react-icons/bi';\nimport { AiOutlineCheckCircle } from 'react-icons/ai';\nimport { imgBaseUrl } from \"../../../Constants/GeneralCont\";\nexport default function ClientPersonalInfoDisplay(_ref) {\n  var id = _ref.id;\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isBlocked = _useState2[0],\n      setIsBlocked = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      profileImage = _useState4[0],\n      setProfileImage = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      originalProfileImage = _useState6[0],\n      setOriginalProfileImage = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      personalImageToUpload = _useState8[0],\n      setPersonalImageToUpload = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      updatePersonalButtonLoading = _useState10[0],\n      setUpdatePersonalButtonLoading = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      updateBusinessButtonLoading = _useState12[0],\n      setUpdateBusinessButtonLoading = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      personalInfo = _useState14[0],\n      setPersonalInfo = _useState14[1];\n\n  var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      businessInfo = _useState16[0],\n      setBusinessInfo = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      viewImg = _useState18[0],\n      setViewImg = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      tempImgPath = _useState20[0],\n      setTempImgPath = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      refreshPersonalInfo = _useState22[0],\n      setRefreshPersonalInfo = _useState22[1];\n\n  var _useState23 = useState(0),\n      _useState24 = _slicedToArray(_useState23, 2),\n      clinetTotalOrdersNum = _useState24[0],\n      setClinetTotalOrdersNum = _useState24[1];\n\n  var firstNameRef = useRef();\n  var lastNameRef = useRef();\n  var emailRef = useRef();\n  var idNumberRef = useRef();\n  var businessNameRef = useRef();\n  var nusinessLocationRef = useRef();\n  useEffect(function () {\n    getClientTotalOrdersNum(id).then(function (res) {\n      setClinetTotalOrdersNum(res.data.ordersNum);\n    });\n  }, []);\n  useEffect(function () {\n    GetClientBusinessInfo(id).then(function (res) {\n      setBusinessInfo(res.data.server_response);\n    });\n  }, []);\n  useEffect(function () {\n    getClientNetworkForAdmin(id).then(function (res) {\n      console.log(res.data); // setBusinessInfo(res.data.server_response)\n    });\n  }, []);\n  useEffect(function () {\n    GetClientPersonalInfo(id).then(function (res) {\n      console.log(res.data);\n      setIsBlocked(res.data.server_response.IsBlocked == 1 ? true : false);\n      setOriginalProfileImage(res.data.server_response.img);\n      setProfileImage(imgBaseUrl + res.data.server_response.img);\n      setPersonalInfo(res.data.server_response);\n    });\n  }, [refreshPersonalInfo]);\n\n  var handleClose = function handleClose() {\n    setViewImg(false);\n  };\n\n  function updatePersonalInfo() {\n    setUpdatePersonalButtonLoading(true);\n    var firstName = \"\";\n    var lastName = \"\";\n    var email = \"\";\n    var idNumber = \"\";\n    firstNameRef.current.value == \"\" ? firstName = firstNameRef.current.attributes.placeholder.value : firstName = firstNameRef.current.value;\n    lastNameRef.current.value == \"\" ? lastName = lastNameRef.current.attributes.placeholder.value : lastName = lastNameRef.current.value;\n    emailRef.current.value == \"\" ? email = emailRef.current.attributes.placeholder.value : email = emailRef.current.value;\n    idNumberRef.current.value == \"\" ? idNumber = idNumberRef.current.attributes.placeholder.value : idNumber = idNumberRef.current.value;\n    var tempArr = [id, firstName, lastName, email, idNumber];\n    /* \r\n        personal image update\r\n    */\n\n    var tempPersonalImageName = \"\"; // image name (including extension)\n\n    var isNewPersonalImage = false; // true if there is no previous image for this client\n\n    var personalImageCode = personalImageToUpload; // new-pesronal-image code to be uploaded as image file data\n\n    var personalImageName = profileImage.split(\"/\")[profileImage.split(\"/\").length - 1]; // new-personal-image file name\n\n    var originalProfilePath = originalProfileImage; // original presonal-image path (if existed)\n    // check if there is an originial image path in the database\n\n    if (originalProfilePath == \"\" || originalProfilePath == null) {\n      isNewPersonalImage = true;\n      var tempExtension = \"\";\n      tempExtension = personalImageCode.split(\";\", 2)[0].split(\"/\")[1];\n      tempPersonalImageName = \"img/PersonalImg/\" + personalImageName + \".\" + tempExtension;\n    } else {\n      isNewPersonalImage = false;\n      tempPersonalImageName = originalProfilePath;\n    }\n\n    var isPersonalImageUpdated = false; // true if there is a new image uploaded \n    // let TimeToRefresh = 0;\n    // check if there is a new image edited/uploaded\n\n    if (personalImageToUpload === \"\") {\n      // TimeToRefresh = 1000;\n      isPersonalImageUpdated = false;\n    } else {\n      // TimeToRefresh = 10000;\n      isPersonalImageUpdated = true;\n    }\n\n    updateClientPersonalInfo(tempArr, personalImageCode, tempPersonalImageName, isPersonalImageUpdated, isNewPersonalImage).then(function (res) {\n      setRefreshPersonalInfo(!refreshPersonalInfo);\n      setUpdatePersonalButtonLoading(false);\n      setPersonalImageToUpload(\"\");\n\n      if (res.data.includes(\"error\") || res.data == \"TokenError\") {\n        dispatch(toastNotification(\"Error!\", res.data, \"warning\"));\n      } else {\n        dispatch(toastNotification(\"Updated!\", res.data, \"success\"));\n      } // }, TimeToRefresh);\n\n    });\n  }\n\n  function updateBusinessInfo() {\n    setUpdateBusinessButtonLoading(true);\n    var businessName = \"\";\n    var businessLocation = \"\";\n    businessNameRef.current.value == \"\" ? businessName = businessNameRef.current.attributes.placeholder.value : businessName = businessNameRef.current.value;\n    nusinessLocationRef.current.value == \"\" ? businessLocation = nusinessLocationRef.current.attributes.placeholder.value : businessLocation = nusinessLocationRef.current.value;\n    var tempArr = [id, businessName, businessLocation];\n    updateClientBusinessInfo(tempArr).then(function (res) {\n      setUpdateBusinessButtonLoading(false);\n\n      if (res.data.includes(\"error\") || res.data == \"TokenError\") {\n        dispatch(toastNotification(\"Error!\", res.data, \"warning\"));\n      } else {\n        dispatch(toastNotification(\"Updated!\", res.data, \"success\"));\n      }\n    });\n  }\n\n  var fileInput = useRef();\n\n  var selectFile = function selectFile() {\n    fileInput.current.click();\n  };\n\n  function handleBlockUser() {\n    blockUser(id, !isBlocked).then(function (res) {\n      if (res.data.includes(\"error\") || res.data == \"TokenError\") {\n        dispatch(toastNotification(\"Error!\", res.data, \"warning\"));\n      } else {\n        dispatch(toastNotification(\"Updated!\", res.data, \"success\"));\n        setIsBlocked(!isBlocked);\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tabs, {\n    defaultActiveKey: \"PersonalInformation\",\n    id: \"uncontrolled-tab-example\",\n    className: \"tabPane\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"PersonalInformation\",\n    title: \"Personal Information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"customCardSm shadow m-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }, personalInfo ? /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: \"infoTable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 53\n    }\n  }, \"Full Name:\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    ref: firstNameRef,\n    type: \"text\",\n    placeholder: personalInfo === null || personalInfo === void 0 ? void 0 : personalInfo.FirstName,\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 57\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control, {\n    ref: lastNameRef,\n    type: \"text\",\n    placeholder: personalInfo === null || personalInfo === void 0 ? void 0 : personalInfo.LastName,\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 57\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 53\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    ref: emailRef,\n    type: \"email\",\n    placeholder: personalInfo === null || personalInfo === void 0 ? void 0 : personalInfo.Email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 57\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 53\n    }\n  }, \"Phone Number:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 53\n    }\n  }, personalInfo === null || personalInfo === void 0 ? void 0 : personalInfo.phone)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 53\n    }\n  }, \"ID Number:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    ref: idNumberRef,\n    type: \"number\",\n    placeholder: personalInfo === null || personalInfo === void 0 ? void 0 : personalInfo.IDNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 57\n    }\n  })))))), /*#__PURE__*/React.createElement(Col, {\n    lg: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rounded-circle d-flex light-turquoise-bg wh-45px logo-img-container\",\n    style: {\n      width: \"200px\",\n      height: \"200px\",\n      position: \"relative\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo-image\",\n    src: !profileImage.includes(\"null\") ? profileImage.split(\"/\")[profileImage.split(\"/\").length - 1].includes(\".\") ? profileImage + \"?t=\" + Math.random() : profileImage : \"https://freepikpsd.com/file/2019/10/avatar-icon-png-5-Images-PNG-Transparent.png\",\n    alt: \"user-profile-pic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 49\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo-img-overlay\",\n    onClick: function onClick() {\n      setViewImg(true);\n      setTempImgPath(imgBaseUrl + (personalInfo === null || personalInfo === void 0 ? void 0 : personalInfo.img));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo-img-overlay-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-arrows-fullscreen h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 92\n    }\n  }))), /*#__PURE__*/React.createElement(UploadAndEditImage, {\n    currentImage: profileImage.split(\"/\")[profileImage.split(\"/\").length - 1].includes(\".\") ? profileImage + \"?t=\" + Math.random() : profileImage,\n    setImageToUpload: setPersonalImageToUpload,\n    setImage: setProfileImage,\n    imageBorderRadius: 250,\n    imageHeight: 250,\n    imageWidth: 250,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 49\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 ms-3 d-flex justify-content-center\",\n    style: {\n      fontSize: \"1.5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 41\n    }\n  }, businessInfo === null || businessInfo === void 0 ? void 0 : businessInfo.BusinessName), /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 53\n    }\n  }, \"Customer ID\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 53\n    }\n  }, id)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 53\n    }\n  }, \"Odoo ID\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 53\n    }\n  }, personalInfo === null || personalInfo === void 0 ? void 0 : personalInfo.OdooId)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 53\n    }\n  }, \"Balance\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 53\n    }\n  }, personalInfo === null || personalInfo === void 0 ? void 0 : personalInfo.balance, \" NIS\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 53\n    }\n  }, \"Total Orders\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 53\n    }\n  }, clinetTotalOrdersNum)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 ms-3 d-flex justify-content-center h1\",\n    style: {\n      position: \"absolute\",\n      top: 0,\n      right: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custome-check\",\n    style: {\n      border: isBlocked ? \"4px solid red\" : \"4px solid green\"\n    },\n    onClick: handleBlockUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 45\n    }\n  }, !isBlocked && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custome-check-checked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 64\n    }\n  }, /*#__PURE__*/React.createElement(AiOutlineCheckCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 53\n    }\n  })), isBlocked && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custome-check-unchecked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 63\n    }\n  }, /*#__PURE__*/React.createElement(BiBlock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 53\n    }\n  }))))))) : /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 44\n    }\n  })), /*#__PURE__*/React.createElement(Card.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 25\n    }\n  }, personalInfo ? /*#__PURE__*/React.createElement(Button, {\n    disabled: updatePersonalButtonLoading && true,\n    className: \"btn-grad update-btn\",\n    onClick: updatePersonalInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 45\n    }\n  }, updatePersonalButtonLoading && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 65\n    }\n  }), \" UPDATE\") : /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 41\n    }\n  })))), /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"businessInformation\",\n    title: \"Business Information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"customCardSm shadow m-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: \"infoTable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 53\n    }\n  }, \"Business Name:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    ref: businessNameRef,\n    type: \"text\",\n    placeholder: businessInfo === null || businessInfo === void 0 ? void 0 : businessInfo.BusinessName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 57\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 53\n    }\n  }, \"Business Location:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    ref: nusinessLocationRef,\n    type: \"text\",\n    placeholder: businessInfo === null || businessInfo === void 0 ? void 0 : businessInfo.BusinessPlace,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 57\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 53\n    }\n  }, \"Business Type:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 53\n    }\n  }, (businessInfo === null || businessInfo === void 0 ? void 0 : businessInfo.BusinessType) === \"1\" ? \"شركة\" : \"مؤسسة\")))))))), /*#__PURE__*/React.createElement(Card.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: updateBusinessButtonLoading && true,\n    className: \"btn-grad update-btn\",\n    onClick: updateBusinessInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 29\n    }\n  }, updateBusinessButtonLoading && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 65\n    }\n  }), \" UPDATE\")))), /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"network\",\n    title: \"Network\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"customCardSm shadow m-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: \"infoTable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 53\n    }\n  }, \"Business Name:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    ref: businessNameRef,\n    type: \"text\",\n    placeholder: businessInfo === null || businessInfo === void 0 ? void 0 : businessInfo.BusinessName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 57\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 53\n    }\n  }, \"Business Location:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    ref: nusinessLocationRef,\n    type: \"text\",\n    placeholder: businessInfo === null || businessInfo === void 0 ? void 0 : businessInfo.BusinessPlace,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 57\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 53\n    }\n  }, \"Business Type:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 53\n    }\n  }, (businessInfo === null || businessInfo === void 0 ? void 0 : businessInfo.BusinessType) === \"1\" ? \"شركة\" : \"مؤسسة\"))))))))))), /*#__PURE__*/React.createElement(Modal, {\n    fullscreen: true,\n    show: viewImg,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Body, {\n    className: \"d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: tempImgPath.split(\"/\")[tempImgPath.split(\"/\").length - 1].includes(\".\") ? tempImgPath + \"?t=\" + Math.random() : tempImgPath,\n    style: {\n      objectFit: \"cover\"\n    },\n    alt: \"No image!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 21\n    }\n  }))));\n}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/AdminPanel/CustomerInfo/ClientPersonalInfoDisplay.jsx"],"names":["React","useEffect","useRef","useState","Container","Row","Col","Card","Table","Button","Form","Tab","Tabs","Modal","Spinner","GetClientPersonalInfo","GetClientBusinessInfo","updateClientPersonalInfo","updateClientBusinessInfo","blockUser","getClientTotalOrdersNum","getClientNetworkForAdmin","useDispatch","toastNotification","UploadAndEditImage","BiBlock","AiOutlineCheckCircle","imgBaseUrl","ClientPersonalInfoDisplay","id","dispatch","isBlocked","setIsBlocked","profileImage","setProfileImage","originalProfileImage","setOriginalProfileImage","personalImageToUpload","setPersonalImageToUpload","updatePersonalButtonLoading","setUpdatePersonalButtonLoading","updateBusinessButtonLoading","setUpdateBusinessButtonLoading","personalInfo","setPersonalInfo","businessInfo","setBusinessInfo","viewImg","setViewImg","tempImgPath","setTempImgPath","refreshPersonalInfo","setRefreshPersonalInfo","clinetTotalOrdersNum","setClinetTotalOrdersNum","firstNameRef","lastNameRef","emailRef","idNumberRef","businessNameRef","nusinessLocationRef","then","res","data","ordersNum","server_response","console","log","IsBlocked","img","handleClose","updatePersonalInfo","firstName","lastName","email","idNumber","current","value","attributes","placeholder","tempArr","tempPersonalImageName","isNewPersonalImage","personalImageCode","personalImageName","split","length","originalProfilePath","tempExtension","isPersonalImageUpdated","includes","updateBusinessInfo","businessName","businessLocation","fileInput","selectFile","click","handleBlockUser","FirstName","LastName","Email","phone","IDNumber","width","height","position","Math","random","fontSize","BusinessName","OdooId","balance","top","right","border","BusinessPlace","BusinessType","objectFit"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport './styles.css';\r\nimport { Container, Row, Col, Card, Table, Button, Form, Tab, Tabs, Modal, Spinner } from 'react-bootstrap';\r\nimport {\r\n    GetClientPersonalInfo,\r\n    GetClientBusinessInfo,\r\n    updateClientPersonalInfo,\r\n    updateClientBusinessInfo,\r\n    blockUser,\r\n    getClientTotalOrdersNum,\r\n    getClientNetworkForAdmin\r\n} from \"../../../APIs/AdminPanelApis\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { toastNotification } from \"../../../Actions/GeneralActions\";\r\nimport UploadAndEditImage from '../../UploadImage/UploadAndEditImage';\r\nimport { BiBlock } from 'react-icons/bi';\r\nimport { AiOutlineCheckCircle } from 'react-icons/ai';\r\nimport { imgBaseUrl } from \"../../../Constants/GeneralCont\";\r\n\r\nexport default function ClientPersonalInfoDisplay({ id }) {\r\n\r\n    let dispatch = useDispatch();\r\n\r\n    const [isBlocked, setIsBlocked] = useState(false);\r\n\r\n    const [profileImage, setProfileImage] = useState(\"\");\r\n    const [originalProfileImage, setOriginalProfileImage] = useState(\"\");\r\n    const [personalImageToUpload, setPersonalImageToUpload] = useState(\"\");\r\n\r\n    const [updatePersonalButtonLoading, setUpdatePersonalButtonLoading] = useState(false);\r\n    const [updateBusinessButtonLoading, setUpdateBusinessButtonLoading] = useState(false);\r\n\r\n    const [personalInfo, setPersonalInfo] = useState();\r\n    const [businessInfo, setBusinessInfo] = useState();\r\n    const [viewImg, setViewImg] = useState(false);\r\n    const [tempImgPath, setTempImgPath] = useState(\"\");\r\n    const [refreshPersonalInfo, setRefreshPersonalInfo] = useState(false);\r\n\r\n    const [clinetTotalOrdersNum, setClinetTotalOrdersNum] = useState(0);\r\n\r\n    const firstNameRef = useRef();\r\n    const lastNameRef = useRef();\r\n    const emailRef = useRef();\r\n    const idNumberRef = useRef();\r\n\r\n    const businessNameRef = useRef();\r\n    const nusinessLocationRef = useRef();\r\n\r\n    useEffect(() => {\r\n        getClientTotalOrdersNum(id).then((res) => {\r\n            setClinetTotalOrdersNum(res.data.ordersNum);\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        GetClientBusinessInfo(id).then((res) => {\r\n            setBusinessInfo(res.data.server_response)\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        getClientNetworkForAdmin(id).then((res) => {\r\n            console.log(res.data);\r\n            // setBusinessInfo(res.data.server_response)\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        GetClientPersonalInfo(id).then((res) => {\r\n            console.log(res.data)\r\n            setIsBlocked(res.data.server_response.IsBlocked == 1 ? true : false);\r\n            setOriginalProfileImage(res.data.server_response.img);\r\n            setProfileImage(imgBaseUrl + res.data.server_response.img);\r\n            setPersonalInfo(res.data.server_response);\r\n        })\r\n    }, [refreshPersonalInfo])\r\n\r\n    const handleClose = () => {\r\n        setViewImg(false);\r\n    }\r\n\r\n    function updatePersonalInfo() {\r\n\r\n        setUpdatePersonalButtonLoading(true);\r\n\r\n        let firstName = \"\";\r\n        let lastName = \"\";\r\n        let email = \"\";\r\n        let idNumber = \"\";\r\n\r\n        firstNameRef.current.value == \"\" ? firstName = firstNameRef.current.attributes.placeholder.value : firstName = firstNameRef.current.value;\r\n        lastNameRef.current.value == \"\" ? lastName = lastNameRef.current.attributes.placeholder.value : lastName = lastNameRef.current.value;\r\n        emailRef.current.value == \"\" ? email = emailRef.current.attributes.placeholder.value : email = emailRef.current.value;\r\n        idNumberRef.current.value == \"\" ? idNumber = idNumberRef.current.attributes.placeholder.value : idNumber = idNumberRef.current.value;\r\n\r\n        const tempArr = [id, firstName, lastName, email, idNumber];\r\n\r\n        /* \r\n            personal image update\r\n        */\r\n\r\n        let tempPersonalImageName = \"\"; // image name (including extension)\r\n        let isNewPersonalImage = false; // true if there is no previous image for this client\r\n\r\n        let personalImageCode = personalImageToUpload; // new-pesronal-image code to be uploaded as image file data\r\n        let personalImageName = profileImage.split(\"/\")[profileImage.split(\"/\").length - 1]; // new-personal-image file name\r\n        let originalProfilePath = originalProfileImage; // original presonal-image path (if existed)\r\n\r\n        // check if there is an originial image path in the database\r\n        if (originalProfilePath == \"\" || originalProfilePath == null) {\r\n            isNewPersonalImage = true;\r\n            let tempExtension = \"\";\r\n            tempExtension = (personalImageCode.split(\";\", 2)[0]).split(\"/\")[1];\r\n            tempPersonalImageName = \"img/PersonalImg/\" + personalImageName + \".\" + tempExtension;\r\n        } else {\r\n            isNewPersonalImage = false;\r\n            tempPersonalImageName = originalProfilePath;\r\n        }\r\n\r\n        let isPersonalImageUpdated = false; // true if there is a new image uploaded \r\n        // let TimeToRefresh = 0;\r\n\r\n        // check if there is a new image edited/uploaded\r\n        if (personalImageToUpload === \"\") {\r\n            // TimeToRefresh = 1000;\r\n            isPersonalImageUpdated = false;\r\n        } else {\r\n            // TimeToRefresh = 10000;\r\n            isPersonalImageUpdated = true;\r\n        }\r\n\r\n        updateClientPersonalInfo(\r\n            tempArr,\r\n            personalImageCode,\r\n            tempPersonalImageName,\r\n            isPersonalImageUpdated,\r\n            isNewPersonalImage\r\n        ).then((res) => {\r\n            setRefreshPersonalInfo(!refreshPersonalInfo);\r\n            setUpdatePersonalButtonLoading(false);\r\n            setPersonalImageToUpload(\"\");\r\n\r\n            if (res.data.includes(\"error\") || res.data == \"TokenError\") {\r\n                dispatch(toastNotification(\"Error!\", res.data, \"warning\"));\r\n            } else {\r\n                dispatch(toastNotification(\"Updated!\", res.data, \"success\"));\r\n            }\r\n            // }, TimeToRefresh);\r\n        })\r\n    }\r\n\r\n    function updateBusinessInfo() {\r\n\r\n        setUpdateBusinessButtonLoading(true);\r\n\r\n        let businessName = \"\";\r\n        let businessLocation = \"\";\r\n\r\n        businessNameRef.current.value == \"\" ? businessName = businessNameRef.current.attributes.placeholder.value : businessName = businessNameRef.current.value;\r\n        nusinessLocationRef.current.value == \"\" ? businessLocation = nusinessLocationRef.current.attributes.placeholder.value : businessLocation = nusinessLocationRef.current.value;\r\n\r\n        const tempArr = [id, businessName, businessLocation];\r\n\r\n        updateClientBusinessInfo(tempArr).then((res) => {\r\n            setUpdateBusinessButtonLoading(false);\r\n\r\n            if (res.data.includes(\"error\") || res.data == \"TokenError\") {\r\n                dispatch(toastNotification(\"Error!\", res.data, \"warning\"));\r\n            } else {\r\n                dispatch(toastNotification(\"Updated!\", res.data, \"success\"));\r\n            }\r\n        })\r\n    }\r\n\r\n    const fileInput = useRef();\r\n    const selectFile = () => {\r\n        fileInput.current.click();\r\n    }\r\n\r\n    function handleBlockUser() {\r\n        blockUser(id, !isBlocked).then((res) => {\r\n\r\n            if (res.data.includes(\"error\") || res.data == \"TokenError\") {\r\n                dispatch(toastNotification(\"Error!\", res.data, \"warning\"));\r\n            } else {\r\n                dispatch(toastNotification(\"Updated!\", res.data, \"success\"));\r\n                setIsBlocked(!isBlocked);\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Tabs defaultActiveKey=\"PersonalInformation\" id=\"uncontrolled-tab-example\" className=\"tabPane\">\r\n                <Tab eventKey=\"PersonalInformation\" title=\"Personal Information\">\r\n                    <Card className=\"customCardSm shadow m-5\">\r\n                        <Card.Body>\r\n\r\n                            {personalInfo ? <Container fluid>\r\n                                <Row>\r\n                                    <Col lg={6}>\r\n                                        <Table className=\"infoTable\">\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <th>Full Name:</th>\r\n                                                    <td className=\"d-flex justify-content-between\">\r\n                                                        <Form.Control\r\n                                                            ref={firstNameRef}\r\n                                                            type=\"text\"\r\n                                                            placeholder={personalInfo?.FirstName}\r\n                                                            className=\"w-50\"\r\n                                                        />\r\n                                                        <Form.Control\r\n                                                            ref={lastNameRef}\r\n                                                            type=\"text\"\r\n                                                            placeholder={personalInfo?.LastName}\r\n                                                            className=\"w-50\"\r\n                                                        />\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th>Email:</th>\r\n                                                    <td>\r\n                                                        <Form.Control\r\n                                                            ref={emailRef}\r\n                                                            type=\"email\"\r\n                                                            placeholder={personalInfo?.Email}\r\n                                                        />\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th>Phone Number:</th>\r\n                                                    <td>\r\n                                                        {personalInfo?.phone}\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th>ID Number:</th>\r\n                                                    <td>\r\n                                                        <Form.Control\r\n                                                            ref={idNumberRef}\r\n                                                            type=\"number\"\r\n                                                            placeholder={personalInfo?.IDNumber}\r\n                                                        />\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </Table>\r\n                                    </Col>\r\n                                    <Col lg={6}>\r\n                                        <div className=\"w-100 d-flex justify-content-center\">\r\n                                            <div\r\n                                                className=\"rounded-circle d-flex light-turquoise-bg wh-45px logo-img-container\"\r\n                                                style={{ width: \"200px\", height: \"200px\", position: \"relative\" }}\r\n                                            >\r\n                                                <img\r\n                                                    className=\"logo-image\"\r\n                                                    src={!profileImage.includes(\"null\") ? (profileImage.split(\"/\")[profileImage.split(\"/\").length - 1].includes(\".\") ? profileImage + \"?t=\" + Math.random() : profileImage) : \"https://freepikpsd.com/file/2019/10/avatar-icon-png-5-Images-PNG-Transparent.png\"}\r\n                                                    alt=\"user-profile-pic\"\r\n                                                />\r\n                                                <div className=\"logo-img-overlay\" onClick={() => { setViewImg(true); setTempImgPath(imgBaseUrl + personalInfo?.img) }}>\r\n                                                    <div className=\"logo-img-overlay-text\"><i className=\"bi bi-arrows-fullscreen h1\"></i></div>\r\n                                                </div>\r\n                                                <UploadAndEditImage currentImage={profileImage.split(\"/\")[profileImage.split(\"/\").length - 1].includes(\".\") ? profileImage + \"?t=\" + Math.random() : profileImage} setImageToUpload={setPersonalImageToUpload} setImage={setProfileImage} imageBorderRadius={250} imageHeight={250} imageWidth={250} />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"mt-3 ms-3 d-flex justify-content-center\" style={{ fontSize: \"1.5rem\" }}>{businessInfo?.BusinessName}</div>\r\n\r\n                                        <Table>\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Customer ID</th>\r\n                                                    <td>{id}</td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Odoo ID</th>\r\n                                                    <td>{personalInfo?.OdooId}</td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Balance</th>\r\n                                                    <td>{personalInfo?.balance} NIS</td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Total Orders</th>\r\n                                                    <td>{clinetTotalOrdersNum}</td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </Table>\r\n                                        <div className=\"mt-3 ms-3 d-flex justify-content-center h1\" style={{ position: \"absolute\", top: 0, right: \"20px\" }}>\r\n                                            <div className=\"custome-check\" style={{ border: isBlocked ? \"4px solid red\" : \"4px solid green\" }} onClick={handleBlockUser}>\r\n                                                {!isBlocked && <div className=\"custome-check-checked\">\r\n                                                    <AiOutlineCheckCircle />\r\n                                                </div>}\r\n                                                {isBlocked && <div className=\"custome-check-unchecked\">\r\n                                                    <BiBlock />\r\n                                                </div>}\r\n                                            </div>\r\n                                        </div>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Container> : <Spinner animation=\"border\" variant=\"success\" />}\r\n                        </Card.Body>\r\n                        <Card.Footer>\r\n                            {personalInfo ? <Button disabled={updatePersonalButtonLoading && true} className=\"btn-grad update-btn\" onClick={updatePersonalInfo}>\r\n                                {updatePersonalButtonLoading && <Spinner animation=\"border\" variant=\"success\" />} UPDATE\r\n                            </Button> : <Spinner animation=\"border\" variant=\"success\" />}\r\n                        </Card.Footer>\r\n                    </Card>\r\n                </Tab>\r\n                <Tab eventKey=\"businessInformation\" title=\"Business Information\">\r\n                    <Card className=\"customCardSm shadow m-5\">\r\n                        <Card.Body>\r\n                            <Container fluid>\r\n                                <Row>\r\n                                    <Col lg={12}>\r\n                                        <Table className=\"infoTable\">\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <th>Business Name:</th>\r\n                                                    <td>\r\n                                                        <Form.Control\r\n                                                            ref={businessNameRef}\r\n                                                            type=\"text\"\r\n                                                            placeholder={businessInfo?.BusinessName}\r\n                                                        />\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th>Business Location:</th>\r\n                                                    <td>\r\n                                                        <Form.Control\r\n                                                            ref={nusinessLocationRef}\r\n                                                            type=\"text\"\r\n                                                            placeholder={businessInfo?.BusinessPlace}\r\n                                                        />\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th>Business Type:</th>\r\n                                                    <td>\r\n                                                        {businessInfo?.BusinessType === \"1\" ? \"شركة\" : \"مؤسسة\"}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </Table>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Container>\r\n                        </Card.Body>\r\n                        <Card.Footer>\r\n                            <Button disabled={updateBusinessButtonLoading && true} className=\"btn-grad update-btn\" onClick={updateBusinessInfo}>\r\n                                {updateBusinessButtonLoading && <Spinner animation=\"border\" variant=\"success\" />} UPDATE\r\n                            </Button>\r\n                        </Card.Footer>\r\n                    </Card>\r\n                </Tab>\r\n                <Tab eventKey=\"network\" title=\"Network\">\r\n                    <Card className=\"customCardSm shadow m-5\">\r\n                        <Card.Body>\r\n                            <Container fluid>\r\n                                <Row>\r\n                                    <Col lg={12}>\r\n                                        <Table className=\"infoTable\">\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <th>Business Name:</th>\r\n                                                    <td>\r\n                                                        <Form.Control\r\n                                                            ref={businessNameRef}\r\n                                                            type=\"text\"\r\n                                                            placeholder={businessInfo?.BusinessName}\r\n                                                        />\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th>Business Location:</th>\r\n                                                    <td>\r\n                                                        <Form.Control\r\n                                                            ref={nusinessLocationRef}\r\n                                                            type=\"text\"\r\n                                                            placeholder={businessInfo?.BusinessPlace}\r\n                                                        />\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th>Business Type:</th>\r\n                                                    <td>\r\n                                                        {businessInfo?.BusinessType === \"1\" ? \"شركة\" : \"مؤسسة\"}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </Table>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Container>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Tab>\r\n            </Tabs>\r\n            <Modal fullscreen={true} show={viewImg} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                </Modal.Header>\r\n                <Modal.Body className=\"d-flex justify-content-center\">\r\n                    <img\r\n                        src={tempImgPath.split(\"/\")[tempImgPath.split(\"/\").length - 1].includes(\".\") ? tempImgPath + \"?t=\" + Math.random() : tempImgPath}\r\n                        style={{ objectFit: \"cover\" }}\r\n                        alt=\"No image!\"\r\n                    />\r\n                </Modal.Body>\r\n            </Modal>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}