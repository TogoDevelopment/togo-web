{"ast":null,"code":"import _classCallCheck from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/QRCodeGenerator/QRCodeGenerator.jsx\";\nimport React, { Component } from \"react\";\nimport \"./QRCodeGenerator.css\";\nimport { getAuthenticationQR } from \"../../APIs/AuthenticationAPIs\";\nimport { checkAccess as _checkAccess } from \"../../Actions/authenticationActions\";\nimport { connect } from \"react-redux\";\nimport AuthOne from '../../assets/images/auth1.jpg';\nimport AuthTOW from '../../assets/images/auth2.jpg';\nimport { Image, ListGroup } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nvar QRCode = require(\"qrcode.react\");\n\nvar QRCodeGenerator = /*#__PURE__*/function (_Component) {\n  _inherits(QRCodeGenerator, _Component);\n\n  var _super = _createSuper(QRCodeGenerator);\n\n  function QRCodeGenerator() {\n    var _this;\n\n    _classCallCheck(this, QRCodeGenerator);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      qrUUID: null\n    };\n\n    _this.getAuthenticationQR = function () {\n      getAuthenticationQR().then(function (qrUUID) {\n        _this.setState({\n          qrUUID: qrUUID\n        });\n      });\n    };\n\n    _this.componentDidMount = function () {\n      var _this$props = _this.props,\n          history = _this$props.history,\n          checkAccess = _this$props.checkAccess;\n\n      _this.getAuthenticationQR();\n\n      _this.qrCodeGeneratorInterval = setInterval(_this.getAuthenticationQR, 300000000);\n      _this.checkSuccessInterval = setInterval(function () {\n        checkAccess(_this.state.qrUUID).then(function (res) {\n          res && history.push(\"/account/main/\");\n        });\n      }, 5000);\n    };\n\n    _this.componentWillUnmount = function () {\n      clearInterval(_this.qrCodeGeneratorInterval);\n      clearInterval(_this.checkSuccessInterval);\n    };\n\n    return _this;\n  }\n\n  _createClass(QRCodeGenerator, [{\n    key: \"render\",\n    value: function render() {\n      var qrUUID = this.state.qrUUID;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-evenly p-2 w-100 w-75\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        as: \"ol\",\n        numbered: true,\n        className: \"m-inline-e-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n        as: \"li\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }\n      }, \"Have you got the app ? if not please download from \"), /*#__PURE__*/React.createElement(Link, {\n        to: \"/#testdownload\",\n        style: {\n          color: \"#0d6efd\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }\n      }, \"here\")), /*#__PURE__*/React.createElement(ListGroup.Item, {\n        as: \"li\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      }, \"Register an account\", /*#__PURE__*/React.createElement(ListGroup, {\n        as: \"ol\",\n        numbered: true,\n        variant: \"flush\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n        as: \"li\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 29\n        }\n      }, \"Choose your language\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n        as: \"li\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }\n      }, \"Check TOGO privacy agreement\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n        as: \"li\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 29\n        }\n      }, \"Enter your mobile number and create your account\"))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n        as: \"li\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }, \"Click on user icon\", /*#__PURE__*/React.createElement(Image, {\n        src: AuthOne,\n        alt: \"stepone\",\n        rounded: true,\n        className: \"m-auto\",\n        style: {\n          maxWidth: \"210px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(ListGroup.Item, {\n        as: \"li\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }\n      }, \"Select scan bar code\", /*#__PURE__*/React.createElement(Image, {\n        src: AuthTOW,\n        alt: \"steptwo\",\n        rounded: true,\n        className: \"m-auto\",\n        style: {\n          maxWidth: \"210px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }\n      }))), qrUUID && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"qr-code-canvas\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(QRCode, {\n        value: qrUUID,\n        size: 256 //fgColor=\"green\"\n        ,\n        imageSettings: {\n          //src: whiteLogo,\n          height: 30 * 256 / 100,\n          width: 30 * 256 / 100,\n          excavate: false\n        } //includeMargin={true}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }\n      })));\n    }\n  }]);\n\n  return QRCodeGenerator;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    checkAccess: function checkAccess(qrUUID) {\n      return dispatch(_checkAccess(qrUUID));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QRCodeGenerator);","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/QRCodeGenerator/QRCodeGenerator.jsx"],"names":["React","Component","getAuthenticationQR","checkAccess","connect","AuthOne","AuthTOW","Image","ListGroup","Link","QRCode","require","QRCodeGenerator","state","qrUUID","then","setState","componentDidMount","props","history","qrCodeGeneratorInterval","setInterval","checkSuccessInterval","res","push","componentWillUnmount","clearInterval","color","maxWidth","height","width","excavate","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport \"./QRCodeGenerator.css\";\r\nimport {getAuthenticationQR} from \"../../APIs/AuthenticationAPIs\";\r\n\r\nimport {checkAccess} from \"../../Actions/authenticationActions\";\r\nimport {connect} from \"react-redux\";\r\nimport AuthOne from '../../assets/images/auth1.jpg';\r\nimport AuthTOW from '../../assets/images/auth2.jpg';\r\nimport { Image, ListGroup } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nvar QRCode = require(\"qrcode.react\");\r\n\r\nclass QRCodeGenerator extends Component {\r\n    state = {qrUUID: null};\r\n\r\n    getAuthenticationQR = () => {\r\n        getAuthenticationQR().then((qrUUID) => {\r\n            this.setState({\r\n                qrUUID,\r\n            });\r\n        });\r\n    };\r\n\r\n    componentDidMount = () => {\r\n        let {history, checkAccess} = this.props;\r\n\r\n        this.getAuthenticationQR();\r\n        this.qrCodeGeneratorInterval = setInterval(\r\n            this.getAuthenticationQR,\r\n            300000000\r\n        );\r\n        this.checkSuccessInterval = setInterval(() => {\r\n            checkAccess(this.state.qrUUID).then((res) => {\r\n                res && history.push(\"/account/main/\");\r\n            });\r\n        }, 5000);\r\n    };\r\n\r\n    componentWillUnmount = () => {\r\n        clearInterval(this.qrCodeGeneratorInterval);\r\n        clearInterval(this.checkSuccessInterval);\r\n    };\r\n\r\n    render() {\r\n        let {qrUUID} = this.state;\r\n        return (\r\n            <div className=\"d-flex justify-content-evenly p-2 w-100 w-75\">\r\n                <ListGroup as=\"ol\" numbered className=\"m-inline-e-2\">\r\n                    <ListGroup.Item as=\"li\">\r\n                        <span>Have you got the app ? if not please download from </span>\r\n                        <Link to=\"/#testdownload\" style={{color: \"#0d6efd\"}}>here</Link>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item as=\"li\">\r\n                        Register an account\r\n                        <ListGroup as=\"ol\" numbered variant=\"flush\">\r\n                            <ListGroup.Item as=\"li\">\r\n                                Choose your language\r\n                            </ListGroup.Item>\r\n                            <ListGroup.Item as=\"li\">\r\n                                Check TOGO privacy agreement\r\n                            </ListGroup.Item>\r\n                            <ListGroup.Item as=\"li\">\r\n                                Enter your mobile number and create your account\r\n                            </ListGroup.Item>\r\n                        </ListGroup>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item as=\"li\">\r\n                        Click on user icon\r\n                        <Image src={AuthOne} alt=\"stepone\" rounded className=\"m-auto\" style={{    maxWidth: \"210px\" }} />\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item as=\"li\">\r\n                        Select scan bar code\r\n                        <Image src={AuthTOW} alt=\"steptwo\" rounded className=\"m-auto\" style={{ maxWidth: \"210px\",  }} />\r\n                    </ListGroup.Item>\r\n                </ListGroup>\r\n                \r\n                {qrUUID && (\r\n                    <div className=\"qr-code-canvas\">\r\n                        <QRCode\r\n                            value={qrUUID}\r\n                            size={256}\r\n                            //fgColor=\"green\"\r\n                            imageSettings={{\r\n                                //src: whiteLogo,\r\n                                height: 30 * 256 / 100,\r\n                                width: 30 * 256 / 100, \r\n                                excavate: false\r\n                            }}\r\n                            //includeMargin={true}\r\n                        />\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    checkAccess: (qrUUID) => dispatch(checkAccess(qrUUID))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(QRCodeGenerator);\r\n"]},"metadata":{},"sourceType":"module"}