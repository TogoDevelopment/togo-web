{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/WayBill.jsx\";\n//import htmlToPdfmake from \"html-to-pdfmake\";\n//import pdfMake from \"pdfmake\";\n//import pdfFonts from 'pdfmake/build/vfs_fonts';\n//import jsPDF from \"jspdf\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useParams } from \"react-router\";\nimport { getBusinessLocation, getPersonalInfo } from \"../Actions/ProfileActions\";\nimport translate from \"../i18n/translate\";\nimport { getOrderDetails } from \"./APIs/OrdersAPIs\";\nimport { packageFormatter } from \"./Orders/OrdersTabularView\"; // import { Button } from \"react-bootstrap\";\n\nvar Barcode = require('react-barcode'); // var pdfMake = require(\"pdfmake/build/pdfmake\");\n// var pdfFonts = require(\"pdfmake/build/vfs_fonts\");\n// pdfMake.vfs = pdfFonts.pdfMake.vfs;\n// var htmlToPdfmake = require(\"html-to-pdfmake\");\n\n\nexport default function WayBill() {\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      orderDetails = _useState2[0],\n      setOrderDetails = _useState2[1];\n\n  var location = useLocation();\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.profile.personalInfo;\n  }),\n      FullName = _useSelector.FullName,\n      Email = _useSelector.Email,\n      LogoUrl = _useSelector.LogoUrl;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.profile.businessLocations;\n  }),\n      BusinessName = _useSelector2.BusinessName;\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1]; // const convertToPdf = () => {\n  //     //const doc = new jsPDF();\n  //     const pdfTable = document.querySelector(\".togo-waybill\");\n  //     console.log(pdfTable.innerHTML);\n  //     var val = htmlToPdfmake(pdfTable.innerHTML);\n  //     var dd = {content:val};\n  //     pdfMake.createPdf(dd).open();\n  // }\n\n\n  useEffect(function () {\n    if (FullName && Email && orderDetails && BusinessName) {\n      if (new URLSearchParams(location.search).get(\"print\") === \"true\") {\n        window.print();\n      }\n    }\n  }, [FullName, Email, orderDetails]);\n  useEffect(function () {\n    dispatch(getPersonalInfo(function () {\n      setLoading(false);\n    }));\n    dispatch(getBusinessLocation());\n  }, [dispatch]);\n  useEffect(function () {\n    getOrderDetails(id).then(function (orderDetails) {\n      setOrderDetails(orderDetails);\n    });\n  }, [id]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container pt-3 togo-waybill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border border-dark border-2 w-50 d-flex justify-content-between p-2 m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      maxWidth: \"200px\"\n    },\n    alt: \"business logo\",\n    src: \"http://46.253.93.4/togo/MobileAPi/\".concat(LogoUrl) //src=\"https://cdn.dribbble.com/users/1111447/screenshots/7697273/media/ba28a6aaee0f52b59662c6d6122c94ef.png?compress=1&resize=400x300\" \n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, FullName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, BusinessName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, translate(\"PERSONAL_DETAILS.EMAIL\"), \": \", Email))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, translate(\"WAYBILL.PRINT_DATE\"), \": \", new Date().toDateString(), \" \"), (orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.BarCode) && /*#__PURE__*/React.createElement(Barcode, {\n    value: orderDetails.BarCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 43\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50  m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    style: {\n      all: \"revert\",\n      margin: \"0\"\n    },\n    className: \"border-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    style: {\n      all: \"revert\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.SENDER\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, translate(\"WORKING_TIME.FROM\"), \": \", orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.ReceiverName, \", \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 92\n    }\n  }), \" \", orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.IdCitySource, \",\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 128\n    }\n  }), \" \", orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.OtherDetailsDes), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"my-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, translate(\"ADMIN.MOBILE_NUMBER\"), \": \", orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.ReceiverAddressNum)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    style: {\n      all: \"revert\",\n      margin: \"0\"\n    },\n    className: \"border-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    style: {\n      all: \"revert\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.RECEIVER\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, translate(\"WORKING_TIME.TO\"), \": \", FullName, \",\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 67\n    }\n  }), orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.IdCityDes, \",\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 47\n    }\n  }), orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.OtherDetails), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"my-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, translate(\"ADMIN.MOBILE_NUMBER\"), \": \", orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.PhoneCustomer)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-75 m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border border-dark p-2 border-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.NOTES\"), \": \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.DetailsLoad)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-75 m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered border-2 border-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 37\n    }\n  }, translate(\"WAYBILL.LENGTH\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 37\n    }\n  }, translate(\"WAYBILL.HEIGHT\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 37\n    }\n  }, translate(\"WAYBILL.WIDTH\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 37\n    }\n  }, translate(\"WAYBILL.WEIGHT\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 37\n    }\n  }, (orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.LengthLoad) || \"N/A\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 37\n    }\n  }, (orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.HeightLoad) || \"N/A\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 37\n    }\n  }, (orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.WidthLoad) || \"N/A\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 37\n    }\n  }, (orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.WeightLoad) || \"N/A\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-25\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered border-2 border-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 37\n    }\n  }, translate(\"WAYBILL.SHIP\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 37\n    }\n  }, packageFormatter({\n    PackageType: orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.TypeLoad\n  })))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border border-2 border-dark w-25 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"p-2 border-bottom border-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, \"\\u0642\\u064A\\u0645\\u0647 \\u0627\\u0644\\u062A\\u062D\\u0635\\u064A\\u0644\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center flex-column\",\n    style: {\n      height: \"calc(100% - 38px)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, orderDetails === null || orderDetails === void 0 ? void 0 : orderDetails.CostLoad), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 21\n    }\n  }, translate(\"WAYBILL.NIS\"))))));\n}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/WayBill.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","useLocation","useParams","getBusinessLocation","getPersonalInfo","translate","getOrderDetails","packageFormatter","Barcode","require","WayBill","id","orderDetails","setOrderDetails","location","dispatch","state","profile","personalInfo","FullName","Email","LogoUrl","businessLocations","BusinessName","loading","setLoading","URLSearchParams","search","get","window","print","then","maxWidth","Date","toDateString","BarCode","all","margin","ReceiverName","IdCitySource","OtherDetailsDes","ReceiverAddressNum","IdCityDes","OtherDetails","PhoneCustomer","DetailsLoad","LengthLoad","HeightLoad","WidthLoad","WeightLoad","PackageType","TypeLoad","height","CostLoad"],"mappings":"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","sourcesContent":["//import htmlToPdfmake from \"html-to-pdfmake\";\r\n//import pdfMake from \"pdfmake\";\r\n//import pdfFonts from 'pdfmake/build/vfs_fonts';\r\n\r\n//import jsPDF from \"jspdf\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation, useParams } from \"react-router\";\r\nimport { getBusinessLocation, getPersonalInfo } from \"../Actions/ProfileActions\";\r\nimport translate from \"../i18n/translate\";\r\nimport { getOrderDetails } from \"./APIs/OrdersAPIs\";\r\nimport { packageFormatter } from \"./Orders/OrdersTabularView\";\r\n// import { Button } from \"react-bootstrap\";\r\nvar Barcode = require('react-barcode');\r\n\r\n// var pdfMake = require(\"pdfmake/build/pdfmake\");\r\n// var pdfFonts = require(\"pdfmake/build/vfs_fonts\");\r\n// pdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n// var htmlToPdfmake = require(\"html-to-pdfmake\");\r\n\r\nexport default function WayBill(){\r\n    const{ id } = useParams();\r\n    \r\n    const [orderDetails, setOrderDetails] = useState();\r\n    const location = useLocation();\r\n    const dispatch = useDispatch();\r\n    const {FullName, Email, LogoUrl} = useSelector(state => state.profile.personalInfo);\r\n    const { BusinessName } = useSelector(state => state.profile.businessLocations);\r\n    const [loading, setLoading] = useState(true);\r\n    // const convertToPdf = () => {\r\n    //     //const doc = new jsPDF();\r\n    //     const pdfTable = document.querySelector(\".togo-waybill\");\r\n    //     console.log(pdfTable.innerHTML);\r\n    //     var val = htmlToPdfmake(pdfTable.innerHTML);\r\n    //     var dd = {content:val};\r\n    //     pdfMake.createPdf(dd).open();\r\n    // }\r\n\r\n    useEffect(()=>{\r\n        if(FullName && Email && orderDetails && BusinessName){\r\n            if(new URLSearchParams(location.search).get(\"print\") === \"true\"){\r\n                window.print();\r\n            }\r\n        }\r\n    }, [FullName, Email, orderDetails])\r\n\r\n    useEffect(() => {\r\n        dispatch(getPersonalInfo(() => {\r\n            setLoading(false);\r\n        }));\r\n        dispatch(getBusinessLocation());\r\n    }, [dispatch]);\r\n\r\n    useEffect(()=>{\r\n        \r\n        getOrderDetails(id).then((orderDetails) => {\r\n            setOrderDetails(orderDetails);\r\n        });\r\n\r\n    }, [id]);\r\n    \r\n    return (\r\n    <div className=\"container pt-3 togo-waybill\">\r\n        {/* <Button onClick={convertToPdf}>PDF</Button> */}\r\n        <div className=\"d-flex\">\r\n            <div className=\"border border-dark border-2 w-50 d-flex justify-content-between p-2 m-inline-e-2\">\r\n                <img \r\n                    style={{\r\n                        maxWidth: \"200px\"\r\n                    }}\r\n                    alt=\"business logo\"\r\n                    src={`http://46.253.93.4/togo/MobileAPi/${LogoUrl}`}\r\n                    //src=\"https://cdn.dribbble.com/users/1111447/screenshots/7697273/media/ba28a6aaee0f52b59662c6d6122c94ef.png?compress=1&resize=400x300\" \r\n                />\r\n                <div>\r\n                    <p>{FullName}</p>\r\n                    <p>{BusinessName}</p>\r\n                    <p>{translate(\"PERSONAL_DETAILS.EMAIL\")}: {Email}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"w-50\">\r\n                <p>{translate(\"WAYBILL.PRINT_DATE\")}: {new Date().toDateString()} </p>\r\n                {orderDetails?.BarCode && <Barcode value={orderDetails.BarCode} />}\r\n            </div>\r\n        </div>\r\n        \r\n        <div className=\"d-flex\">\r\n            \r\n            <div className=\"w-50  m-inline-e-2\">\r\n                <fieldset \r\n                    style={{\r\n                        all: \"revert\",\r\n                        margin: \"0\"\r\n                    }}\r\n                    className=\"border-dark\"\r\n                >\r\n                    <legend \r\n                        style={{\r\n                            all: \"revert\"\r\n                        }}\r\n                    >\r\n                        {translate(\"WAYBILL.SENDER\")}\r\n                    </legend>\r\n                    <div>\r\n                        <p>{translate(\"WORKING_TIME.FROM\")}: {orderDetails?.ReceiverName}, <br /> {orderDetails?.IdCitySource},<br /> {orderDetails?.OtherDetailsDes}</p>\r\n                        <hr className=\"my-2\" />\r\n                        <p>{translate(\"ADMIN.MOBILE_NUMBER\")}: {orderDetails?.ReceiverAddressNum}</p>\r\n                    </div>\r\n                </fieldset>\r\n            </div>\r\n\r\n            <div className=\"w-50\">\r\n                <fieldset \r\n                    style={{\r\n                        all: \"revert\",\r\n                        margin: \"0\",\r\n                    }}\r\n                    className=\"border-dark\"\r\n                >\r\n                    <legend style={{\r\n                        all: \"revert\"\r\n                    }}>\r\n                        {translate(\"WAYBILL.RECEIVER\")}\r\n                    </legend>\r\n                    <p>{translate(\"WORKING_TIME.TO\")}: {FullName},<br />\r\n                    {orderDetails?.IdCityDes},<br />\r\n                    {orderDetails?.OtherDetails}\r\n                    </p>\r\n                    <hr className=\"my-2\" />\r\n                    <p>{translate(\"ADMIN.MOBILE_NUMBER\")}: {orderDetails?.PhoneCustomer}</p>\r\n                </fieldset>\r\n            </div>\r\n        </div>\r\n        \r\n        <div className=\"d-flex pt-2\">\r\n            <div className=\"w-75 m-inline-e-2\">\r\n                <div className=\"border border-dark p-2 border-2\">\r\n                    {/* <p>{translate(\"WAYBILL.CONTENTS\")}: </p>\r\n                    <p></p>\r\n                    <hr className=\"my-2\" /> */}\r\n                    <p>{translate(\"WAYBILL.NOTES\")}: </p>\r\n                    <p>{orderDetails?.DetailsLoad}</p>\r\n                </div>\r\n\r\n                <div className=\"d-flex pt-2\">\r\n                    <div className=\"w-75 m-inline-e-2\">\r\n                        <table className=\"table table-bordered border-2 border-dark\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>{translate(\"WAYBILL.LENGTH\")}</th>\r\n                                    <th>{translate(\"WAYBILL.HEIGHT\")}</th>\r\n                                    <th>{translate(\"WAYBILL.WIDTH\")}</th>\r\n                                    <th>{translate(\"WAYBILL.WEIGHT\")}</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        {orderDetails?.LengthLoad || \"N/A\"}\r\n                                    </td>\r\n                                    <td>\r\n                                        {orderDetails?.HeightLoad || \"N/A\"}\r\n                                    </td>\r\n                                    <td>\r\n                                        {orderDetails?.WidthLoad || \"N/A\"}\r\n                                    </td>\r\n                                    <td>\r\n                                        {orderDetails?.WeightLoad || \"N/A\"}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <div className=\"w-25\">\r\n                        <table className=\"table table-bordered border-2 border-dark\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>{translate(\"WAYBILL.SHIP\")}</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>{packageFormatter({PackageType: orderDetails?.TypeLoad})}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"border border-2 border-dark w-25 text-center\">\r\n                <p className=\"p-2 border-bottom border-dark\">قيمه التحصيل</p>\r\n                \r\n                <div className=\"d-flex justify-content-center flex-column\" style={{height: \"calc(100% - 38px)\"}}>\r\n                    <h1 className=\"h1\">{orderDetails?.CostLoad}</h1>\r\n                    <p>{translate(\"WAYBILL.NIS\")}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>)\r\n}"]},"metadata":{},"sourceType":"module"}