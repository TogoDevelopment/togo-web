{"ast":null,"code":"import _slicedToArray from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,ListGroup,Modal}from\"react-bootstrap\";import translate from\"../i18n/translate\";import React,{useEffect,useState}from\"react\";import{AssignOrderToMember,GetAllMembers}from\"../APIs/OrdersAPIs\";import{Box}from\"@chakra-ui/layout\";export default function AssignToTransporter(_ref){var orderId=_ref.orderId,onSuccess=_ref.onSuccess;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),members=_useState4[0],setMembers=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),active=_useState6[0],setActive=_useState6[1];var handleClose=function handleClose(){setShow(false);};var handleShow=function handleShow(){return setShow(true);};useEffect(function(){GetAllMembers().then(function(res){setMembers(res.data.server_response);});},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{className:\"font-weight-bold\",variant:\"success\",onClick:function onClick(){handleShow();}},translate(\"ORDER_DETAILS.ASSIGN\")),/*#__PURE__*/React.createElement(Modal,{show:show,onHide:handleClose,centered:true},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,null,translate(\"ORDER_DETAILS.FINALIZE_ORDER\"))),/*#__PURE__*/React.createElement(Box,{p:\"10px\"},/*#__PURE__*/React.createElement(ListGroup,{className:\"mb-1\"},members.length===0&&/*#__PURE__*/React.createElement(ListGroup.Item,{className:\"p-1 rounded-0\",variant:\"info\"},translate(\"ORDER_DETAILS.ADD_TRANSPORTER\")),members.length&&/*#__PURE__*/React.createElement(ListGroup.Item,{className:\"p-1 rounded-0\",variant:\"info\"},translate(\"ORDER_DETAILS.CHOOSE_TRANSPORTER\"))),/*#__PURE__*/React.createElement(ListGroup,{onClick:function onClick(event){console.log(event.target.id);setActive(members[event.target.id.split(\"_\")[0]]);}},members.map(function(member,idx){return/*#__PURE__*/React.createElement(ListGroup.Item,{className:\"p-1\",id:\"\".concat(idx,\"_\").concat(member.FullName),key:\"\".concat(idx,\"_\").concat(member.FullName),action:true,active:active.FullName===member.FullName},member.FullName);}))),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:handleClose},translate(\"GENERAL.CLOSE\")),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(){AssignOrderToMember(active.TransporterId,orderId).then(function(){handleClose();onSuccess();});},disabled:!active.FullName},translate(\"GENERAL.PROCEED\")))));}","map":null,"metadata":{},"sourceType":"module"}