{"ast":null,"code":"import _slicedToArray from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import{Button,Dropdown,Form,FormControl,InputGroup,Spinner}from\"react-bootstrap\";import{GetVehicleImgs,SetVehicleInfo}from\"../APIs/LoginAPIs\";export default function VehicleDetails(){var vehicleImgRef=useRef();var registrationImgCode=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loadingSubmit=_useState2[0],setLoadingSubmit=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),vehicleColors=_useState4[0],setVehicleColors=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),selectedVehicleColor=_useState6[0],setSelectedVehicleColor=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),vehiclePhotos=_useState8[0],setVehiclePhotos=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),selectedVehiclePhotos=_useState10[0],setSelectedVehiclePhotos=_useState10[1];function onFileChange(event){var reader=new FileReader();var fileInputName=event.target.name;reader.onload=function(e){var dataUri=e.target.result;var base64=dataUri.substr(dataUri.indexOf(\",\")+1);if(fileInputName===\"registrationImg\"){registrationImgCode.current=base64;}else{vehicleImgRef.current=base64;}};if(event.currentTarget.files[0]){reader.readAsDataURL(event.currentTarget.files[0]);}}useEffect(function(){GetVehicleImgs().then(function(res){setVehicleColors(res.data.Color);setSelectedVehicleColor(res.data.Color[0]);setVehiclePhotos(res.data.Photos);setSelectedVehiclePhotos(res.data.Photos[0]);});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"mainbg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"h1 p-3 text-center togo-button\"},\"Create account / transporter\"),/*#__PURE__*/React.createElement(Form,{className:\"m-auto w-75\",onSubmit:function onSubmit(event){event.preventDefault();//console.log(event.target);\nSetVehicleInfo(event.target,selectedVehicleColor.ColorId,selectedVehiclePhotos.vehicleId,registrationImgCode.current,vehicleImgRef.current);// console.log(event.target[0].value)\n// console.log(event.target.elements.FirstName.value)\n// console.log(event.target.FirstName.value)\n}},/*#__PURE__*/React.createElement(\"p\",{className:\"text-center togo-border h4\"},\"Vehicle details\"),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row row-cols-3 align-items-center\"},vehiclePhotos.map(function(photo){return/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){setSelectedVehiclePhotos(photo);},className:\"col p-2 rounded-circle\\n                                        \".concat((selectedVehiclePhotos===null||selectedVehiclePhotos===void 0?void 0:selectedVehiclePhotos.vehicleId)===photo.vehicleId?\"btn-grad\":\"\")},/*#__PURE__*/React.createElement(\"img\",{src:\"/togo/public/img/\".concat(photo.PhotoUrl),alt:photo.Name}));}))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"regNumber\",className:\"m-inline-e-2\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Registration number\"),/*#__PURE__*/React.createElement(InputGroup,{className:\"mb-2 togo-outling\"},/*#__PURE__*/React.createElement(FormControl,{type:\"text\",className:\"bg-white rounded-22\",name:\"RegNumber\"}))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"RegExpDate\",className:\"m-inline-e-2\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Registration expiration date\"),/*#__PURE__*/React.createElement(InputGroup,{className:\"mb-2 togo-outling\"},/*#__PURE__*/React.createElement(FormControl,{type:\"date\",className:\"bg-white rounded-22\",name:\"RegDate\"}))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"vehicleName\",className:\"m-inline-e-2\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Vehicle number\"),/*#__PURE__*/React.createElement(InputGroup,{className:\"mb-2 togo-outling\"},/*#__PURE__*/React.createElement(FormControl,{type:\"text\",className:\"bg-white rounded-22\",name:\"VehicleNumber\"}))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"vehicleColor\",className:\"m-inline-e-2\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Vehicle color\"),/*#__PURE__*/React.createElement(\"div\",{className:\"togo-outling mb-2\"},/*#__PURE__*/React.createElement(Dropdown,{className:\"rounded-22 bg-white\",onSelect:function onSelect(eve){setSelectedVehicleColor(vehicleColors[eve]);}},/*#__PURE__*/React.createElement(Dropdown.Toggle,{variant:\"\",className:\"w-100 text-start d-flex align-items-center shadow-none\"},/*#__PURE__*/React.createElement(\"div\",{style:{width:\"97%\"}},selectedVehicleColor===null||selectedVehicleColor===void 0?void 0:selectedVehicleColor.Name)),/*#__PURE__*/React.createElement(Dropdown.Menu,{className:\"w-100\"},vehicleColors.map(function(color,index){return/*#__PURE__*/React.createElement(Dropdown.Item,{eventKey:index,key:index,className:\"d-flex\"},\"\".concat(color.Name));}))))),/*#__PURE__*/React.createElement(\"p\",null,\"Delivery Types\"),/*#__PURE__*/React.createElement(Form.Check,{label:\"Food\",type:\"checkbox\",id:\"inline-1\",name:\"foodPkg\",value:\"1\",className:\"togo-checkbox\"}),/*#__PURE__*/React.createElement(Form.Check,{label:\"Small Package & Envelops\",type:\"checkbox\",id:\"sm-pkg\",name:\"smPkg\",value:\"2\",className:\"togo-checkbox\"}),/*#__PURE__*/React.createElement(Form.Check,{label:\"Medium Package\",type:\"checkbox\",id:\"inline-2\",name:\"mdPkg\",value:\"3\",className:\"togo-checkbox\"}),/*#__PURE__*/React.createElement(Form.Check,{label:\"Large Package\",type:\"checkbox\",id:\"inline-3\",name:\"lgPkg\",value:\"4\",className:\"togo-checkbox\"}),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGridEmail\",className:\"m-inline-e-2\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"mb-2 togo-outling\"},/*#__PURE__*/React.createElement(FormControl,{type:\"file\",className:\"bg-white rounded-22\",accept:\"image/*\",name:\"vehicleImg\",onChange:onFileChange}))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGridEmail\",className:\"m-inline-e-2\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"mb-2 togo-outling\"},/*#__PURE__*/React.createElement(FormControl,{type:\"file\",className:\"bg-white rounded-22\",accept:\"image/*\",name:\"registrationImg\",onChange:onFileChange}))),/*#__PURE__*/React.createElement(Button,{variant:\"\",type:\"submit\",className:\"d-block m-auto rounded-22 togo-button w-25\",disabled:loadingSubmit// onClick={(event)=>{\n//     setLoadingSubmit(true);\n//     // SetTransporterPersonalInfo(\n//     // ).then((res) => {\n//     //     setLoadingSubmit(false);\n//     //     history.push(\"/business-info\")\n//     // });\n// }}\n},loadingSubmit&&/*#__PURE__*/React.createElement(Spinner,{animation:\"border\",size:\"sm\"}),\"Accept\")));}","map":null,"metadata":{},"sourceType":"module"}