{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/AdminPanel/SignIn.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Form, FormControl, InputGroup, Spinner } from \"react-bootstrap\";\nimport { ReactComponent as CarIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/car.svg\";\nimport { ReactComponent as SteeringIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/steering.svg\";\nimport { ReactComponent as WheelIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/wheel.svg\";\nimport logo from \"../../assets/logo.png\";\nimport { animate, motion, useAnimation, useMotionValue } from 'framer-motion';\nimport { ReactComponent as EyeIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/eye.svg\";\nimport { refreshPage } from \"../../Functions/CommonFunctions\";\nimport { tempRegisterAdmin, adminLogin } from \"../../APIs/AdminPanelApis\";\nimport { io } from \"socket.io-client\";\nexport default function SignIn() {\n  var x = useMotionValue(0);\n\n  var _useState = useState(\"password\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      type = _useState2[0],\n      setType = _useState2[1];\n\n  useEffect(function () {\n    var controls = animate(x, window.innerWidth - 220, {\n      type: \"spring\",\n      stiffness: 10,\n      repeat: Infinity,\n      repeatType: \"reverse\",\n      delay: \"2\",\n      onComplete: function onComplete(v) {}\n    });\n    return controls.stop;\n  }, []);\n  var controls = useAnimation();\n  useEffect(function () {\n    controls.start(function (i) {\n      return {\n        right: [100, 400, 100],\n        top: [0, window.innerHeight - 250, 0],\n        rotate: 360,\n        scale: 0.5,\n        transition: {\n          /* delay: i * 0.3, */\n\n          /* repeat: Infinity, */\n          duration: 4,\n          repeatDelay: 2\n        }\n      };\n    });\n  }, []);\n  var controls2 = useAnimation();\n  useEffect(function () {\n    controls2.start(function (i) {\n      return {\n        scale: 0.5,\n        rotate: 45\n      };\n    });\n  }, []); // const xx = useMotionValue(10);\n  // const y = (xx, (value) => {\n  //     console.log(value);\n  //     return value * 2;\n  // });\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loadingSubmit = _useState4[0],\n      setLoadingSubmit = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showErrMsg = _useState6[0],\n      setShowErrMsg = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      errMsg = _useState8[0],\n      setErrMsg = _useState8[1];\n\n  var showValidationMessage = function showValidationMessage(msg) {\n    setShowErrMsg(true);\n    setErrMsg(msg);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"align-items-center d-flex togo-bg h-100 justify-content-center w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sign-in bg-white rounded-22 shadow p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      var formData = new FormData(event.target);\n      var userInput = Object.fromEntries(formData.entries());\n\n      if (userInput.username && userInput.password) {\n        setLoadingSubmit(true);\n        adminLogin(userInput.username, userInput.password).then(function (res) {\n          if (typeof res.data === \"object\" && JSON.stringify(res.data) !== '{}') {\n            // console.log(res.data)\n            var socket = io(\"http://46.253.93.4:5000\");\n            socket.emit(\"login\", res.data.id, \"admin\"); // console.log(\"logged in\")\n            // console.log(\"------------------\")\n            // console.log(socket)\n\n            localStorage.setItem(\"signedin\", true);\n            localStorage.setItem(\"AdminFirstName\", res.data.FirstName);\n            localStorage.setItem(\"AdminLastName\", res.data.LastName);\n            localStorage.setItem(\"AdminEmail\", res.data.Email);\n            localStorage.setItem(\"AdminMobileNumber\", res.data.MobileNumber);\n            localStorage.setItem(\"AdminToken\", res.data.Token);\n            localStorage.setItem(\"Adminid\", res.data.id);\n            setShowErrMsg(false);\n            refreshPage();\n          } else {\n            showValidationMessage(res.data);\n          }\n\n          setLoadingSubmit(false);\n        });\n      }\n      /* if(userInput.password === \"murad\" && userInput.username === \"maan\"){\r\n          localStorage.setItem(\"signedin\", true);\r\n          refreshPage();\r\n      } */\n\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"togoUsername\",\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"text\",\n    className: \"\",\n    placeholder: \"Username\",\n    name: \"username\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"togoPassword\",\n    className: \"position-relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: type,\n    className: \"\",\n    placeholder: \"Password\",\n    name: \"password\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(EyeIcon, {\n    className: \"eye-icon\",\n    onClick: function onClick() {\n      setType(type === \"password\" ? \"text\" : \"password\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"\",\n    type: \"submit\",\n    className: \"d-block togo-button\",\n    disabled: loadingSubmit // onClick={(event)=>{\n    //     setLoadingSubmit(true);\n    //     // SetTransporterPersonalInfo(\n    //     // ).then((res) => {\n    //     //     setLoadingSubmit(false);\n    //     //     history.push(\"/business-info\")\n    //     // });\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, loadingSubmit && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 43\n    }\n  }), \"Sign In\"), showErrMsg && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"d-block\",\n    style: {\n      color: \"red\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 36\n    }\n  }, errMsg))), /*#__PURE__*/React.createElement(motion.div, {\n    style: {\n      position: \"absolute\",\n      animationName: \"example\",\n      animationDuration: \"3s\",\n      animationFillMode: \"forwards\"\n    },\n    transition: {\n      duration: 2\n    } //animate=\"example\"\n    ,\n    animate: {\n      //left: [50, 30, 50],\n      //top: [50, 80, 100],\n      scale: 0.5,\n      rotate: 45\n    } //initial=\"a\"\n    // variants={{\n    //     a: {left: \"10%\", top: \"50%\", rotate: 0, scale: 1},\n    //     b: {left: \"-10%\", top: \"40%\", rotate: 20, scale: 0.7},\n    //     c: {left: \"10%\", top: \"20%\", rotate: 45, scale: 0.5},\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CarIcon, {\n    className: \"svg-bg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(motion.div, {\n    animate: controls,\n    style: {\n      position: \"absolute\"\n    },\n    initial: {\n      scale: 0.5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SteeringIcon, {\n    className: \"svg-bg svg-steering\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(motion.div, {\n    style: {\n      left: x,\n      position: \"absolute\",\n      bottom: 40\n    },\n    animate: {\n      rotate: 360\n    },\n    transition: {\n      duration: 2,\n      repeat: Infinity\n    },\n    initial: {\n      rotate: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(WheelIcon, {\n    className: \"svg-bg svg-wheel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/AdminPanel/SignIn.jsx"],"names":["React","useEffect","useState","Button","Form","FormControl","InputGroup","Spinner","logo","animate","motion","useAnimation","useMotionValue","refreshPage","tempRegisterAdmin","adminLogin","io","SignIn","x","type","setType","controls","window","innerWidth","stiffness","repeat","Infinity","repeatType","delay","onComplete","v","stop","start","i","right","top","innerHeight","rotate","scale","transition","duration","repeatDelay","controls2","loadingSubmit","setLoadingSubmit","showErrMsg","setShowErrMsg","errMsg","setErrMsg","showValidationMessage","msg","event","preventDefault","formData","FormData","target","userInput","Object","fromEntries","entries","username","password","then","res","data","JSON","stringify","socket","emit","id","localStorage","setItem","FirstName","LastName","Email","MobileNumber","Token","color","textAlign","position","animationName","animationDuration","animationFillMode","left","bottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Button, Form, FormControl, InputGroup, Spinner } from \"react-bootstrap\";\r\nimport { ReactComponent as CarIcon } from \"../../assets/car.svg\";\r\nimport { ReactComponent as SteeringIcon } from \"../../assets/steering.svg\";\r\nimport { ReactComponent as WheelIcon } from \"../../assets/wheel.svg\";\r\nimport logo from \"../../assets/logo.png\";\r\nimport { animate, motion, useAnimation, useMotionValue } from 'framer-motion';\r\nimport { ReactComponent as EyeIcon } from \"../../assets/eye.svg\";\r\nimport { refreshPage } from \"../../Functions/CommonFunctions\";\r\nimport { tempRegisterAdmin, adminLogin } from \"../../APIs/AdminPanelApis\";\r\n\r\nimport { io } from \"socket.io-client\";\r\n\r\nexport default function SignIn() {\r\n    const x = useMotionValue(0)\r\n    const [type, setType] = useState(\"password\");\r\n    useEffect(() => {\r\n        const controls = animate(x, window.innerWidth - 220, {\r\n            type: \"spring\",\r\n            stiffness: 10,\r\n            repeat: Infinity,\r\n            repeatType: \"reverse\",\r\n            delay: \"2\",\r\n            onComplete: v => {\r\n\r\n\r\n            }\r\n        });\r\n\r\n        return controls.stop;\r\n    }, []);\r\n    const controls = useAnimation()\r\n\r\n    useEffect(() => {\r\n        controls.start(i => ({\r\n            right: [100, 400, 100],\r\n            top: [0, window.innerHeight - 250, 0],\r\n            rotate: 360,\r\n            scale: 0.5,\r\n            transition: { /* delay: i * 0.3, */ /* repeat: Infinity, */ duration: 4, repeatDelay: 2 },\r\n        }));\r\n\r\n    }, []);\r\n\r\n    const controls2 = useAnimation()\r\n\r\n    useEffect(() => {\r\n        controls2.start(i => ({\r\n            scale: 0.5,\r\n            rotate: 45,\r\n        }));\r\n\r\n    }, []);\r\n    // const xx = useMotionValue(10);\r\n\r\n    // const y = (xx, (value) => {\r\n    //     console.log(value);\r\n    //     return value * 2;\r\n    // });\r\n\r\n    const [loadingSubmit, setLoadingSubmit] = useState(false);\r\n    const [showErrMsg, setShowErrMsg] = useState(false);\r\n    const [errMsg, setErrMsg] = useState(\"\");\r\n\r\n    const showValidationMessage = (msg) => {\r\n        setShowErrMsg(true);\r\n        setErrMsg(msg);\r\n    }\r\n\r\n    return (\r\n        <div className=\"align-items-center d-flex togo-bg h-100 justify-content-center w-100\">\r\n            <div className=\"sign-in bg-white rounded-22 shadow p-4\">\r\n                <img src={logo} alt=\"logo\" />\r\n                <Form onSubmit={(event) => {\r\n                    event.preventDefault();\r\n                    const formData = new FormData(event.target);\r\n                    const userInput = Object.fromEntries(formData.entries());\r\n\r\n                    if (userInput.username && userInput.password) {\r\n\r\n                        setLoadingSubmit(true)\r\n\r\n                        adminLogin(userInput.username, userInput.password).then((res) => {\r\n\r\n                            if (typeof res.data === \"object\" && JSON.stringify(res.data) !== '{}') {\r\n                                // console.log(res.data)\r\n\r\n                                const socket = io(\"http://46.253.93.4:5000\");\r\n                                socket.emit(\"login\", res.data.id, \"admin\");\r\n\r\n                                // console.log(\"logged in\")\r\n                                // console.log(\"------------------\")\r\n                                // console.log(socket)\r\n\r\n                                localStorage.setItem(\"signedin\", true);\r\n\r\n                                localStorage.setItem(\"AdminFirstName\", res.data.FirstName);\r\n                                localStorage.setItem(\"AdminLastName\", res.data.LastName);\r\n                                localStorage.setItem(\"AdminEmail\", res.data.Email);\r\n                                localStorage.setItem(\"AdminMobileNumber\", res.data.MobileNumber);\r\n                                localStorage.setItem(\"AdminToken\", res.data.Token);\r\n                                localStorage.setItem(\"Adminid\", res.data.id);\r\n\r\n                                setShowErrMsg(false);\r\n                                refreshPage();\r\n                            } else {\r\n                                showValidationMessage(res.data);\r\n                            }\r\n\r\n                            setLoadingSubmit(false);\r\n                        })\r\n\r\n                    }\r\n\r\n                    /* if(userInput.password === \"murad\" && userInput.username === \"maan\"){\r\n                        localStorage.setItem(\"signedin\", true);\r\n                        refreshPage();\r\n                    } */\r\n                }}>\r\n                    <div className=\"login-lbl\">\r\n                        <p>Login</p>\r\n                        <hr />\r\n                    </div>\r\n\r\n                    <Form.Group controlId=\"togoUsername\" className=\"\">\r\n\r\n                        <InputGroup className=\"mb-3\">\r\n                            <FormControl\r\n                                type=\"text\"\r\n                                className=\"\"\r\n                                placeholder=\"Username\"\r\n                                name=\"username\"\r\n                                required\r\n                            />\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"togoPassword\" className=\"position-relative\">\r\n\r\n                        <InputGroup className=\"mb-2\">\r\n                            <FormControl\r\n                                type={type}\r\n                                className=\"\"\r\n                                placeholder=\"Password\"\r\n                                name=\"password\"\r\n                                required\r\n                            />\r\n\r\n                        </InputGroup>\r\n                        <EyeIcon className=\"eye-icon\" onClick={() => {\r\n                            setType(type === \"password\" ? \"text\" : \"password\");\r\n                        }} />\r\n                    </Form.Group>\r\n                    <Button\r\n                        variant=\"\"\r\n                        type=\"submit\"\r\n                        className=\"d-block togo-button\"\r\n                        disabled={loadingSubmit}\r\n                    // onClick={(event)=>{\r\n                    //     setLoadingSubmit(true);\r\n                    //     // SetTransporterPersonalInfo(\r\n                    //     // ).then((res) => {\r\n                    //     //     setLoadingSubmit(false);\r\n                    //     //     history.push(\"/business-info\")\r\n                    //     // });\r\n                    // }}\r\n                    >\r\n                        {loadingSubmit && <Spinner animation=\"border\" size=\"sm\" />}\r\n                        Sign In\r\n                    </Button>\r\n                    {showErrMsg && <span className=\"d-block\" style={{ color: \"red\", textAlign: \"center\" }}>{errMsg}</span>}\r\n                    {/*  <Button onClick={() => { tempRegisterAdmin().then((res) => { console.log(res.data) }) }}> register </Button> */}\r\n                </Form>\r\n            </div>\r\n            <motion.div\r\n                style={{\r\n                    position: \"absolute\",\r\n                    animationName: \"example\",\r\n                    animationDuration: \"3s\",\r\n                    animationFillMode: \"forwards\"\r\n                }}\r\n                transition={{ duration: 2 }}\r\n                //animate=\"example\"\r\n                animate={{\r\n                    //left: [50, 30, 50],\r\n                    //top: [50, 80, 100],\r\n                    scale: 0.5,\r\n                    rotate: 45,\r\n                }}\r\n            //initial=\"a\"\r\n            // variants={{\r\n            //     a: {left: \"10%\", top: \"50%\", rotate: 0, scale: 1},\r\n            //     b: {left: \"-10%\", top: \"40%\", rotate: 20, scale: 0.7},\r\n            //     c: {left: \"10%\", top: \"20%\", rotate: 45, scale: 0.5},\r\n            // }}\r\n            >\r\n                <CarIcon className=\"svg-bg\" />\r\n            </motion.div>\r\n            <motion.div\r\n                animate={controls}\r\n                style={{\r\n                    position: \"absolute\"\r\n                }}\r\n                initial={{\r\n                    scale: 0.5\r\n                }}\r\n            >\r\n                <SteeringIcon className=\"svg-bg svg-steering\" />\r\n            </motion.div>\r\n            <motion.div\r\n                style={{ left: x, position: \"absolute\", bottom: 40 }}\r\n                animate={{\r\n                    rotate: 360\r\n                }}\r\n                transition={{ duration: 2, repeat: Infinity }}\r\n                initial={{ rotate: 0 }}\r\n            >\r\n                <WheelIcon className=\"svg-bg svg-wheel\" />\r\n            </motion.div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}