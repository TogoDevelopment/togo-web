{"ast":null,"code":"import _slicedToArray from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import{Button,Form,Modal}from\"react-bootstrap\";import{imgBaseUrl}from\"../Constants/GeneralCont\";import{GetNetworkInvitations,JoinNetwork}from\"../APIs/OrdersAPIs\";import{InviteRow}from\"./Network\";function InviteForm(_ref){var userId=_ref.userId,name=_ref.name,phonenumber=_ref.phonenumber,onAccept=_ref.onAccept;var deliverCostRef=useRef();var verifyCode=useRef();var Note=useRef();return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column flex-grow-1 h-100 justify-content-evenly\"},/*#__PURE__*/React.createElement(InviteRow,{label:\"Name\",value:name,secLabel:\"Load cost\",secValue:/*#__PURE__*/React.createElement(Form.Control,{className:\"border-2 togo-border-full p-1\",type:\"text\",ref:deliverCostRef})}),/*#__PURE__*/React.createElement(InviteRow,{label:\"Phone number\",value:phonenumber,secLabel:\"Activation Code\",secValue:/*#__PURE__*/React.createElement(Form.Control,{className:\"border-2 togo-border-full p-1\",type:\"text\",ref:verifyCode})}),/*#__PURE__*/React.createElement(InviteRow,{label:\"\",value:\"\",secLabel:\"Note\",secValue:/*#__PURE__*/React.createElement(Form.Control,{className:\"border-2 togo-border-full p-1\",type:\"text\",ref:Note})}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end mt-1\"},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){var val1=deliverCostRef.current.value;var val2=verifyCode.current.value;if(val1.trim().length===0||val2.trim().length===0){return;}JoinNetwork(userId,val1,val2,Note.current.value).then(function(){if(onAccept){onAccept();}});},className:\"border rounded-22 togo-button\"},\"Accept\")));}export function NetworkInvitesListDialog(_ref2){var update=_ref2.update;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),invites=_useState4[0],setInvites=_useState4[1];var handleCloseInvites=function handleCloseInvites(){setOpen(false);};var getInvites=function getInvites(){GetNetworkInvitations().then(function(res){setInvites(res.data.server_response);});};useEffect(function(){if(open){getInvites();}},[open]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"border me-2 rounded-22 togo-button\",onClick:function onClick(){setOpen(true);}},\"Join a network\"),/*#__PURE__*/React.createElement(Modal,{show:open,onHide:handleCloseInvites,size:\"lg\"},/*#__PURE__*/React.createElement(Modal.Body,null,(invites===null||invites===void 0?void 0:invites.length)===0&&/*#__PURE__*/React.createElement(\"p\",null,\"There is no network invitations\"),invites===null||invites===void 0?void 0:invites.map(function(invite){return/*#__PURE__*/React.createElement(\"div\",{key:invite},/*#__PURE__*/React.createElement(\"div\",{className:\"align-items-center d-flex\",style:{height:\"200px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"w-250px me-2\"},/*#__PURE__*/React.createElement(\"img\",{style:{maxHeight:\"200px\"},src:\"\".concat(imgBaseUrl).concat(invite.PersonalImgPath),alt:invite.PhoneNumber})),/*#__PURE__*/React.createElement(InviteForm,{userId:invite.CustomerId,name:invite.FullName,phonenumber:invite.PhoneNumber,onAccept:function onAccept(){getInvites();update();}})));}))));}","map":null,"metadata":{},"sourceType":"module"}