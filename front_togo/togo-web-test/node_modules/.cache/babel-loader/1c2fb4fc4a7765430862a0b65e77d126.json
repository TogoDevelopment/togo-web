{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/TransporterPersonalInfo.jsx\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Button, Dropdown, Form, FormControl, InputGroup, Spinner } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { GetLicenceAndIdentity, SetTransporterPersonalInfo } from \"../APIs/LoginAPIs\";\nexport default function TransporterPersonalInfo() {\n  var _this = this;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loadingSubmit = _useState2[0],\n      setLoadingSubmit = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      licenses = _useState4[0],\n      setLicenses = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedLicense = _useState6[0],\n      setSelectedLicense = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      places = _useState8[0],\n      setPlaces = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selectedPlace = _useState10[0],\n      setSelectedPlace = _useState10[1];\n\n  useEffect(function () {\n    GetLicenceAndIdentity().then(function (res) {\n      setLicenses(res.data.license);\n      setSelectedLicense(res.data.license[0]);\n      setPlaces(res.data.place);\n      setSelectedPlace(res.data.place[0]);\n    });\n  }, []);\n  var licenceImgRef = useRef();\n  var personalImgCode = useRef();\n\n  function onFileChange(event) {\n    var reader = new FileReader();\n    var fileInputName = event.target.name;\n\n    reader.onload = function (e) {\n      var dataUri = e.target.result;\n      var base64 = dataUri.substr(dataUri.indexOf(\",\") + 1);\n\n      if (fileInputName === \"personalImg\") {\n        personalImgCode.current = base64;\n      } else {\n        licenceImgRef.current = base64;\n      }\n    };\n\n    if (event.currentTarget.files[0]) {\n      reader.readAsDataURL(event.currentTarget.files[0]);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainbg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h1 p-3 text-center togo-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Create account / transporter\"), /*#__PURE__*/React.createElement(Form, {\n    className: \"m-auto w-75\",\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      SetTransporterPersonalInfo(event.target, selectedPlace.IdPlace, selectedLicense.IdTypeLicence, personalImgCode.current, licenceImgRef.current); // console.log(event.target[0].value)\n      // console.log(event.target.elements.FirstName.value)\n      // console.log(event.target.FirstName.value)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center togo-border h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"Personal information test\"), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"transName\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"text\",\n    className: \"bg-white rounded-22\",\n    name: \"FirstName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"transFamilyName\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, \"Family name\"), /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"text\",\n    className: \"bg-white rounded-22\",\n    name: \"LastName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"PlaceIdentity\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, \"Place of issuing identity\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"togo-outling mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    className: \"rounded-22 bg-white\",\n    onSelect: function onSelect(eve) {\n      setSelectedLicense(licenses[eve]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    variant: \"\",\n    className: \"w-100 text-start d-flex align-items-center shadow-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"97%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 33\n    }\n  }, selectedLicense === null || selectedLicense === void 0 ? void 0 : selectedLicense.TypeName)), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    className: \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 29\n    }\n  }, licenses.map(function (licence, index) {\n    return /*#__PURE__*/React.createElement(Dropdown.Item, {\n      eventKey: index,\n      key: index,\n      className: \"d-flex\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 41\n      }\n    }, \"\".concat(licence.TypeName));\n  }))))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"transIDNumber\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \"ID Number\"), /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    maxLength: 9,\n    onInput: function onInput(ev) {\n      ev.target.value = ev.target.value.replace(/[^0-9]/gi, \"\");\n    },\n    type: \"text\",\n    className: \"bg-white rounded-22\",\n    name: \"IDNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"transLicenceNumber\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, \"Driver licence number\"), /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"text\",\n    className: \"bg-white rounded-22\",\n    name: \"LicenceNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"transLicenceType\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, \"Driver licence type\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"togo-outling mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    className: \"rounded-22 bg-white\",\n    onSelect: function onSelect(eve) {\n      setSelectedPlace(places[eve]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    variant: \"\",\n    className: \"w-100 text-start d-flex align-items-center shadow-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"97%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  }, selectedPlace === null || selectedPlace === void 0 ? void 0 : selectedPlace.NamePlace)), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    className: \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 29\n    }\n  }, places.map(function (place, index) {\n    return /*#__PURE__*/React.createElement(Dropdown.Item, {\n      eventKey: index,\n      key: index,\n      className: \"d-flex\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 41\n      }\n    }, \"\".concat(place.NamePlace));\n  }))))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"transEmail\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 21\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"text\",\n    className: \"bg-white rounded-22\",\n    name: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"transAccountName\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }, \"Account name\"), /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"text\",\n    className: \"bg-white rounded-22\",\n    name: \"AccountName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formGridEmail\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"file\",\n    className: \"bg-white rounded-22\",\n    accept: \"image/*\",\n    name: \"personalImg\",\n    onChange: onFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formGridEmail\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"file\",\n    className: \"bg-white rounded-22\",\n    accept: \"image/*\",\n    name: \"licenseImg\",\n    onChange: onFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"\",\n    type: \"submit\",\n    className: \"d-block m-auto rounded-22 togo-button w-25\",\n    disabled: loadingSubmit // onClick={(event)=>{\n    //     setLoadingSubmit(true);\n    //     // SetTransporterPersonalInfo(\n    //     // ).then((res) => {\n    //     //     setLoadingSubmit(false);\n    //     //     history.push(\"/business-info\")\n    //     // });\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }, loadingSubmit && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 39\n    }\n  }), \"Accept\")));\n}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/TransporterPersonalInfo.jsx"],"names":["React","useEffect","useRef","useState","Button","Dropdown","Form","FormControl","InputGroup","Spinner","useHistory","GetLicenceAndIdentity","SetTransporterPersonalInfo","TransporterPersonalInfo","loadingSubmit","setLoadingSubmit","licenses","setLicenses","selectedLicense","setSelectedLicense","places","setPlaces","selectedPlace","setSelectedPlace","then","res","data","license","place","licenceImgRef","personalImgCode","onFileChange","event","reader","FileReader","fileInputName","target","name","onload","e","dataUri","result","base64","substr","indexOf","current","currentTarget","files","readAsDataURL","preventDefault","IdPlace","IdTypeLicence","eve","width","TypeName","map","licence","index","ev","value","replace","NamePlace"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Button, Dropdown, Form, FormControl, InputGroup, Spinner } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { GetLicenceAndIdentity, SetTransporterPersonalInfo } from \"../APIs/LoginAPIs\";\r\n\r\nexport default function TransporterPersonalInfo(){\r\n    const [loadingSubmit, setLoadingSubmit] = useState(false);\r\n    \r\n    const [licenses, setLicenses] = useState([]);\r\n    const [selectedLicense, setSelectedLicense] = useState();\r\n    const [places, setPlaces] = useState([]);\r\n    const [selectedPlace, setSelectedPlace] = useState();\r\n    useEffect(() => {\r\n        GetLicenceAndIdentity().then((res) => {\r\n            setLicenses(res.data.license);\r\n            setSelectedLicense(res.data.license[0]);\r\n            setPlaces(res.data.place);\r\n            setSelectedPlace(res.data.place[0]);\r\n        });\r\n    }, []);\r\n\r\n    const licenceImgRef = useRef();\r\n    const personalImgCode = useRef();\r\n    \r\n    function onFileChange(event){\r\n        \r\n        let reader = new FileReader();\r\n        let fileInputName = event.target.name;\r\n        reader.onload = function (e) {\r\n            let dataUri = e.target.result;\r\n            let base64 = dataUri.substr(dataUri.indexOf(\",\") + 1);\r\n            if(fileInputName === \"personalImg\"){\r\n                personalImgCode.current = base64;\r\n            }else{\r\n                licenceImgRef.current = base64;\r\n            }\r\n        \r\n        }\r\n        if(event.currentTarget.files[0]){\r\n            reader.readAsDataURL(event.currentTarget.files[0]);\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"mainbg\">\r\n            <div className=\"h1 p-3 text-center togo-button\">\r\n                Create account / transporter\r\n            </div>\r\n            <Form \r\n                className=\"m-auto w-75\" \r\n                onSubmit={(event) => {\r\n                    event.preventDefault();\r\n                    SetTransporterPersonalInfo(event.target, selectedPlace.IdPlace, selectedLicense.IdTypeLicence, \r\n                        personalImgCode.current, \r\n                        licenceImgRef.current\r\n                    );\r\n                    // console.log(event.target[0].value)\r\n                    // console.log(event.target.elements.FirstName.value)\r\n                    // console.log(event.target.FirstName.value)\r\n                    \r\n                }}\r\n            >\r\n                <p className=\"text-center togo-border h4\">Personal information test</p>\r\n\r\n                <Form.Group controlId=\"transName\" className=\"m-inline-e-2\">\r\n                    <Form.Label>Name</Form.Label>\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n                        <FormControl\r\n                            type=\"text\" \r\n                            className=\"bg-white rounded-22\"\r\n                            name=\"FirstName\" \r\n                        />\r\n                    </InputGroup>    \r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"transFamilyName\" className=\"m-inline-e-2\">\r\n                    <Form.Label>Family name</Form.Label>\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n                        <FormControl \r\n                            type=\"text\" \r\n                            className=\"bg-white rounded-22\"\r\n                            name=\"LastName\"\r\n                        />\r\n                        \r\n                    </InputGroup>    \r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"PlaceIdentity\" className=\"m-inline-e-2\">\r\n                    <Form.Label>Place of issuing identity</Form.Label>\r\n                    <div className=\"togo-outling mb-2\">\r\n                        <Dropdown\r\n                            className=\"rounded-22 bg-white\"\r\n                            onSelect={(eve)=>{\r\n                                setSelectedLicense(licenses[eve])\r\n                            }}\r\n                        >\r\n                            <Dropdown.Toggle variant=\"\" className=\"w-100 text-start d-flex align-items-center shadow-none\">\r\n                                <div style={{width: \"97%\"}}>\r\n                                    {\r\n                                        selectedLicense?.TypeName\r\n                                    }\r\n                                </div>\r\n                            </Dropdown.Toggle>\r\n\r\n                            <Dropdown.Menu className=\"w-100\">\r\n                                {licenses.map((licence, index) => {\r\n                                    return (\r\n                                        <Dropdown.Item eventKey={index} key={index} className=\"d-flex\">\r\n                                            {`${licence.TypeName}`}\r\n                                        </Dropdown.Item>\r\n                                    )\r\n                                })}\r\n\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n                    </div>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"transIDNumber\" className=\"m-inline-e-2\">\r\n                    <Form.Label>ID Number</Form.Label>\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n\r\n                        <FormControl\r\n                            maxLength={9}\r\n                            onInput={(ev)=>{\r\n                                ev.target.value = ev.target.value.replace(/[^0-9]/gi, \"\");\r\n                            }} \r\n                            type=\"text\" \r\n                            className=\"bg-white rounded-22\"\r\n                            name=\"IDNumber\" \r\n                        />\r\n                        \r\n                    </InputGroup>    \r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"transLicenceNumber\" className=\"m-inline-e-2\">\r\n                    <Form.Label>Driver licence number</Form.Label>\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n\r\n                        <FormControl \r\n                            type=\"text\" \r\n                            className=\"bg-white rounded-22\"\r\n                            name=\"LicenceNumber\" \r\n                        />\r\n                        \r\n                    </InputGroup>    \r\n                </Form.Group>\r\n                \r\n                <Form.Group controlId=\"transLicenceType\" className=\"m-inline-e-2\">\r\n                    <Form.Label>Driver licence type</Form.Label>\r\n                    <div className=\"togo-outling mb-2\">\r\n                        <Dropdown\r\n                            className=\"rounded-22 bg-white\"\r\n                            onSelect={(eve)=>{\r\n                                setSelectedPlace(places[eve])\r\n                            }}\r\n                        >\r\n                            <Dropdown.Toggle variant=\"\" className=\"w-100 text-start d-flex align-items-center shadow-none\">\r\n                                <div style={{width: \"97%\"}}>\r\n                                    {\r\n                                        selectedPlace?.NamePlace\r\n                                    }\r\n                                </div>\r\n                            </Dropdown.Toggle>\r\n\r\n                            <Dropdown.Menu className=\"w-100\">\r\n                                {places.map((place, index) => {\r\n                                    return (\r\n                                        <Dropdown.Item eventKey={index} key={index} className=\"d-flex\">\r\n                                            {`${place.NamePlace}`}\r\n                                        </Dropdown.Item>\r\n                                    )\r\n                                })}\r\n\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n                    </div>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"transEmail\" className=\"m-inline-e-2\">\r\n                    <Form.Label>Email</Form.Label>\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n\r\n                        <FormControl \r\n                            type=\"text\" \r\n                            className=\"bg-white rounded-22\"\r\n                            name=\"Email\" \r\n                        />\r\n                    </InputGroup>    \r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"transAccountName\" className=\"m-inline-e-2\">\r\n                    <Form.Label>Account name</Form.Label>\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n\r\n                        <FormControl \r\n                            type=\"text\" \r\n                            className=\"bg-white rounded-22\"\r\n                            name=\"AccountName\"\r\n                        />\r\n                        \r\n                    </InputGroup>    \r\n                </Form.Group>\r\n                <Form.Group controlId=\"formGridEmail\" className=\"m-inline-e-2\">\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n                        <FormControl\r\n                            type=\"file\"\r\n                            className=\"bg-white rounded-22\"\r\n                            accept=\"image/*\"\r\n                            name=\"personalImg\"\r\n                            onChange={onFileChange}\r\n                        />\r\n\r\n                    </InputGroup>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formGridEmail\" className=\"m-inline-e-2\">\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n                        <FormControl\r\n                            type=\"file\"\r\n                            className=\"bg-white rounded-22\"\r\n                            accept=\"image/*\"\r\n                            name=\"licenseImg\"\r\n                            onChange={onFileChange}\r\n                        />\r\n\r\n                    </InputGroup>\r\n                </Form.Group>\r\n                <Button\r\n                    variant=\"\" \r\n                    type=\"submit\"\r\n                    className=\"d-block m-auto rounded-22 togo-button w-25\" \r\n                    disabled={loadingSubmit}\r\n                    // onClick={(event)=>{\r\n                    //     setLoadingSubmit(true);\r\n                    //     // SetTransporterPersonalInfo(\r\n                    //     // ).then((res) => {\r\n                    //     //     setLoadingSubmit(false);\r\n                    //     //     history.push(\"/business-info\")\r\n                    //     // });\r\n                    // }}\r\n                >\r\n                    {loadingSubmit && <Spinner animation=\"border\" size=\"sm\"/>} \r\n                    Accept\r\n                </Button>\r\n            </Form>\r\n \r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}