{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/CreateNewOrder.jsx\";\nimport { Button, Dropdown, Form, Modal, Spinner } from \"react-bootstrap\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport translate from \"../i18n/translate\";\nimport { ReactComponent as SendIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/send.svg\";\nimport { CreateNewOrderReq, GetDefinedAddresses } from \"../APIs/OrdersAPIs\";\nimport { ReactComponent as FoodIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/food.svg\";\nimport { ReactComponent as SmBoxIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/smallBox.svg\";\nimport { ReactComponent as MedBoxIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/medbox.svg\";\nimport { ReactComponent as BigBoxIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/largebox.svg\";\nimport { ReactComponent as DeliveryTruckIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/deliveryTruck.svg\";\nimport { ReactComponent as LocationIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/location.svg\";\nimport { ReactComponent as AttachmentIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/attachment.svg\";\nimport { DeliveryTypes, PackageTypes } from \"./Orders/OrdersTabularView\";\nimport AddressDropdown from \"./AddressDropdown\";\nimport CreateAddress from \"./CreateAddress\";\nimport { AddIcon } from \"@chakra-ui/icons\";\nimport { useIntl } from \"react-intl\";\nimport { isTransporter } from \"../Util\";\n/* edited (new import) */\n\nexport var PackageTypesIcons = {\n  \"1\": FoodIcon,\n  \"2\": SmBoxIcon,\n  \"3\": MedBoxIcon,\n  \"4\": BigBoxIcon\n};\nexport function CreateNewOrder(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      openConf = _useState4[0],\n      setOpenConf = _useState4[1];\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var _useState5 = useState(\"1\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      packageType = _useState6[0],\n      setPackageType = _useState6[1];\n\n  var _useState7 = useState(\"1\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      deliveryType = _useState8[0],\n      setDeliveryType = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      inputValue = _useState10[0],\n      setInputValue = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      deliverAddresses = _useState12[0],\n      setDeliverAddresses = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      selectedDeliveryAddress = _useState14[0],\n      setSelectedDeliveryAddress = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      selectedPickUpAddress = _useState16[0],\n      setSelectedPickUpAddress = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      loading = _useState18[0],\n      setLoading = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      loadingSubmit = _useState20[0],\n      setLoadingSubmit = _useState20[1];\n\n  var deliveryCostRef = useRef();\n  /* edited (deliveryCostRef added) */\n\n  var clientMobileNumberRef = useRef();\n  /* edited (clientMobileNumberRef added) */\n\n  var orderIdRef = useRef();\n  var notesRef = useRef();\n  var heightRef = useRef();\n  var widthRef = useRef();\n  var lengthRef = useRef();\n  var weightRef = useRef();\n  var codAmountRef = useRef();\n  var pickAmountRef = useRef();\n  var intl = useIntl();\n  useEffect(function () {\n    var timer = setTimeout(function () {\n      if (open) {\n        setLoading(true);\n        GetDefinedAddresses(inputValue).then(function (res) {\n          setLoading(false);\n          setDeliverAddresses(res.data);\n        });\n      }\n    }, 500);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [inputValue, open]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    className: \"\".concat(props.children ? \"\" : !isTransporter() && \"btn-grad text-white\"),\n    variant: isTransporter() && \"outline-light\",\n    onClick: function onClick() {\n      setOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, props.children && props.children, !props.children && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SendIcon, {\n    style: {\n      display: \"inline-block\",\n      width: \"22px\",\n      height: \"22px\",\n      marginRight: \"5px\",\n      fill: \"currentcolor\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }), translate(\"ORDERS.CREATE_ORDER\"))), /*#__PURE__*/React.createElement(Modal, {\n    size: \"lg\",\n    show: open,\n    onHide: handleClose,\n    centered: true,\n    animation: false,\n    backdrop: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, translate(\"ORDERS.CREATE_ORDER\"))), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, translate(\"ORDERS.WHAT_TO_TRANS\")), /*#__PURE__*/React.createElement(Dropdown, {\n    className: \"togo-dropdown\",\n    onSelect: function onSelect(eve) {\n      setPackageType(eve);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    variant: \"\",\n    className: \"w-100 text-start d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, React.createElement(PackageTypesIcons[packageType], {\n    style: {\n      width: \"20px\",\n      height: \"20px\"\n    },\n    className: \"me-1\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"97%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 29\n    }\n  }, translate(\"ORDERS.\" + PackageTypes[packageType]))), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    className: \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"1\",\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FoodIcon, {\n    style: {\n      width: \"20px\",\n      height: \"20px\"\n    },\n    className: \"me-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 33\n    }\n  }), translate(\"ORDERS.\" + PackageTypes[1])), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"4\",\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(BigBoxIcon, {\n    style: {\n      width: \"20px\",\n      height: \"20px\"\n    },\n    className: \"me-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }), translate(\"ORDERS.\" + PackageTypes[4])), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"3\",\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(MedBoxIcon, {\n    style: {\n      width: \"20px\",\n      height: \"20px\"\n    },\n    className: \"me-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 33\n    }\n  }), translate(\"ORDERS.\" + PackageTypes[3])), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"2\",\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(SmBoxIcon, {\n    style: {\n      width: \"20px\",\n      height: \"20px\"\n    },\n    className: \"me-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }), translate(\"ORDERS.\" + PackageTypes[2])))), isTransporter() && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    className: \"mt-2\",\n    placeholder: \"Client Mobile Number\",\n    ref: clientMobileNumberRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    className: \"mt-2\",\n    placeholder: \"Delivery Cost\",\n    ref: deliveryCostRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(Form.Group, {\n    onChange: function onChange(event) {\n      if (event.target.name === \"DeliveryType\") {\n        setDeliveryType(event.target.value);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(DeliveryTruckIcon, {\n    style: {\n      width: \"15px\",\n      height: \"15px\"\n    },\n    className: \"me-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 29\n    }\n  }), translate(\"ORDERS.DELIVERY_TYPE\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    style: {\n      height: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"radio\",\n    label: translate(\"ORDERS.\" + DeliveryTypes[1]),\n    name: \"DeliveryType\",\n    id: \"formHorizontalRadios1\",\n    value: \"1\",\n    defaultChecked: deliveryType === \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    style: {\n      height: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"radio\",\n    label: translate(\"ORDERS.\" + DeliveryTypes[2]),\n    name: \"DeliveryType\",\n    id: \"formHorizontalRadios2\",\n    value: \"2\",\n    defaultChecked: deliveryType === \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  }), deliveryType === \"2\" && /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    className: \"ms-auto w-25\",\n    placeholder: intl.formatMessage({\n      id: \"ORDERS.AMOUNT\"\n    }),\n    ref: codAmountRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    style: {\n      height: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"radio\",\n    label: translate(\"ORDERS.\" + DeliveryTypes[3]),\n    name: \"DeliveryType\",\n    id: \"formHorizontalRadios3\",\n    value: \"3\",\n    defaultChecked: deliveryType === \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    style: {\n      height: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"radio\",\n    label: translate(\"ORDERS.\" + DeliveryTypes[4]),\n    name: \"DeliveryType\",\n    id: \"formHorizontalRadios4\",\n    value: \"4\",\n    defaultChecked: deliveryType === \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  }), deliveryType === \"4\" && /*#__PURE__*/React.createElement(Form.Control, {\n    ref: pickAmountRef,\n    type: \"number\",\n    className: \"ms-auto w-25\",\n    placeholder: intl.formatMessage({\n      id: \"ORDERS.AMOUNT\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50 m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(LocationIcon, {\n    style: {\n      width: \"15px\",\n      height: \"15px\"\n    },\n    className: \"me-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 33\n    }\n  }), translate(\"ORDERS.PICKUP_ADDRESS\")), /*#__PURE__*/React.createElement(AddressDropdown, {\n    loading: loading,\n    addresses: deliverAddresses,\n    onSearch: setInputValue,\n    onSelect: setSelectedPickUpAddress,\n    selectedAddress: selectedPickUpAddress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50 m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(SendIcon, {\n    style: {\n      width: \"15px\",\n      height: \"15px\"\n    },\n    className: \"me-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 33\n    }\n  }, translate(\"ORDERS.DELIVER_TO\"))), /*#__PURE__*/React.createElement(AddressDropdown, {\n    loading: loading,\n    addresses: deliverAddresses,\n    onSearch: setInputValue,\n    onSelect: setSelectedDeliveryAddress,\n    selectedAddress: selectedDeliveryAddress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(CreateAddress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-grad p-2 rounded-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    w: 6,\n    h: 6,\n    color: \"gray.50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(AttachmentIcon, {\n    style: {\n      width: \"15px\",\n      height: \"15px\"\n    },\n    className: \"me-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 25\n    }\n  }), translate(\"ORDERS.ATTACHMENTS_LABEL\")), packageType !== \"1\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 25\n    }\n  }, translate(\"ORDERS.DIMENSIONS_LABEL\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    className: \"me-2\",\n    placeholder: \"Height\",\n    ref: heightRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    className: \"me-2\",\n    placeholder: \"Width\",\n    ref: widthRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    className: \"\",\n    placeholder: \"Length\",\n    ref: lengthRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    className: \"mt-2\",\n    placeholder: \"Weight\",\n    ref: weightRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    className: \"mt-2\",\n    placeholder: \"Notes\",\n    ref: notesRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"\",\n    className: \"togo-button w-100\",\n    disabled: loadingSubmit,\n    onClick: function onClick() {\n      setLoadingSubmit(true);\n      var CreatedBy = \"\";\n      /* edited (CreatedBy variable added) */\n\n      var DeliveryParams = {};\n      /* edited (DeliveryParams as empty object) */\n\n      if (isTransporter()) {\n        var _lengthRef$current, _widthRef$current, _heightRef$current, _weightRef$current;\n\n        /* edited (add Client Mobile Number & Delivery Price to DeliveryParams if the user is transporter) */\n        CreatedBy = \"Transporter\";\n        DeliveryParams = {\n          deliveryWay: deliveryType,\n          TypeLoad: packageType,\n          ClientMobileNumber: clientMobileNumberRef.current.value,\n\n          /* edited (add ClientMobileNumber) */\n          DeliveryPrice: deliveryCostRef.current.value,\n\n          /* edited (add DeliveryPrice) */\n          CostLoad: deliveryType === \"2\" && codAmountRef.current.value || deliveryType === \"4\" && pickAmountRef.current.value || \"\",\n          // 2 or 4\n          DetailsLoad: notesRef.current.value,\n          LengthLoad: ((_lengthRef$current = lengthRef.current) === null || _lengthRef$current === void 0 ? void 0 : _lengthRef$current.value) || \"\",\n          WidthLoad: ((_widthRef$current = widthRef.current) === null || _widthRef$current === void 0 ? void 0 : _widthRef$current.value) || \"\",\n          HeightLoad: ((_heightRef$current = heightRef.current) === null || _heightRef$current === void 0 ? void 0 : _heightRef$current.value) || \"\",\n          WeightLoad: ((_weightRef$current = weightRef.current) === null || _weightRef$current === void 0 ? void 0 : _weightRef$current.value) || \"\",\n          qrCode: \"\"\n        };\n        /* edited (fix client mobile number intro) */\n\n        if (DeliveryParams.ClientMobileNumber.charAt(0) === '0') {\n          var firstZero = DeliveryParams.ClientMobileNumber[0];\n          var replaced = DeliveryParams.ClientMobileNumber.replace(firstZero, '+972');\n          DeliveryParams.ClientMobileNumber = replaced;\n        }\n\n        console.log(\"Mobile Number: \" + DeliveryParams.ClientMobileNumber);\n      } else {\n        var _lengthRef$current2, _widthRef$current2, _heightRef$current2, _weightRef$current2;\n\n        CreatedBy = \"Client\";\n        DeliveryParams = {\n          deliveryWay: deliveryType,\n          TypeLoad: packageType,\n          CostLoad: deliveryType === \"2\" && codAmountRef.current.value || deliveryType === \"4\" && pickAmountRef.current.value || \"\",\n          // 2 or 4\n          DetailsLoad: notesRef.current.value,\n          LengthLoad: ((_lengthRef$current2 = lengthRef.current) === null || _lengthRef$current2 === void 0 ? void 0 : _lengthRef$current2.value) || \"\",\n          WidthLoad: ((_widthRef$current2 = widthRef.current) === null || _widthRef$current2 === void 0 ? void 0 : _widthRef$current2.value) || \"\",\n          HeightLoad: ((_heightRef$current2 = heightRef.current) === null || _heightRef$current2 === void 0 ? void 0 : _heightRef$current2.value) || \"\",\n          WeightLoad: ((_weightRef$current2 = weightRef.current) === null || _weightRef$current2 === void 0 ? void 0 : _weightRef$current2.value) || \"\",\n          qrCode: \"\"\n        };\n      }\n      /* edited (old DeliveryParams commented) */\n\n      /*const DeliveryParams = {\r\n          deliveryWay: deliveryType,\r\n          TypeLoad: packageType,\r\n          CostLoad: (deliveryType === \"2\" && codAmountRef.current.value) || (deliveryType === \"4\" && pickAmountRef.current.value) || \"\" , // 2 or 4\r\n          DetailsLoad: notesRef.current.value,\r\n          LengthLoad: lengthRef.current?.value || \"\",\r\n          WidthLoad: widthRef.current?.value || \"\",\r\n          HeightLoad: heightRef.current?.value || \"\",\r\n          WeightLoad: weightRef.current?.value || \"\",\r\n          qrCode: \"\"\r\n      };*/\n\n\n      var AddressClint = {\n        IdCity: selectedPickUpAddress.cityId,\n        // from selected pick up address\n        OtherDetails: selectedPickUpAddress.details,\n        // details from selected pickup address\n        LatSender: selectedPickUpAddress.latitude,\n        // from selected pick up address\n        LongSender: selectedPickUpAddress.longitude,\n        //  from selected pick up address\n        SenderAddressId: selectedPickUpAddress.id,\n        // from selected pick up address\n        IdCityDes: selectedDeliveryAddress.cityId,\n        // from selected delivery to address\n        OtherDetailsDes: selectedDeliveryAddress.details,\n        // details from selected delivery to address\n        LatReciver: selectedDeliveryAddress.latitude,\n        // from selected delivery to address\n        LongReciver: selectedDeliveryAddress.longitude,\n        // from selected delivery to address\n        ReciverAddressId: selectedDeliveryAddress.id,\n        // from selected delivery to address\n        ReceiverAddressNum: selectedDeliveryAddress.phone_number\n      };\n      CreateNewOrderReq(JSON.stringify(DeliveryParams), CreatedBy\n      /* edited (add CreatedBy parameter) */\n      , JSON.stringify(AddressClint)).then(function (res) {\n        console.log(\"---------------\\nres : \" + res.data);\n        orderIdRef.current = JSON.parse(res.data.replace(\"}{\", \",\")).server_response[0].OrderId; //https://therichpost.com/reactjs-convert-html-into-pdf-working-functionality/\n\n        setOpenConf(true);\n        setOpen(false);\n        setLoadingSubmit(false);\n        props.onSuccess(); // to be removed\n      });\n      /* - deliveryWay \r\n          This one from radio button for delivery type it contains four values \r\n              (Delivery = 1, Cache on delivery = 2, Pickup = 3, Pay and Pickup = 4)\r\n      - CostLoad   \r\n          This amount inserted in case of (Cache on delivery/Pay and pickup)\r\n      - TypeLoad   \r\n          This one from the list we pick Food or Small/Medium/Large package where \r\n              Food = 1, Small Package = 2, Medium Package =3, Large Package = 4\r\n      - qrCode\r\n          in case of submit with qrcode we will put the value else it will be empty */\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 21\n    }\n  }, loadingSubmit && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 43\n    }\n  }), translate(\"ORDERS.SUBMIT\")))), /*#__PURE__*/React.createElement(Modal, {\n    show: openConf,\n    onHide: function onHide() {\n      setOpenConf(false);\n    },\n    animation: false,\n    backdrop: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 21\n    }\n  }, \"Confirmation\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 21\n    }\n  }, \"Would you like to print a waybill ?\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: function onClick() {\n      setOpenConf(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 21\n    }\n  }, \"No\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: function onClick() {\n      setOpenConf(false);\n      window.open(\"/account/bill-for-order/\" + orderIdRef.current + \"?print=true\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 21\n    }\n  }, \"Yes\"))));\n}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/CreateNewOrder.jsx"],"names":["Button","Dropdown","Form","Modal","Spinner","React","useEffect","useRef","useState","translate","CreateNewOrderReq","GetDefinedAddresses","DeliveryTypes","PackageTypes","AddressDropdown","CreateAddress","AddIcon","useIntl","isTransporter","PackageTypesIcons","FoodIcon","SmBoxIcon","MedBoxIcon","BigBoxIcon","CreateNewOrder","props","open","setOpen","openConf","setOpenConf","handleClose","packageType","setPackageType","deliveryType","setDeliveryType","inputValue","setInputValue","deliverAddresses","setDeliverAddresses","selectedDeliveryAddress","setSelectedDeliveryAddress","selectedPickUpAddress","setSelectedPickUpAddress","loading","setLoading","loadingSubmit","setLoadingSubmit","deliveryCostRef","clientMobileNumberRef","orderIdRef","notesRef","heightRef","widthRef","lengthRef","weightRef","codAmountRef","pickAmountRef","intl","timer","setTimeout","then","res","data","clearTimeout","children","display","width","height","marginRight","fill","eve","createElement","style","className","event","target","name","value","formatMessage","id","CreatedBy","DeliveryParams","deliveryWay","TypeLoad","ClientMobileNumber","current","DeliveryPrice","CostLoad","DetailsLoad","LengthLoad","WidthLoad","HeightLoad","WeightLoad","qrCode","charAt","firstZero","replaced","replace","console","log","AddressClint","IdCity","cityId","OtherDetails","details","LatSender","latitude","LongSender","longitude","SenderAddressId","IdCityDes","OtherDetailsDes","LatReciver","LongReciver","ReciverAddressId","ReceiverAddressNum","phone_number","JSON","stringify","parse","server_response","OrderId","onSuccess","window"],"mappings":"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","sourcesContent":["import { Button, Dropdown, Form, Modal, Spinner } from \"react-bootstrap\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport translate from \"../i18n/translate\";\r\nimport {ReactComponent as SendIcon } from \"../assets/images/send.svg\";\r\nimport { CreateNewOrderReq, GetDefinedAddresses } from \"../APIs/OrdersAPIs\";\r\nimport {ReactComponent as FoodIcon} from \"../assets/images/food.svg\";\r\nimport {ReactComponent as SmBoxIcon} from \"../assets/images/smallBox.svg\";\r\nimport {ReactComponent as MedBoxIcon} from \"../assets/images/medbox.svg\";\r\nimport {ReactComponent as BigBoxIcon} from \"../assets/images/largebox.svg\";\r\nimport {ReactComponent as DeliveryTruckIcon} from \"../assets/images/deliveryTruck.svg\";\r\nimport {ReactComponent as LocationIcon} from \"../assets/images/location.svg\";\r\nimport {ReactComponent as AttachmentIcon} from \"../assets/images/attachment.svg\";\r\nimport { DeliveryTypes, PackageTypes } from \"./Orders/OrdersTabularView\";\r\nimport AddressDropdown from \"./AddressDropdown\";\r\nimport CreateAddress from \"./CreateAddress\";\r\nimport { AddIcon } from \"@chakra-ui/icons\";\r\nimport { useIntl } from \"react-intl\";\r\n\r\nimport { isTransporter } from \"../Util\"; /* edited (new import) */\r\n\r\nexport const PackageTypesIcons = {\r\n    \"1\": FoodIcon,\r\n    \"2\": SmBoxIcon,\r\n    \"3\": MedBoxIcon,\r\n    \"4\": BigBoxIcon\r\n};\r\n\r\n\r\nexport function CreateNewOrder(props){\r\n    const [open, setOpen] = useState(false);\r\n    const [openConf, setOpenConf] = useState(false);\r\n    const handleClose = () => { setOpen(false); }\r\n    const [packageType, setPackageType] = useState(\"1\");\r\n    const [deliveryType, setDeliveryType] = useState(\"1\");\r\n    const [inputValue, setInputValue] = useState('');\r\n    const [deliverAddresses, setDeliverAddresses] = useState([]);\r\n    const [selectedDeliveryAddress, setSelectedDeliveryAddress] = useState(\"\");\r\n    const [selectedPickUpAddress, setSelectedPickUpAddress] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [loadingSubmit, setLoadingSubmit] = useState(false);\r\n\r\n\tconst deliveryCostRef = useRef(); /* edited (deliveryCostRef added) */\r\n    const clientMobileNumberRef = useRef(); /* edited (clientMobileNumberRef added) */\r\n    const orderIdRef = useRef();\r\n    const notesRef = useRef();\r\n    const heightRef = useRef();\r\n    const widthRef = useRef();\r\n    const lengthRef = useRef();\r\n    const weightRef = useRef();\r\n    const codAmountRef = useRef();\r\n    const pickAmountRef = useRef();\r\n    const intl = useIntl();\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            if(open){\r\n                setLoading(true);\r\n                GetDefinedAddresses(inputValue).then((res)=>{\r\n                    setLoading(false);\r\n                    setDeliverAddresses(res.data);\r\n                });\r\n            }\r\n        }, 500)\r\n\r\n        return () => {\r\n            return clearTimeout(timer)\r\n        }\r\n    }, [inputValue, open]);\r\n    \r\n    return(\r\n        <>\r\n\t\t\t{/* edited (change button style if the user is transporter) */}\r\n            <Button className={`${props.children ? \"\" : !isTransporter() && \"btn-grad text-white\"}`} variant={isTransporter() && \"outline-light\"} onClick={()=>{\r\n                setOpen(true);\r\n            }}>\r\n                {props.children && props.children}\r\n                {!props.children && (\r\n                    <>\r\n                        <SendIcon style={{display: \"inline-block\", width: \"22px\", height: \"22px\", marginRight:\"5px\", fill:\"currentcolor\"}} />\r\n                        {translate(\"ORDERS.CREATE_ORDER\")}\r\n                    </>\r\n                )}\r\n            </Button>\r\n            <Modal size=\"lg\" show={open} onHide={handleClose} centered animation={false} backdrop=\"static\">\r\n                \r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{translate(\"ORDERS.CREATE_ORDER\")}</Modal.Title>\r\n                </Modal.Header>\r\n                \r\n                <Modal.Body>\r\n\r\n                    <div className=\"my-1\">\r\n                        {translate(\"ORDERS.WHAT_TO_TRANS\")}\r\n                    </div>\r\n\r\n                    <Dropdown \r\n                        className=\"togo-dropdown\" \r\n                        onSelect={(eve)=>{\r\n                            setPackageType(eve);\r\n                        }}>\r\n                        <Dropdown.Toggle variant=\"\" className=\"w-100 text-start d-flex align-items-center\">\r\n                            {React.createElement(PackageTypesIcons[packageType], {style: {width: \"20px\", height: \"20px\"}, className: \"me-1\"})}\r\n                            <div style={{width: \"97%\"}}>    \r\n                                {translate(\"ORDERS.\" + PackageTypes[packageType])}\r\n                            </div>\r\n                        </Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu className=\"w-100\">\r\n                            <Dropdown.Item eventKey=\"1\" className=\"d-flex\">\r\n                                <FoodIcon style={{ width: \"20px\", height: \"20px\" }} className=\"me-1\" />\r\n                                {translate(\"ORDERS.\" + PackageTypes[1])}\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item eventKey=\"4\" className=\"d-flex\">\r\n                                <BigBoxIcon style={{ width: \"20px\", height: \"20px\" }} className=\"me-1\" />\r\n                                {translate(\"ORDERS.\" + PackageTypes[4])}\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item eventKey=\"3\" className=\"d-flex\">\r\n                                <MedBoxIcon style={{ width: \"20px\", height: \"20px\" }} className=\"me-1\" />\r\n                                {translate(\"ORDERS.\" + PackageTypes[3])}\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item eventKey=\"2\" className=\"d-flex\">\r\n                                <SmBoxIcon style={{ width: \"20px\", height: \"20px\" }} className=\"me-1\" />\r\n                                {translate(\"ORDERS.\" + PackageTypes[2])}\r\n                            </Dropdown.Item>\r\n                        </Dropdown.Menu>\r\n                    </Dropdown>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/* edited (Client Mobile Number & Delivery Cost Fields added) */}\r\n                    {isTransporter() && <>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-6\">\r\n                                <Form.Control type=\"text\" className=\"mt-2\" placeholder=\"Client Mobile Number\" ref={clientMobileNumberRef} />\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <Form.Control type=\"text\" className=\"mt-2\" placeholder=\"Delivery Cost\" ref={deliveryCostRef} />\r\n                            </div>\r\n                        </div>\r\n                    </>}\r\n                    \r\n                    <Form.Group onChange={(event)=>{\r\n                        if(event.target.name === \"DeliveryType\"){\r\n                            setDeliveryType(event.target.value);\r\n                        }\r\n                    }}>\r\n                        \r\n                        <div className=\"d-flex align-items-center my-1\">\r\n                            <DeliveryTruckIcon style={{ width: \"15px\", height: \"15px\" }} className=\"me-1\" />\r\n                            {translate(\"ORDERS.DELIVERY_TYPE\")}\r\n                        </div>\r\n                        \r\n                        <div className=\"d-flex align-items-center\" style={{height: \"40px\"}}>\r\n                            <Form.Check\r\n                                type=\"radio\"\r\n                                label={translate(\"ORDERS.\" + DeliveryTypes[1])}\r\n                                name=\"DeliveryType\"\r\n                                id=\"formHorizontalRadios1\"\r\n                                value=\"1\"\r\n                                defaultChecked={deliveryType === \"1\"}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex align-items-center\" style={{height: \"40px\"}}>\r\n                            <Form.Check\r\n                                type=\"radio\"\r\n                                label={translate(\"ORDERS.\" + DeliveryTypes[2])}\r\n                                name=\"DeliveryType\"\r\n                                id=\"formHorizontalRadios2\"\r\n                                value=\"2\"\r\n                                defaultChecked={deliveryType === \"2\"}\r\n                            />\r\n                            {deliveryType === \"2\" &&\r\n                                <Form.Control \r\n                                    type=\"number\" \r\n                                    className=\"ms-auto w-25\" \r\n                                    placeholder={intl.formatMessage({id: \"ORDERS.AMOUNT\"})}\r\n                                    ref={codAmountRef}\r\n                                />\r\n                            }\r\n                        </div>\r\n                        <div className=\"d-flex align-items-center\" style={{height: \"40px\"}}>\r\n                            <Form.Check\r\n                                type=\"radio\"\r\n                                label={translate(\"ORDERS.\" + DeliveryTypes[3])}\r\n                                name=\"DeliveryType\"\r\n                                id=\"formHorizontalRadios3\"\r\n                                value=\"3\"\r\n                                defaultChecked={deliveryType === \"3\"}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex align-items-center\" style={{height: \"40px\"}}>\r\n                            <Form.Check\r\n                                type=\"radio\"\r\n                                label={translate(\"ORDERS.\" + DeliveryTypes[4])}\r\n                                name=\"DeliveryType\"\r\n                                id=\"formHorizontalRadios4\"\r\n                                value=\"4\"\r\n                                defaultChecked={deliveryType === \"4\"}\r\n                            />\r\n                            {deliveryType === \"4\" && \r\n                                <Form.Control \r\n                                    ref={pickAmountRef}\r\n                                    type=\"number\"\r\n                                    className=\"ms-auto w-25\"\r\n                                    placeholder={intl.formatMessage({id: \"ORDERS.AMOUNT\"})}\r\n                                />\r\n                            }\r\n                        </div>\r\n                    </Form.Group>\r\n                    <div className=\"d-flex align-items-end\">\r\n                        <div className=\"w-50 m-inline-e-2\">\r\n                            <div className=\"d-flex align-items-center my-1\">\r\n                                <LocationIcon style={{ width: \"15px\", height: \"15px\" }} className=\"me-1\" />\r\n                                {translate(\"ORDERS.PICKUP_ADDRESS\")}\r\n                            </div>\r\n\r\n                            <AddressDropdown \r\n                                loading={loading} \r\n                                addresses={deliverAddresses} \r\n                                onSearch={setInputValue} \r\n                                onSelect={setSelectedPickUpAddress} \r\n                                selectedAddress={selectedPickUpAddress} \r\n                            />\r\n                        </div>\r\n                        <div className=\"w-50 m-inline-e-2\">\r\n                            <div className=\"d-flex align-items-center my-1\">\r\n                                <SendIcon style={{ width: \"15px\", height: \"15px\" }} className=\"me-1\" />\r\n                                <p>{translate(\"ORDERS.DELIVER_TO\")}</p>\r\n                            </div>\r\n                            \r\n                            <AddressDropdown \r\n                                loading={loading} \r\n                                addresses={deliverAddresses} \r\n                                onSearch={setInputValue} \r\n                                onSelect={setSelectedDeliveryAddress} \r\n                                selectedAddress={selectedDeliveryAddress} \r\n                            />\r\n                        </div>\r\n                        <CreateAddress>\r\n                            <div className=\"btn-grad p-2 rounded-circle\">\r\n                                <AddIcon w={6} h={6} color=\"gray.50\" />\r\n                            </div>\r\n                        </CreateAddress>\r\n                    </div>\r\n                    <div className=\"d-flex align-items-center my-1\">\r\n                        <AttachmentIcon style={{ width: \"15px\", height: \"15px\" }} className=\"me-1\" />\r\n                        {translate(\"ORDERS.ATTACHMENTS_LABEL\")}\r\n                    </div>\r\n                    \r\n                    {packageType !== \"1\" &&\r\n                    <>\r\n                        <div className=\"my-1\">{translate(\"ORDERS.DIMENSIONS_LABEL\")}</div>\r\n                        <div className=\"d-flex\">\r\n                            <Form.Control \r\n                                type=\"number\" \r\n                                className=\"me-2\"\r\n                                placeholder=\"Height\" \r\n                                ref={heightRef}\r\n                            />\r\n                            <Form.Control \r\n                                type=\"number\" \r\n                                className=\"me-2\" \r\n                                placeholder=\"Width\" \r\n                                ref={widthRef}\r\n                            />\r\n                            <Form.Control \r\n                                type=\"number\" \r\n                                className=\"\" \r\n                                placeholder=\"Length\" \r\n                                ref={lengthRef}\r\n                            />\r\n                        </div>\r\n                        <Form.Control \r\n                            type=\"number\" \r\n                            className=\"mt-2\"\r\n                            placeholder=\"Weight\" \r\n                            ref={weightRef}\r\n                        />\r\n                    </>\r\n                    }\r\n                    <Form.Control type=\"text\" className=\"mt-2\" placeholder=\"Notes\" ref={notesRef} />\r\n                \r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button \r\n                        variant=\"\" \r\n                        className=\"togo-button w-100\" \r\n                        disabled={loadingSubmit}\r\n                        onClick={()=>{\r\n                            setLoadingSubmit(true);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet CreatedBy = \"\"; /* edited (CreatedBy variable added) */\r\n                            let DeliveryParams = {}; /* edited (DeliveryParams as empty object) */\r\n\r\n                            if (isTransporter()) { /* edited (add Client Mobile Number & Delivery Price to DeliveryParams if the user is transporter) */\r\n                                CreatedBy = \"Transporter\";\r\n\r\n                                DeliveryParams = {\r\n                                    deliveryWay: deliveryType,\r\n                                    TypeLoad: packageType,\r\n                                    ClientMobileNumber: clientMobileNumberRef.current.value, /* edited (add ClientMobileNumber) */\r\n                                    DeliveryPrice: deliveryCostRef.current.value, /* edited (add DeliveryPrice) */\r\n                                    CostLoad: (deliveryType === \"2\" && codAmountRef.current.value) || (deliveryType === \"4\" && pickAmountRef.current.value) || \"\", // 2 or 4\r\n                                    DetailsLoad: notesRef.current.value,\r\n                                    LengthLoad: lengthRef.current?.value || \"\",\r\n                                    WidthLoad: widthRef.current?.value || \"\",\r\n                                    HeightLoad: heightRef.current?.value || \"\",\r\n                                    WeightLoad: weightRef.current?.value || \"\",\r\n                                    qrCode: \"\"\r\n                                };\r\n\r\n\r\n                                /* edited (fix client mobile number intro) */\r\n                                if (DeliveryParams.ClientMobileNumber.charAt(0) === '0') {\r\n                                    const firstZero = DeliveryParams.ClientMobileNumber[0];\r\n                                    const replaced =  DeliveryParams.ClientMobileNumber.replace(firstZero, '+972');  \r\n                                    DeliveryParams.ClientMobileNumber = replaced;\r\n                                } \r\n\r\n                                console.log(\"Mobile Number: \" + DeliveryParams.ClientMobileNumber);\r\n\r\n                            } else {\r\n                                CreatedBy = \"Client\";\r\n\r\n                                DeliveryParams = {\r\n                                    deliveryWay: deliveryType,\r\n                                    TypeLoad: packageType,\r\n                                    CostLoad: (deliveryType === \"2\" && codAmountRef.current.value) || (deliveryType === \"4\" && pickAmountRef.current.value) || \"\", // 2 or 4\r\n                                    DetailsLoad: notesRef.current.value,\r\n                                    LengthLoad: lengthRef.current?.value || \"\",\r\n                                    WidthLoad: widthRef.current?.value || \"\",\r\n                                    HeightLoad: heightRef.current?.value || \"\",\r\n                                    WeightLoad: weightRef.current?.value || \"\",\r\n                                    qrCode: \"\"\r\n                                };\r\n                            }\r\n\r\n\t\t\t\t\t\t\t/* edited (old DeliveryParams commented) */\r\n                            /*const DeliveryParams = {\r\n                                deliveryWay: deliveryType,\r\n                                TypeLoad: packageType,\r\n                                CostLoad: (deliveryType === \"2\" && codAmountRef.current.value) || (deliveryType === \"4\" && pickAmountRef.current.value) || \"\" , // 2 or 4\r\n                                DetailsLoad: notesRef.current.value,\r\n                                LengthLoad: lengthRef.current?.value || \"\",\r\n                                WidthLoad: widthRef.current?.value || \"\",\r\n                                HeightLoad: heightRef.current?.value || \"\",\r\n                                WeightLoad: weightRef.current?.value || \"\",\r\n                                qrCode: \"\"\r\n                            };*/\r\n                            const AddressClint = {\r\n                                IdCity: selectedPickUpAddress.cityId,  // from selected pick up address\r\n                                OtherDetails: selectedPickUpAddress.details, // details from selected pickup address\r\n                                LatSender: selectedPickUpAddress.latitude, // from selected pick up address\r\n                                LongSender: selectedPickUpAddress.longitude, //  from selected pick up address\r\n                                SenderAddressId: selectedPickUpAddress.id, // from selected pick up address\r\n\r\n                                IdCityDes: selectedDeliveryAddress.cityId, // from selected delivery to address\r\n                                OtherDetailsDes: selectedDeliveryAddress.details, // details from selected delivery to address\r\n                                LatReciver: selectedDeliveryAddress.latitude, // from selected delivery to address\r\n                                LongReciver: selectedDeliveryAddress.longitude, // from selected delivery to address\r\n                                ReciverAddressId: selectedDeliveryAddress.id,// from selected delivery to address\r\n                                ReceiverAddressNum: selectedDeliveryAddress.phone_number\r\n                            };\r\n\r\n                            CreateNewOrderReq(JSON.stringify(DeliveryParams), CreatedBy /* edited (add CreatedBy parameter) */, JSON.stringify(AddressClint)).then((res)=>{\r\n\r\n                                console.log(\"---------------\\nres : \" + res.data);\r\n\r\n                                orderIdRef.current = JSON.parse(res.data.replace(\"}{\", \",\")).server_response[0].OrderId;\r\n                                //https://therichpost.com/reactjs-convert-html-into-pdf-working-functionality/\r\n                                \r\n                                setOpenConf(true);\r\n                                setOpen(false);\r\n                                setLoadingSubmit(false);\r\n                                props.onSuccess(); // to be removed\r\n                            });\r\n\r\n    /* - deliveryWay \r\n        This one from radio button for delivery type it contains four values \r\n            (Delivery = 1, Cache on delivery = 2, Pickup = 3, Pay and Pickup = 4)\r\n    - CostLoad   \r\n        This amount inserted in case of (Cache on delivery/Pay and pickup)\r\n    - TypeLoad   \r\n        This one from the list we pick Food or Small/Medium/Large package where \r\n            Food = 1, Small Package = 2, Medium Package =3, Large Package = 4\r\n    - qrCode\r\n        in case of submit with qrcode we will put the value else it will be empty */\r\n                        }}\r\n                    >\r\n                        {loadingSubmit && <Spinner animation=\"border\" size=\"sm\"/>} \r\n                        {translate(\"ORDERS.SUBMIT\")}\r\n                    </Button>\r\n                </Modal.Footer>\r\n\r\n                \r\n            </Modal>\r\n            <Modal \r\n                show={openConf} \r\n                onHide={()=>{\r\n                    \r\n                    setOpenConf(false);\r\n                }} \r\n                animation={false} \r\n                backdrop=\"static\"\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Confirmation</Modal.Title>\r\n                </Modal.Header>\r\n\r\n                <Modal.Body>\r\n                    <p>Would you like to print a waybill ?</p>\r\n                </Modal.Body>\r\n\r\n                <Modal.Footer>\r\n                    <Button \r\n                        variant=\"secondary\"\r\n                        onClick={()=>{\r\n                            setOpenConf(false);\r\n                        }}\r\n                    >\r\n                        No\r\n                    </Button>\r\n\r\n                    <Button \r\n                        variant=\"primary\"\r\n                        onClick={()=>{\r\n                            setOpenConf(false);\r\n                            window.open(\"/account/bill-for-order/\" + orderIdRef.current + \"?print=true\")\r\n                        }}\r\n                    >\r\n                        Yes\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n            \r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}