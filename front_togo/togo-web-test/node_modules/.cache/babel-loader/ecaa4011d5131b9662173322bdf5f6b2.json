{"ast":null,"code":"import{apiUrl}from\"../Constants/GeneralCont\";var axios=require(\"axios\");var requestHeaders={\"Access-Control-Allow-Origin\":\"*\",\"Content-Type\":\"application/x-www-form-urlencoded\"};export var PAGE_SIZE=10;export function getUserCreditialParams(){var requestParams=new URLSearchParams();requestParams.append(\"TransporterId\",localStorage.getItem(\"userId\"));requestParams.append(\"TokenDevice\",localStorage.getItem(\"TokenDevice\"));//TODO::change to language id\nrequestParams.append(\"LangId\",\"1\");requestParams.append(\"Idlanguage\",\"1\");//requestParams.append(\"PageSize\", PAGE_SIZE);\n//requestParams.append(\"PageNumber\", \"1\");\nrequestParams.append(\"CustomerId\",localStorage.getItem(\"userId\"));requestParams.append(\"ClientId\",localStorage.getItem(\"userId\"));// requestParams.append(\n//     \"TokenDevice\",\n//     \"43507034b1ad5612d9d540278cc4c6e033950727\"\n// );\nreturn requestParams;}export function getAuthenticationQR(){var params=getUserCreditialParams();params.append(\"CheckTypeFunction\",\"GenerateUUID\");return axios.post(apiUrl,params,{headers:requestHeaders}).then(function(response){if(response.data===\"Function Not Found\"){return\"null\";}return response.data;}).catch(function(error){console.log(error);});}export var checkAccessAPI=function checkAccessAPI(qrUUID){var params=new URLSearchParams();params.append(\"CheckTypeFunction\",\"getUserCredentials\");params.append(\"QRId\",qrUUID);return axios.post(apiUrl,params,{headers:requestHeaders}).then(function(response){if(response.data===\"Function Not Found\"||response.data.ResultArray[0].CustomerId===null){return false;}localStorage.setItem(\"userId\",response.data.ResultArray[0].CustomerId);localStorage.setItem(\"TokenDevice\",response.data.ResultArray[0].TokenDevice);localStorage.setItem(\"UserType\",response.data.ResultArray[0].UserType);localStorage.setItem(\"IsTransporterMaster\",response.data.ResultArray[0].IsTransporterMaster);localStorage.setItem(\"IsTeamMember\",response.data.ResultArray[0].IsTeamMember);return true;}).catch(function(error){console.log(error);});};","map":null,"metadata":{},"sourceType":"module"}