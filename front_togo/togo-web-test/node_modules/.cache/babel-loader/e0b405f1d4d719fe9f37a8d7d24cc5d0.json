{"ast":null,"code":"import _slicedToArray from\"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{NavLink,Route,Switch,useLocation,useRouteMatch}from\"react-router-dom\";import bell from\"../../assets/bell.png\";import{GetCurrentOrders,GetFinishedOrders,GetTransporterList}from\"../APIs/OrdersAPIs\";import{CreateNewOrder}from\"../CreateNewOrder\";import OrdersCardView from\"../Orders/OrdersCardView\";import{isTransporter}from\"../../Util\";export default function CurrentOrdersList(){var _useRouteMatch=useRouteMatch(),path=_useRouteMatch.path,url=_useRouteMatch.url;var location=useLocation();var _useState=useState(),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),clientInfo=_useState4[0],setClientInfo=_useState4[1];useEffect(function(){var fun=location.pathname.indexOf(\"history\")!=-1?GetFinishedOrders:GetCurrentOrders;if(isTransporter()){var parts=location.pathname.split(\"/\");fun=GetTransporterList.bind(null,parts[2]||\"NEW_ORDERS\");}fun().then(function(res){if(isTransporter()){setOrders(res.data.orders);setClientInfo(res.data.transporter[0]);}else{setClientInfo(res.data.clientDetails[0]);setOrders(res.data.orderDetails);}});},[location.pathname]);return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column h-100\"},/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:\"30%\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Hi \",clientInfo===null||clientInfo===void 0?void 0:clientInfo.fullname),/*#__PURE__*/React.createElement(\"div\",null,clientInfo===null||clientInfo===void 0?void 0:clientInfo.PhoneNumber)),/*#__PURE__*/React.createElement(\"img\",{style:{filter:\"drop-shadow(2px 4px 6px black)\"},src:bell})),/*#__PURE__*/React.createElement(\"p\",{className:\"fw-bold\"},\"What can we help you with?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(CreateNewOrder,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"align-items-center d-flex text-center\"},/*#__PURE__*/React.createElement(NavLink,{to:\"\".concat(url,\"/NEW_ORDERS\"),className:\"w-50 text-decoration-none py-2\",activeClassName:\"active-order\",isActive:function isActive(match,loca){return loca.pathname===\"/dashboard/\"||loca.pathname===\"/dashboard/NEW_ORDERS\";}},\"Current Orders\"),!isTransporter()&&/*#__PURE__*/React.createElement(NavLink,{to:\"\".concat(url,\"/historyorders\"),className:\"w-50 text-decoration-none py-2\",activeClassName:\"active-order\"},\"Orders History\"),isTransporter()&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavLink,{to:\"\".concat(url,\"/MY_ORDERS\"),className:\"w-50 text-decoration-none py-2\",activeClassName:\"active-order\"},\"Orders History\"),/*#__PURE__*/React.createElement(NavLink,{to:\"\".concat(url,\"/DELIVERED\"),className:\"w-50 text-decoration-none py-2\",activeClassName:\"active-order\"},\"Orders History\")))),/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:\"70%\",overflow:\"auto\"}},/*#__PURE__*/React.createElement(OrdersCardView,{orders:orders})));}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/Order/CurrentOrdersList.jsx"],"names":["React","useEffect","useState","NavLink","Route","Switch","useLocation","useRouteMatch","bell","GetCurrentOrders","GetFinishedOrders","GetTransporterList","CreateNewOrder","OrdersCardView","isTransporter","CurrentOrdersList","path","url","location","orders","setOrders","clientInfo","setClientInfo","fun","pathname","indexOf","parts","split","bind","then","res","data","transporter","clientDetails","orderDetails","flexBasis","fullname","PhoneNumber","filter","match","loca","overflow"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { NavLink, Route, Switch, useLocation, useRouteMatch } from \"react-router-dom\";\r\nimport bell from \"../../assets/bell.png\"\r\nimport { GetCurrentOrders, GetFinishedOrders, GetTransporterList } from \"../APIs/OrdersAPIs\";\r\nimport { CreateNewOrder } from \"../CreateNewOrder\";\r\nimport OrdersCardView from \"../Orders/OrdersCardView\";\r\nimport {isTransporter} from \"../../Util\";\r\n\r\nexport default function CurrentOrdersList() {\r\n    let { path, url } = useRouteMatch();\r\n    const location = useLocation();\r\n    const [orders, setOrders] = useState();\r\n    const [clientInfo, setClientInfo] = useState({});\r\n    \r\n    useEffect(() => {\r\n        let fun = location.pathname.indexOf(\"history\") != -1 ? GetFinishedOrders : GetCurrentOrders;\r\n        if(isTransporter()){\r\n            let parts = location.pathname.split(\"/\");\r\n\r\n            fun = GetTransporterList.bind(null, parts[2] || \"NEW_ORDERS\");\r\n        }\r\n        \r\n        \r\n        fun().then((res) => {\r\n            if(isTransporter()){\r\n                setOrders(res.data.orders);\r\n                setClientInfo(res.data.transporter[0]);\r\n            }else{\r\n                setClientInfo(res.data.clientDetails[0]);\r\n                setOrders(res.data.orderDetails);\r\n            }\r\n        });\r\n\r\n    }, [location.pathname]);\r\n\r\n    return (\r\n        <div className=\"d-flex flex-column h-100\">\r\n            <div style={{flexBasis: \"30%\"}}>\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <div>\r\n                        <div>Hi {clientInfo?.fullname}</div>\r\n                        <div>{clientInfo?.PhoneNumber}</div>\r\n                    </div>\r\n                    <img style={{filter: \"drop-shadow(2px 4px 6px black)\" }} src={bell} />\r\n                </div>\r\n                <p className=\"fw-bold\">\r\n                    What can we help you with?\r\n                </p>\r\n                <div className=\"text-center\">\r\n                    <CreateNewOrder />\r\n                </div>\r\n                <div className=\"align-items-center d-flex text-center\">\r\n                    <NavLink \r\n                        to={`${url}/NEW_ORDERS`} \r\n                        className={\"w-50 text-decoration-none py-2\"} \r\n                        activeClassName=\"active-order\"\r\n                        isActive={(match, loca)=>{\r\n                            return loca.pathname === \"/dashboard/\" || loca.pathname === \"/dashboard/NEW_ORDERS\";\r\n                        }}\r\n                    >\r\n                        Current Orders\r\n                    </NavLink>\r\n                    {\r\n                        !isTransporter() && <NavLink \r\n                        to={`${url}/historyorders`} \r\n                        className={\"w-50 text-decoration-none py-2\"} \r\n                        activeClassName=\"active-order\"\r\n                    >\r\n                        Orders History\r\n                    </NavLink>\r\n                    }\r\n\r\n                    {\r\n                        isTransporter() && <>\r\n                    <NavLink \r\n                        to={`${url}/MY_ORDERS`} \r\n                        className={\"w-50 text-decoration-none py-2\"} \r\n                        activeClassName=\"active-order\"\r\n                    >\r\n                        Orders History\r\n                    </NavLink>\r\n\r\n                    <NavLink \r\n                        to={`${url}/DELIVERED`} \r\n                        className={\"w-50 text-decoration-none py-2\"} \r\n                        activeClassName=\"active-order\"\r\n                    >\r\n                        Orders History\r\n                    </NavLink>\r\n                    </>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div \r\n                style={{\r\n                    flexBasis: \"70%\",\r\n                    overflow: \"auto\"\r\n                }}\r\n            >\r\n                <OrdersCardView orders={orders} />\r\n            </div>\r\n            \r\n            \r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}