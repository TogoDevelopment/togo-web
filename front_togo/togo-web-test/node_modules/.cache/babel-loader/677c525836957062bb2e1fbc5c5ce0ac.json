{"ast":null,"code":"import _slicedToArray from \"/home/system/togo-web-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/system/togo-web-test/src/components/VechicleDetails.jsx\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Button, Dropdown, Form, FormControl, InputGroup, Spinner } from \"react-bootstrap\";\nimport { GetVehicleImgs, SetVehicleInfo } from \"../APIs/LoginAPIs\";\nexport default function VehicleDetails() {\n  var _this = this;\n\n  var vehicleImgRef = useRef();\n  var registrationImgCode = useRef();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loadingSubmit = _useState2[0],\n      setLoadingSubmit = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      vehicleColors = _useState4[0],\n      setVehicleColors = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedVehicleColor = _useState6[0],\n      setSelectedVehicleColor = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      vehiclePhotos = _useState8[0],\n      setVehiclePhotos = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selectedVehiclePhotos = _useState10[0],\n      setSelectedVehiclePhotos = _useState10[1];\n\n  function onFileChange(event) {\n    var reader = new FileReader();\n    var fileInputName = event.target.name;\n\n    reader.onload = function (e) {\n      var dataUri = e.target.result;\n      var base64 = dataUri.substr(dataUri.indexOf(\",\") + 1);\n\n      if (fileInputName === \"registrationImg\") {\n        registrationImgCode.current = base64;\n      } else {\n        vehicleImgRef.current = base64;\n      }\n    };\n\n    if (event.currentTarget.files[0]) {\n      reader.readAsDataURL(event.currentTarget.files[0]);\n    }\n  }\n\n  useEffect(function () {\n    GetVehicleImgs().then(function (res) {\n      setVehicleColors(res.data.Color);\n      setSelectedVehicleColor(res.data.Color[0]);\n      setVehiclePhotos(res.data.Photos);\n      setSelectedVehiclePhotos(res.data.Photos[0]);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainbg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h1 p-3 text-center togo-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Create account / transporter\"), /*#__PURE__*/React.createElement(Form, {\n    className: \"m-auto w-75\",\n    onSubmit: function onSubmit(event) {\n      event.preventDefault(); //console.log(event.target);\n\n      SetVehicleInfo(event.target, selectedVehicleColor.ColorId, selectedVehiclePhotos.vehicleId, registrationImgCode.current, vehicleImgRef.current); // console.log(event.target[0].value)\n      // console.log(event.target.elements.FirstName.value)\n      // console.log(event.target.FirstName.value)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center togo-border h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Vehicle details\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row row-cols-3 align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, vehiclePhotos.map(function (photo) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onClick: function onClick() {\n        setSelectedVehiclePhotos(photo);\n      },\n      className: \"col p-2 rounded-circle\\n                                        \".concat((selectedVehiclePhotos === null || selectedVehiclePhotos === void 0 ? void 0 : selectedVehiclePhotos.vehicleId) === photo.vehicleId ? \"btn-grad\" : \"\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/togo/public/img/\".concat(photo.PhotoUrl),\n      alt: photo.Name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }));\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"regNumber\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, \"Registration number\"), /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"text\",\n    className: \"bg-white rounded-22\",\n    name: \"RegNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"RegExpDate\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, \"Registration expiration date\"), /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"date\",\n    className: \"bg-white rounded-22\",\n    name: \"RegDate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"vehicleName\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, \"Vehicle number\"), /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"text\",\n    className: \"bg-white rounded-22\",\n    name: \"VehicleNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"vehicleColor\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, \"Vehicle color\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"togo-outling mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    className: \"rounded-22 bg-white\",\n    onSelect: function onSelect(eve) {\n      setSelectedVehicleColor(vehicleColors[eve]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    variant: \"\",\n    className: \"w-100 text-start d-flex align-items-center shadow-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"97%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 33\n    }\n  }, selectedVehicleColor === null || selectedVehicleColor === void 0 ? void 0 : selectedVehicleColor.Name)), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    className: \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, vehicleColors.map(function (color, index) {\n    return /*#__PURE__*/React.createElement(Dropdown.Item, {\n      eventKey: index,\n      key: index,\n      className: \"d-flex\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 41\n      }\n    }, \"\".concat(color.Name));\n  }))))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, \"Delivery Types\"), /*#__PURE__*/React.createElement(Form.Check, {\n    label: \"Food\",\n    type: \"checkbox\",\n    id: \"inline-1\",\n    name: \"foodPkg\",\n    value: \"1\",\n    className: \"togo-checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Check, {\n    label: \"Small Package & Envelops\",\n    type: \"checkbox\",\n    id: \"sm-pkg\",\n    name: \"smPkg\",\n    value: \"2\",\n    className: \"togo-checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Check, {\n    label: \"Medium Package\",\n    type: \"checkbox\",\n    id: \"inline-2\",\n    name: \"mdPkg\",\n    value: \"3\",\n    className: \"togo-checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Check, {\n    label: \"Large Package\",\n    type: \"checkbox\",\n    id: \"inline-3\",\n    name: \"lgPkg\",\n    value: \"4\",\n    className: \"togo-checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formGridEmail\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"file\",\n    className: \"bg-white rounded-22\",\n    accept: \"image/*\",\n    name: \"vehicleImg\",\n    onChange: onFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formGridEmail\",\n    className: \"m-inline-e-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-2 togo-outling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    type: \"file\",\n    className: \"bg-white rounded-22\",\n    accept: \"image/*\",\n    name: \"registrationImg\",\n    onChange: onFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"\",\n    type: \"submit\",\n    className: \"d-block m-auto rounded-22 togo-button w-25\",\n    disabled: loadingSubmit // onClick={(event)=>{\n    //     setLoadingSubmit(true);\n    //     // SetTransporterPersonalInfo(\n    //     // ).then((res) => {\n    //     //     setLoadingSubmit(false);\n    //     //     history.push(\"/business-info\")\n    //     // });\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }, loadingSubmit && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 39\n    }\n  }), \"Accept\")));\n}","map":{"version":3,"sources":["/home/system/togo-web-test/src/components/VechicleDetails.jsx"],"names":["React","useEffect","useRef","useState","Button","Dropdown","Form","FormControl","InputGroup","Spinner","GetVehicleImgs","SetVehicleInfo","VehicleDetails","vehicleImgRef","registrationImgCode","loadingSubmit","setLoadingSubmit","vehicleColors","setVehicleColors","selectedVehicleColor","setSelectedVehicleColor","vehiclePhotos","setVehiclePhotos","selectedVehiclePhotos","setSelectedVehiclePhotos","onFileChange","event","reader","FileReader","fileInputName","target","name","onload","e","dataUri","result","base64","substr","indexOf","current","currentTarget","files","readAsDataURL","then","res","data","Color","Photos","preventDefault","ColorId","vehicleId","map","photo","PhotoUrl","Name","eve","width","color","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Button, Dropdown, Form, FormControl, InputGroup, Spinner } from \"react-bootstrap\";\r\nimport { GetVehicleImgs, SetVehicleInfo } from \"../APIs/LoginAPIs\";\r\n\r\nexport default function VehicleDetails(){\r\n    const vehicleImgRef = useRef();\r\n    const registrationImgCode = useRef();\r\n    const [loadingSubmit, setLoadingSubmit] = useState(false);\r\n    const [vehicleColors, setVehicleColors] = useState([]);\r\n    \r\n    const [selectedVehicleColor, setSelectedVehicleColor] = useState();\r\n    \r\n    const [vehiclePhotos, setVehiclePhotos] = useState([]);\r\n    const [selectedVehiclePhotos, setSelectedVehiclePhotos] = useState();\r\n\r\n    function onFileChange(event){\r\n        \r\n        let reader = new FileReader();\r\n        let fileInputName = event.target.name;\r\n        reader.onload = function (e) {\r\n            let dataUri = e.target.result;\r\n            let base64 = dataUri.substr(dataUri.indexOf(\",\") + 1);\r\n            if(fileInputName === \"registrationImg\"){\r\n                registrationImgCode.current = base64;\r\n            }else{\r\n                vehicleImgRef.current = base64;\r\n            }\r\n        }\r\n        if(event.currentTarget.files[0]){\r\n            reader.readAsDataURL(event.currentTarget.files[0]);\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        GetVehicleImgs().then((res) => {\r\n            setVehicleColors(res.data.Color);\r\n            setSelectedVehicleColor(res.data.Color[0]);\r\n            \r\n            setVehiclePhotos(res.data.Photos);\r\n            setSelectedVehiclePhotos(res.data.Photos[0]);\r\n        });\r\n    }, []);\r\n    return (\r\n        <div className=\"mainbg\">\r\n            <div className=\"h1 p-3 text-center togo-button\">\r\n                Create account / transporter\r\n            </div>\r\n            <Form\r\n                className=\"m-auto w-75\" \r\n                onSubmit={(event) => {\r\n                    event.preventDefault();\r\n                    //console.log(event.target);\r\n                    SetVehicleInfo(\r\n                        event.target, \r\n                        selectedVehicleColor.ColorId,\r\n                        selectedVehiclePhotos.vehicleId,\r\n                        registrationImgCode.current, \r\n                        vehicleImgRef.current\r\n                    );\r\n                    // console.log(event.target[0].value)\r\n                    // console.log(event.target.elements.FirstName.value)\r\n                    // console.log(event.target.FirstName.value)\r\n                    \r\n                }}\r\n            >\r\n                <p className=\"text-center togo-border h4\">Vehicle details</p>\r\n                <div className=\"container\">\r\n                    <div className=\"row row-cols-3 align-items-center\">\r\n                        {vehiclePhotos.map((photo)=>{\r\n                            return (\r\n                                <div \r\n                                    onClick={() => {\r\n                                        setSelectedVehiclePhotos(photo);\r\n                                    }}\r\n                                    className={`col p-2 rounded-circle\r\n                                        ${selectedVehiclePhotos?.vehicleId === photo.vehicleId ? \r\n                                            \"btn-grad\" : \"\"}`\r\n                                    }\r\n                                >\r\n                                    <img src={`/togo/public/img/${photo.PhotoUrl}`} alt={photo.Name} />\r\n                                </div>\r\n                            )\r\n                        })}\r\n                        \r\n                        \r\n                    </div>\r\n                </div>\r\n\r\n                <Form.Group controlId=\"regNumber\" className=\"m-inline-e-2\">\r\n                    <Form.Label>Registration number</Form.Label>\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n                        <FormControl\r\n                            type=\"text\" \r\n                            className=\"bg-white rounded-22\"\r\n                            name=\"RegNumber\" \r\n                        />\r\n                    </InputGroup> \r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"RegExpDate\" className=\"m-inline-e-2\">\r\n                    <Form.Label>Registration expiration date</Form.Label>\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n                        <FormControl\r\n                            type=\"date\" \r\n                            className=\"bg-white rounded-22\"\r\n                            name=\"RegDate\" \r\n                        />\r\n                    </InputGroup> \r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"vehicleName\" className=\"m-inline-e-2\">\r\n                    <Form.Label>Vehicle number</Form.Label>\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n                        <FormControl\r\n                            type=\"text\" \r\n                            className=\"bg-white rounded-22\"\r\n                            name=\"VehicleNumber\" \r\n                        />\r\n                    </InputGroup> \r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"vehicleColor\" className=\"m-inline-e-2\">\r\n                    <Form.Label>Vehicle color</Form.Label>\r\n                    <div className=\"togo-outling mb-2\">\r\n                        <Dropdown\r\n                            className=\"rounded-22 bg-white\"\r\n                            onSelect={(eve)=>{\r\n                                setSelectedVehicleColor(vehicleColors[eve])\r\n                            }}\r\n                        >\r\n                            <Dropdown.Toggle variant=\"\" className=\"w-100 text-start d-flex align-items-center shadow-none\">\r\n                                <div style={{width: \"97%\"}}>\r\n                                    {\r\n                                        selectedVehicleColor?.Name\r\n                                    }\r\n                                </div>\r\n                            </Dropdown.Toggle>\r\n\r\n                            <Dropdown.Menu className=\"w-100\">\r\n                                {vehicleColors.map((color, index) => {\r\n                                    return (\r\n                                        <Dropdown.Item eventKey={index} key={index} className=\"d-flex\">\r\n                                            {`${color.Name}`}\r\n                                        </Dropdown.Item>\r\n                                    )\r\n                                })}\r\n\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n                    </div>\r\n                </Form.Group>\r\n\r\n                <p>Delivery Types</p>\r\n\r\n                <Form.Check\r\n                    label=\"Food\"\r\n                    type=\"checkbox\"\r\n                    id={`inline-1`}\r\n                    name=\"foodPkg\"\r\n                    value={\"1\"}\r\n                    className=\"togo-checkbox\"\r\n                />\r\n                <Form.Check\r\n                    label=\"Small Package & Envelops\"\r\n                    type=\"checkbox\"\r\n                    id={`sm-pkg`}\r\n                    name=\"smPkg\"\r\n                    value={\"2\"}\r\n                    className=\"togo-checkbox\"\r\n                />\r\n                <Form.Check\r\n                    label=\"Medium Package\"\r\n                    type=\"checkbox\"\r\n                    id={`inline-2`}\r\n                    name=\"mdPkg\"\r\n                    value={\"3\"}\r\n                    className=\"togo-checkbox\"\r\n                />\r\n                <Form.Check\r\n                    label=\"Large Package\"\r\n                    type=\"checkbox\"\r\n                    id={`inline-3`}\r\n                    name=\"lgPkg\"\r\n                    value={\"4\"}\r\n                    className=\"togo-checkbox\"\r\n                />\r\n                \r\n                <Form.Group controlId=\"formGridEmail\" className=\"m-inline-e-2\">\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n                        <FormControl\r\n                            type=\"file\"\r\n                            className=\"bg-white rounded-22\"\r\n                            accept=\"image/*\"\r\n                            name=\"vehicleImg\"\r\n                            onChange={onFileChange}\r\n                        />\r\n\r\n                    </InputGroup>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formGridEmail\" className=\"m-inline-e-2\">\r\n                    <InputGroup className=\"mb-2 togo-outling\">\r\n                        <FormControl\r\n                            type=\"file\"\r\n                            className=\"bg-white rounded-22\"\r\n                            accept=\"image/*\"\r\n                            name=\"registrationImg\"\r\n                            onChange={onFileChange}\r\n                        />\r\n\r\n                    </InputGroup>\r\n                </Form.Group>\r\n                <Button\r\n                    variant=\"\" \r\n                    type=\"submit\"\r\n                    className=\"d-block m-auto rounded-22 togo-button w-25\" \r\n                    disabled={loadingSubmit}\r\n                    // onClick={(event)=>{\r\n                    //     setLoadingSubmit(true);\r\n                    //     // SetTransporterPersonalInfo(\r\n                    //     // ).then((res) => {\r\n                    //     //     setLoadingSubmit(false);\r\n                    //     //     history.push(\"/business-info\")\r\n                    //     // });\r\n                    // }}\r\n                >\r\n                    {loadingSubmit && <Spinner animation=\"border\" size=\"sm\"/>} \r\n                    Accept\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}